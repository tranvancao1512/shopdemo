(function(e){var t={},n,r,i=document,s=window,o=i.documentElement,u=e.expando;e.event.special.inview={add:function(n){t[n.guid+"-"+this[u]]={data:n,$element:e(this)}},remove:function(e){try{delete t[e.guid+"-"+this[u]]}catch(n){}}};e(s).bind("scroll resize",function(){n=r=null});!o.addEventListener&&o.attachEvent&&o.attachEvent("onfocusin",function(){r=null});setInterval(function(){var u=e(),l,c=0;e.each(t,function(e,t){var n=t.data.selector,r=t.$element;u=u.add(n?r.find(n):r)});if(l=u.length){var v;if(!(v=n)){var m={height:s.innerHeight,width:s.innerWidth};if(!m.height&&((v=i.compatMode)||!e.support.boxModel))v="CSS1Compat"===v?o:i.body,m={height:v.clientHeight,width:v.clientWidth};v=m}n=v;for(r=r||{top:s.pageYOffset||o.scrollTop||i.body.scrollTop,left:s.pageXOffset||o.scrollLeft||i.body.scrollLeft};c<l;c++)if(e.contains(o,u[c])){v=e(u[c]);var g=v.height(),y=v.width(),b=v.offset(),m=v.data("inview");if(!r||!n)break;b.top+g>r.top&&b.top<r.top+n.height&&b.left+y>r.left&&b.left<r.left+n.width?(y=r.left>b.left?"right":r.left+n.width<b.left+y?"left":"both",g=r.top>b.top?"bottom":r.top+n.height<b.top+g?"top":"both",b=y+"-"+g,(!m||m!==b)&&v.data("inview",b).trigger("inview",[!0,y,g])):m&&v.data("inview",!1).trigger("inview",[!1])}}},250)})(jQuery)