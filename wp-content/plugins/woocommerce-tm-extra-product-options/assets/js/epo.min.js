!function(t){"use strict";var e=Array.prototype.slice;t.extend(t.event.special,{resizestop:{add:function(e){var i=e.handler;t(this).resize(function(r){var s;clearTimeout(i._timer),r.type="resizestop",s=t.proxy(i,this,r),i._timer=setTimeout(s,e.data||200)})}},resizestart:{add:function(e){var i=e.handler;t(this).on("resize",function(r){clearTimeout(i._timer),i._started||(r.type="resizestart",i.apply(this,arguments),i._started=!0),i._timer=setTimeout(t.proxy(function(){i._started=!1},this),e.data||300)})}}}),t.extend(t.fn,{resizestop:function(){t(this).on.apply(this,["resizestop"].concat(e.call(arguments)))},resizestart:function(){t(this).on.apply(this,["resizestart"].concat(e.call(arguments)))}})}(window.jQuery);!function(){"use strict";void 0===Number.isFinite&&(Number.isFinite=function(e){return"number"==typeof e&&isFinite(e)}),Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},void 0===Number.isNaN&&(Number.isNaN=function(e){return e!==e}),String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{value:function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e}}),String.prototype.endsWith||Object.defineProperty(String.prototype,"endsWith",{value:function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e}}),String.prototype.isNumeric||Object.defineProperty(String.prototype,"isNumeric",{value:function(){return!isNaN(parseFloat(this))&&isFinite(this)}}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){var n,r,o,i;if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(n=Object(e),r=1;r<arguments.length;r+=1)if(void 0!==(o=arguments[r])&&null!==o)for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i]);return n},writable:!0,configurable:!0}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){var t,n,r,o,i;if(null===this||void 0===this||!1===this)throw TypeError('"this" is null or not defined');if(t=Object(this),n=t.length>>>0,"function"!=typeof e)throw TypeError("predicate must be a function");for(r=arguments[1],o=0;o<n;){if(i=t[o],e.call(r,i,o,t))return i;o++}},configurable:!0,writable:!0}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){var t,n,r,o,i;if(null===this||void 0===this||!1===this)throw new TypeError('"this" is null or not defined');if(t=Object(this),n=t.length>>>0,"function"!=typeof e)throw new TypeError("predicate must be a function");for(r=arguments[1],o=0;o<n;){if(i=t[o],e.call(r,i,o,t))return o;o++}return-1},configurable:!0,writable:!0}),Function.prototype.bind||function(){var e=Array.prototype.slice;Function.prototype.bind=function(){var t=this,n=arguments[0],r=e.call(arguments,1);if("function"!=typeof t)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");return function(){return r.push.apply(r,arguments),t.apply(n,r)}}}()}(),window.jQuery.jMaskGlobals={maskElements:".tc-extra-product-options input"},function(e){"use strict";e.epoAPI={},e.epoAPI.error=!1,e.epoAPI.math={},e.epoAPI.dom={},e.epoAPI.util={},e.epoAPI.locale={},e.epoAPI.template={},e.epoAPI.math.toFloat=function(e){var t;return"string"!=typeof e&&"number"!=typeof e||isNaN(e)?0:(t=parseFloat(e),isNaN(t)?e:t)},e.epoAPI.math.toInt=function(e){var t;return"string"!=typeof e&&"number"!=typeof e||isNaN(e)||""===e?0:(t=parseInt(e,10),isNaN(t)?e:t)},e.epoAPI.math.round=function(e,t,n){var r,o,i,a;if(t=parseInt(t,10),Number.isFinite(t)||(t=0),r=Math.pow(10,t),e*=r,a="number"==typeof e&&e?e<0?-1:1:0,i=e%1==.5*a,o=Math.floor(e),i)switch(n){case"PHP_ROUND_HALF_DOWN":e=o+(a<0?1:0);break;case"PHP_ROUND_HALF_EVEN":e=o+o%2*a;break;case"PHP_ROUND_HALF_ODD":e=o+(o%2?0:1);break;default:e=o+(a>0?1:0)}return i||(e=Math.round(e)),e/r},e.epoAPI.dom.id=function(e){return void 0===e?e:"string"!=typeof e&&"number"!=typeof e||"number"==typeof e&&isNaN(e)?e.toString():e.toString().replace(/(%|:|\.|\[|\]|,|=)/g,"\\$1")},e.epoAPI.dom.scroll=function(){var e,t;return window.pageYOffset?(t=window.pageYOffset,e=window.pageXOffset):document.documentElement&&document.documentElement.scrollTop?(t=document.documentElement.scrollTop,e=document.documentElement.scrollLeft):document.body&&(t=document.body.scrollTop,e=document.body.scrollLeft),{left:e,top:t}},e.epoAPI.dom.size=function(){var e,t,n,r,o,i;return window.innerHeight&&window.scrollMaxY?(t=window.innerWidth+window.scrollMaxX,e=window.innerHeight+window.scrollMaxY):document.body.scrollHeight>document.body.offsetHeight?(t=document.body.scrollWidth,e=document.body.scrollHeight):(t=document.body.offsetWidth,e=document.body.offsetHeight),window.innerHeight?(o=document.documentElement.clientWidth?document.documentElement.clientWidth:window.innerWidth,i=window.innerHeight):document.documentElement&&document.documentElement.clientHeight?(o=document.documentElement.clientWidth,i=document.documentElement.clientHeight):document.body&&(o=document.body.clientWidth,i=document.body.clientHeight),n=e<i?i:e,r=t<o?o:t,{fullWidth:r,fullHeight:n,visibleWidth:o,visibleHeight:i,totalWidth:t,totalHeight:e}},e.epoAPI.util.trim=function(e){return"string"==typeof e?e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""):e},e.epoAPI.util.parseJSON=function(t){var n,r=window.JSON;try{if((n=r.parse(t+""))&&"object"==typeof n&&null!==n)return n}catch(t){return e.epoAPI.error=t,!1}return!1},e.epoAPI.util.decodeHTML=function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value},e.epoAPI.util.getStorage=function(e){var t,n;try{return t=window[e],n="__storage_test__",t.setItem(n,n),t.removeItem(n),t}catch(e){return!1}},e.epoAPI.locale.getSystemDecimalSeparator=function(){var e=1.1;return e=/^1(.+)1$/.exec(e.toLocaleString())[1]},e.epoAPI.template.html=function(e,t){var n=e(t);return n=n.replace("/*<![CDATA[*/",""),n=n.replace("/*]]>*/","")},e.epoAPI.filters={},e.epoAPI.addFilter=function(t,n,r,o){var i;return r=parseInt(r,10),isNaN(r)&&(r=10),o=parseInt(o,10),isNaN(o)&&(o=1),i=n+"_"+r,e.epoAPI.filters[t]||(e.epoAPI.filters[t]={}),e.epoAPI.filters[t][r]||(e.epoAPI.filters[t][r]={}),e.epoAPI.filters[t][r][i]={func:n,accepted_args:o},!0},e.epoAPI.removeFilter=function(t,n,r){var o;return r=parseInt(r,10),isNaN(r)&&(r=10),o=n+"_"+r,!!(e.epoAPI.filters[t]&&e.epoAPI.filters[t][r]&&e.epoAPI.filters[t][r][o])&&(delete e.epoAPI.filters[t][r][o],!0)},e.epoAPI.applyFilter=function(t,n){var r,o=e.makeArray(arguments);return o.splice(0,1),e.epoAPI.filters[t]?(r=e.epoAPI.filters[t],e.each(r,function(t,r){e.each(r,function(e,t){var r=t.func;r instanceof Function?n=r.apply(null,o):window[r]&&window[r]instanceof Function&&(n=window[r].apply(null,o))})}),n):n},e.tc_add_filter=e.epoAPI.addFilter,e.tc_remove_filter=e.epoAPI.removeFilter,e.tc_apply_filters=e.epoAPI.applyFilter}(window.jQuery),function(e){"use strict";function t(e,t){return e=Math.round(Math.abs(e)),isNaN(e)?t:e}function n(e,t){var r,o;return Array.isArray(e)?e.map(e,function(e){return n(e,t)}):"number"==typeof(e=e||0)?e:(t=t||".",r=new RegExp("[^0-9-"+t+"]",["g"]),o=parseFloat((""+e).replace(/\((?=\d+)(.*)\)/,"-$1").replace(r,"").replace(t,".")),isNaN(o)?0:o)}function r(e,r){var o,i;return r=t(r,2),o=Number(n(e)+"e"+r),i=Math.round(o),Number(i+"e-"+r).toFixed(r)}function o(e,i){var a,c,s,l;return Array.isArray(e)?e.map(e,function(e){return o(e,i)}):(e=n(e),i?(i.precision=t(i.precision),i.format&&i.symbol?(a={pos:i.format,neg:i.format.replace("-","").replace("%v","-%v"),zero:i.format},c=e>0?a.pos:e<0?a.neg:a.zero,i.opts={precision:i.precision,thousand:i.thousand,decimal:i.decimal},e=c.replace("%s",i.symbol).replace("%v",o(Math.abs(e),i.opts))):e=(e<0?"-":"")+((l=(s=parseInt(r(Math.abs(e||0),i.precision),10)+"").length>3?s.length%3:0)?s.substr(0,l)+i.thousand:"")+s.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+i.thousand)+(i.precision?i.decimal+r(Math.abs(e),i.precision).split(".")[1]:""),e):e)}e.epoAPI.math.unformat=n,e.epoAPI.math.format=o,e.epoAPI.math.toFixed=r}(window.jQuery),function(e){"use strict";var t,n=/\r?\n/g,r=/^(?:checkbox|radio)$/i,o=/^(?:submit|button|image|reset|file)$/i,i=/^(?:input|select|textarea|keygen)/i;e.easing.easeInExpo||(t=function(e){return Math.pow(e,6)},e.easing.easeInExpo=t,e.easing.easeOutExpo=function(e){return 1-t(1-e)},e.easing.easeInOutExpo=function(e){return e<.5?t(2*e)/2:1-t(-2*e+2)/2}),e.fn.extend({tmcheckboxes:function(){var e=this.find(":checkbox:not('.tm-default-checkbox')").not(".wp-tab-panel :checkbox, .tm-weekdays-picker-wrap :checkbox, .tm-months-picker-wrap :checkbox");return e.wrap('<label class="tm-epo-switch-wrapper-label"></label>'),e.wrap('<span class="tm-epo-switch-wrapper tc"></span>'),e.after('<span class="tc-label tm-epo-switch tc"></span>'),this},tcSerializeArray:function(){return this.find(":input").filter(function(){var t=this.type;return this.name&&!e(this).is(":disabled")&&i.test(this.nodeName)&&!o.test(t)&&(this.checked||!r.test(t))}).map(function(t,r){var o=e(this).val();return null===o?null:Array.isArray(o)?e.map(o,function(e){return{name:r.name,value:e.replace(n,"\r\n")}}):{name:r.name,value:o.replace(n,"\r\n")}}).get()},tcSerializeObject:function(){var t={},n=this.tcSerializeArray();return e.each(n,function(){void 0!==t[this.name]&&this.name.endsWith("[]")?(t[this.name].push||(t[this.name]=[t[this.name]]),t[this.name].push(this.value||"")):t[this.name]=this.value||""}),t},tcScrollTo:function(t,n,r){var o=this;return 0===(t=e(t)).length?this:(n||(n=0),r||(r=0),o[0].self===window?o=e("html, body"):(o.find(".woodmart-scroll-content").length&&(o=o.find(".woodmart-scroll-content")),o.offset()?r+=o.scrollTop()-o.offset().top:o=e("html, body")),o.animate({scrollTop:e(t).offset().top+r},n))},tcClone:function(){var t,n,r,o,i=e.fn.clone.apply(this,arguments),a=this.find("textarea").add(this.filter("textarea")),c=i.find("textarea").add(i.filter("textarea")),s=this.find("select").add(this.filter("select")),l=i.find("select").add(i.filter("select"));for(t=0,n=a.length;t<n;t+=1)e(c[t]).val(e(a[t]).val());for(t=0,n=s.length;t<n;t+=1)for(r=0,o=s[t].options.length;r<o;r+=1)!0===s[t].options[r].selected&&(l[t].options[r].selected=!0);return i}})}(window.jQuery);!function(t){"use strict";function e(t,e){var a;for(a=0;a<t.length;a++)t[a]+=e;return t}function a(t,e,a,n){var h;for(h=0;h<n;h++)if(t[a+h]!==e[h])return!1;return!0}var n=function(t){this.value=t},h=["round","ceil","floor","abs","exp","sqrt","sin","cos","tan","pi","(",")","P","C","asin","acos","atan","7","8","9","int","cosh","acosh","ln","^","root","4","5","6","/","!","tanh","atanh","Mod","1","2","3","*","sinh","asinh","e","log","0",".","+","-",",","Sigma","n","Pi","pow"],o=["round","ceil","floor","abs","exp","sqrt","sin","cos","tan","&pi;","(",")","P","C","asin","acos","atan","7","8","9","Int","cosh","acosh"," ln","^","root","4","5","6","&divide;","!","tanh","atanh"," Mod ","1","2","3","&times;","sinh","asinh","e"," log","0",".","+","-",",","&Sigma;","n","&Pi;","pow"],p=[],u=[[],["1","2","3","7","8","9","4","5","6","+","-","*","/","(",")","^","!","P","C","e","0",".",",","n"],["pi","ln","Pi"],["round","ceil","floor","abs","exp","sqrt"],["sin","cos","tan","Del","int","Mod","log","pow"],["asin","acos","atan","cosh","root","tanh","sinh"],["acosh","atanh","asinh","Sigma"]],s=[0,0,0,0,0,0,0,0,0,3,4,5,10,10,0,0,0,1,1,1,0,0,0,0,10,0,1,1,1,2,7,0,0,2,1,1,1,2,0,0,3,0,1,6,9,9,11,12,13,12,8],l={0:11,1:0,2:3,3:0,4:0,5:0,6:0,7:11,8:11,9:1,10:10,11:0,12:11,13:0},i={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,9:!0,12:!0,13:!0},r={0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0,10:!0,11:!0,12:!0,13:!0},f={0:!0,3:!0,4:!0,8:!0,12:!0,13:!0},v={},c={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,12:!0,13:!0},y={1:!0};n.math={isDegree:!0,acos:function(t){return n.math.isDegree?180/Math.PI*Math.acos(t):Math.acos(t)},add:function(t,e){return t+e},asin:function(t){return n.math.isDegree?180/Math.PI*Math.asin(t):Math.asin(t)},atan:function(t){return n.math.isDegree?180/Math.PI*Math.atan(t):Math.atan(t)},acosh:function(t){return Math.log(t+Math.sqrt(t*t-1))},asinh:function(t){return Math.log(t+Math.sqrt(t*t+1))},atanh:function(t){return Math.log((1+t)/(1-t))},C:function(t,e){var a,h=1,o=t-e,p=e;for(p<o&&(p=o,o=e),a=p+1;a<=t;a++)h*=a;return h/n.math.fact(o)},changeSign:function(t){return-t},cos:function(t){return n.math.isDegree&&(t=n.math.toRadian(t)),Math.cos(t)},cosh:function(t){return(Math.pow(Math.E,t)+Math.pow(Math.E,-1*t))/2},div:function(t,e){return t/e},fact:function(t){var e,a;if(t%1!=0)return"NaN";for(e=1,a=2;a<=t;a++)e*=a;return e},inverse:function(t){return 1/t},log:function(t){return Math.log(t)/Math.log(10)},mod:function(t,e){return t%e},mul:function(t,e){return t*e},P:function(t,e){var a,n=1;for(a=Math.floor(t)-Math.floor(e)+1;a<=Math.floor(t);a++)n*=a;return n},Pi:function(t,e,a){var n,h=1;for(n=t;n<=e;n++)h*=Number(a.postfixEval({n:n}));return h},pow10x:function(t){for(var e=1;t--;)e*=10;return e},sigma:function(t,e,a){var n,h=0;for(n=t;n<=e;n++)h+=Number(a.postfixEval({n:n}));return h},sin:function(t){return n.math.isDegree&&(t=n.math.toRadian(t)),Math.sin(t)},sinh:function(t){return(Math.pow(Math.E,t)-Math.pow(Math.E,-1*t))/2},sub:function(t,e){return t-e},tan:function(t){return n.math.isDegree&&(t=n.math.toRadian(t)),Math.tan(t)},tanh:function(t){return n.sinha(t)/n.cosha(t)},toRadian:function(t){return t*Math.PI/180}},p=[Math.round,Math.ceil,Math.floor,Math.abs,Math.exp,Math.sqrt,n.math.sin,n.math.cos,n.math.tan,"PI","(",")",n.math.P,n.math.C,n.math.asin,n.math.acos,n.math.atan,"7","8","9",Math.floor,n.math.cosh,n.math.acosh,Math.log,Math.pow,Math.sqrt,"4","5","6",n.math.div,n.math.fact,n.math.tanh,n.math.atanh,n.math.mod,"1","2","3",n.math.mul,n.math.sinh,n.math.asinh,"E",n.math.log,"0",".",n.math.add,n.math.sub,",",n.math.sigma,"n",n.math.Pi,Math.pow],n.prototype.formulaEval=function(){var t,e,a,n,h=[],o=this.value;for(n=0;n<o.length;n++)1===o[n].type||3===o[n].type?h.push({value:3===o[n].type?o[n].show:o[n].value,type:1}):13===o[n].type?h.push({value:o[n].show,type:1}):0===o[n].type?h[h.length-1]={value:o[n].show+("-"!==o[n].show?"(":"")+h[h.length-1].value+("-"!==o[n].show?")":""),type:0}:7===o[n].type?h[h.length-1]={value:(1!==h[h.length-1].type?"(":"")+h[h.length-1].value+(1!==h[h.length-1].type?")":"")+o[n].show,type:7}:10===o[n].type?(t=h.pop(),e=h.pop(),"P"===o[n].show||"C"===o[n].show?h.push({value:"<sup>"+e.value+"</sup>"+o[n].show+"<sub>"+t.value+"</sub>",type:10}):h.push({value:(1!==e.type?"(":"")+e.value+(1!==e.type?")":"")+"<sup>"+t.value+"</sup>",type:1})):2===o[n].type||9===o[n].type?(t=h.pop(),e=h.pop(),h.push({value:(1!==e.type?"(":"")+e.value+(1!==e.type?")":"")+o[n].show+(1!==t.type?"(":"")+t.value+(1!==t.type?")":""),type:o[n].type})):12===o[n].type&&(t=h.pop(),e=h.pop(),a=h.pop(),h.push({value:o[n].show+"("+a.value+","+e.value+","+t.value+")",type:12}));return h[0].value},n.addToken=function(t){var e,a,n,l;for(e=0;e<t.length;e++){if(a=t[e].token.length,n=-1,a<u.length)for(l=0;l<u[a].length;l++)if(t[e].token===u[a][l]){n=h.indexOf(u[a][l]);break}-1===n?(h.push(t[e].token),s.push(t[e].type),u.length<=t[e].token.length&&(u[t[e].token.length]=[]),u[t[e].token.length].push(t[e].token),p.push(t[e].value),o.push(t[e].show)):(h[n]=t[e].token,s[n]=t[e].type,p[n]=t[e].value,o[n]=t[e].show)}},n.lex=function(t,g){var m,w,d,M,x,P,E,b,k,D,I,C,q={value:n.math.changeSign,type:0,pre:21,show:"-"},S={value:")",show:")",type:5,pre:0},N={value:"(",type:4,pre:0,show:"("},R=[N],O=[],T=t,F=0,U=i,W=0,j=v,z="",A={};for(void 0!==g&&n.addToken(g),w=0;w<T.length;w++)if(" "!==T[w]){for(m="",d=T.length-w>u.length-2?u.length-1:T.length-w;d>0;d--)for(M=0;M<u[d].length;M++)a(T,u[d][M],w,d)&&(m=u[d][M],M=u[d].length,d=0);if(w+=m.length-1,""===m)throw new n.Exception("Can't understand after "+T.slice(w));for(x=h.indexOf(m),P=m,E=s[x],b=p[x],k=l[E],D=o[x],I=R[R.length-1],C=O.length;C--&&0===O[C];)if(-1!==[0,2,3,5,9,11,12,13].indexOf(E)){if(!0!==U[E])throw new n.Exception(m+" is not allowed after "+z);R.push(S),U=r,j=c,e(O,-1).pop()}if(!0!==U[E])throw new n.Exception(m+" is not allowed after "+z);if(!0===j[E]&&(E=2,b=n.math.mul,D="&times;",k=3,w-=m.length),A={value:b,type:E,pre:k,show:D},0===E)U=i,j=v,e(O,2).push(2),R.push(A),R.push(N);else if(1===E)1===I.type?(I.value+=b,e(O,1)):R.push(A),U=r,j=f;else if(2===E)U=i,j=v,e(O,2),R.push(A);else if(3===E)R.push(A),U=r,j=c;else if(4===E)F+=O.length,O=[],W++,U=i,j=v,R.push(A);else if(5===E){if(!W)throw new n.Exception("Closing parenthesis are more than opening one, wait What!!!");for(;F--;)R.push(S);F=0,W--,U=r,j=c,R.push(A)}else if(6===E){if(I.hasDec)throw new n.Exception("Two decimals are not allowed in one number");1!==I.type&&(I={value:0,type:1,pre:0},R.push(I),e(O,-1)),U=y,e(O,1),j=v,I.value+=b,I.hasDec=!0}else 7===E&&(U=r,j=c,e(O,1),R.push(A));8===E?(U=i,j=v,e(O,4).push(4),R.push(A),R.push(N)):9===E?(9===I.type?I.value===n.math.add?(I.value=b,I.show=D,e(O,1)):I.value===n.math.sub&&"-"===D&&(I.value=n.math.add,I.show="+",e(O,1)):5!==I.type&&7!==I.type&&1!==I.type&&3!==I.type&&13!==I.type?"-"===P&&(U=i,j=v,e(O,2).push(2),R.push(q),R.push(N)):(R.push(A),e(O,2)),U=i,j=v):10===E?(U=i,j=v,e(O,2),R.push(A)):11===E?(U=i,j=v,R.push(A)):12===E?(U=i,j=v,e(O,6).push(6),R.push(A),R.push(N)):13===E&&(U=r,j=c,R.push(A)),e(O,-1),z=m}for(C=O.length;C--&&0===O[C];)R.push(S),e(O,-1).pop();if(!0!==U[5])throw new n.Exception("complete the expression");for(;W--;)R.push(S);return R.push(S),new n(R)},n.Exception=function(t){this.message=t},n.prototype.toPostfix=function(){var t,e,a,h,o,p,u,s=[],l=[{value:"(",type:4,pre:0}],i=this.value;for(p=1;p<i.length;p++)if(1===i[p].type||3===i[p].type||13===i[p].type)1===i[p].type&&(i[p].value=Number(i[p].value)),s.push(i[p]);else if(4===i[p].type)l.push(i[p]);else if(5===i[p].type)for(;4!==(e=l.pop()).type;)s.push(e);else if(11===i[p].type){for(;4!==(e=l.pop()).type;)s.push(e);l.push(e)}else if(t=i[p],h=t.pre,o=l[l.length-1],a=o.pre,u="Math.pow"===o.value&&"Math.pow"===t.value,h>a)l.push(t);else{for(;a>=h&&!u||u&&h<a;)e=l.pop(),o=l[l.length-1],s.push(e),a=o.pre,u="Math.pow"===t.value&&"Math.pow"===o.value;l.push(t)}return new n(s)},n.prototype.postfixEval=function(t){var e,a,h,o,p,u,s;for((t=t||{}).PI=Math.PI,t.E=Math.E,e=[],p=this.value,u=void 0!==t.n,s=0;s<p.length;s++)1===p[s].type?e.push({value:p[s].value,type:1}):3===p[s].type?e.push({value:t[p[s].value],type:1}):0===p[s].type?void 0===e[e.length-1].type?e[e.length-1].value.push(p[s]):e[e.length-1].value=p[s].value(e[e.length-1].value):7===p[s].type?void 0===e[e.length-1].type?e[e.length-1].value.push(p[s]):e[e.length-1].value=p[s].value(e[e.length-1].value):8===p[s].type?(a=e.pop(),h=e.pop(),e.push({type:1,value:p[s].value(h.value,a.value)})):10===p[s].type?(a=e.pop(),void 0===(h=e.pop()).type?(h.value=h.concat(a),h.value.push(p[s]),e.push(h)):void 0===a.type?(a.unshift(h),a.push(p[s]),e.push(a)):e.push({type:1,value:p[s].value(h.value,a.value)})):2===p[s].type||9===p[s].type?(a=e.pop(),void 0===(h=e.pop()).type?((h=h.concat(a)).push(p[s]),e.push(h)):void 0===a.type?(a.unshift(h),a.push(p[s]),e.push(a)):e.push({type:1,value:p[s].value(h.value,a.value)})):12===p[s].type?(void 0!==(a=e.pop()).type&&(a=[a]),h=e.pop(),o=e.pop(),e.push({type:1,value:p[s].value(o.value,h.value,new n(a))})):13===p[s].type&&(u?e.push({value:t[p[s].value],type:3}):e.push([p[s]]));if(e.length>1)throw new n.exception("Uncaught Syntax error");return e[0].value>1e15?"Infinity":parseFloat(e[0].value.toFixed(15))},n.eval=function(t,e,a){return void 0===e?this.lex(t).toPostfix().postfixEval():void 0===a?void 0!==e.length?this.lex(t,e).toPostfix().postfixEval():this.lex(t).toPostfix().postfixEval(e):this.lex(t,e).toPostfix().postfixEval(a)},t.tcmexp=n}(window);!function(t,a,i){"use strict";function e(t){var e=i.getElementById("tmpl-"+t).textContent,r=!1;return r=r||/<#\s?data\./.test(e),r=r||/{{{?\s?data\.(?!variation\.).+}}}?/.test(e),(r=r||/{{{?\s?data\.variation\.[\w-]*[^\s}]/.test(e))?a.wp.template(t):function(t){var i,r=t.variation||{};return e.replace(/({{{?)\s?data\.variation\.([\w-]*)\s?(}}}?)/g,function(t,e,o,n){return e.length!==n.length?"":(i=r[o]||"",2===e.length?a.escape(i):i)})}}var r=function(t,a,i,e,r){var o=this;o.field=a,o.currentCart=i,o.variableProductContainers=e,o.epoObject=r,o.$form=t,o.$wrap=t.closest(".tc-epo-element-product-container-wrap"),o.$attributeFields=t.find(".tc-epo-variable-product-selector"),o.$singleVariation=t.find(".tc-epo-element-single-variation"),o.$resetVariations=t.find(".tc-epo-element-variable-reset-variations"),o.variationData=t.data("product_variations"),o.useAjax=!1===o.variationData,o.xhr=!1,o.loading=!0,o.variationId=t.closest(".cpf_hide_element").find(".tc-epo-element-product-container-variation-id input.product-variation-id"),o.getChosenAttributes=o.getChosenAttributes.bind(o),o.findMatchingVariations=o.findMatchingVariations.bind(o),o.isMatch=o.isMatch.bind(o),o.toggleResetLink=o.toggleResetLink.bind(o),t.on("click.tc-variation-form",".tc-epo-element-variable-reset-variations",{variationForm:o},o.onReset),t.on("tc_hide_variation",{variationForm:o},o.onHide),t.on("tc_show_variation",{variationForm:o},o.onShow),t.on("tc_reset_data",{variationForm:o},o.onResetDisplayedVariation),t.on("tc_reset_image",{variationForm:o},o.onResetImage),t.on("change.tc-variation-form",".tc-epo-variable-product-selector",{variationForm:o},o.onChange),t.on("tc_found_variation.tc-variation-form",{variationForm:o},o.onFoundVariation),t.on("tc_check_variations.tc-variation-form",{variationForm:o},o.onFindVariation),t.on("tc_update_variation_values.tc-variation-form",{variationForm:o},o.onUpdateAttributes),t.on("refresh.tc-variation-form",{variationForm:o},o.onRefreshContainer),t.on("update_field.tc-variation-form",{variationForm:o},o.onUpdateField),o.variationId.val(""),setTimeout(function(){t.trigger("refresh"),t.trigger("tc_variation_form"),o.loading=!1},100)};r.prototype.onRefreshContainer=function(t){var a=t.data.variationForm;a.variableProductContainers.find(".tc-epo-element-product-container").removeClass("variations_form"),a.$form.addClass("variations_form"),a.$form.trigger("tc_check_variations.tc-variation-form")},r.prototype.onUpdateField=function(t,a){var i,e,r,o,n,c,s=t.data.variationForm;t.preventDefault(),a||(e=i=s.field,i.is("select")&&(e=i.find("option:selected")),r=0,o=0,n=0,c=0,i.data("price_set",1),e.data("associated_price_set",1),e.data("price_set",1),e.data("raw_price",o),e.data("raw_original_price",c),e.data("price",r),e.data("original_price",n),i.data("price-changed",1),s.$form.trigger({type:"tm-epo-update",norules:2}),s.currentCart.trigger({type:"tm-epo-update",norules:2}))},r.prototype.onReset=function(t){t.preventDefault(),t.data.variationForm.$attributeFields.val("").change(),t.data.variationForm.$form.trigger("tc_reset_data")},r.prototype.onHide=function(t){t.preventDefault()},r.prototype.onShow=function(t){t.preventDefault()},r.prototype.onResetDisplayedVariation=function(t){var a=t.data.variationForm;a.$form.find(".product-meta").find(".tc-product-sku").tc_reset_content(),a.$form.trigger("tc_reset_image"),a.$singleVariation.slideUp(200).trigger("tc_hide_variation")},r.prototype.onResetImage=function(t){t.data.variationForm.$form.tc_variations_image_update(!1)},r.prototype.onFindVariation=function(a){var i,e,r=a.data.variationForm,o=r.getChosenAttributes(),n=o.data;if(o.count===o.chosenCount)if(r.useAjax){if(void 0===typeof wc_add_to_cart_variation_params)return;r.xhr&&r.xhr.abort(),i=r.$form.closest(".cpf-type-product"),r.$form.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),n.product_id=parseInt(r.$form.data("product_id"),10),n.discount=i.attr("data-discount"),n.discount_type=i.attr("data-discount-type"),r.xhr=t.ajax({url:wc_add_to_cart_variation_params.wc_ajax_url.toString().replace("%%endpoint%%","get_variation"),type:"POST",data:n,success:function(t){t?r.$form.trigger("tc_found_variation",[t]):(r.$form.trigger("tc_reset_data"),o.chosenCount=0,r.loading||(r.$form.find(".tc-epo-element-single-variation").after('<p class="wc-no-matching-variations woocommerce-info">'+wc_add_to_cart_variation_params.i18n_no_matching_variations_text+"</p>"),r.$form.find(".wc-no-matching-variations").slideDown(200),r.$form.trigger("update_field",[])))},complete:function(){r.$form.unblock()}})}else r.$form.trigger("tc_update_variation_values"),(e=r.findMatchingVariations(r.variationData,n).shift())?r.$form.trigger("tc_found_variation",[e]):(r.$form.trigger("tc_reset_data"),o.chosenCount=0,r.loading||(r.$form.find(".tc-epo-element-single-variation").after('<p class="wc-no-matching-variations woocommerce-info">'+wc_add_to_cart_variation_params.i18n_no_matching_variations_text+"</p>"),r.$form.find(".wc-no-matching-variations").slideDown(200)));else r.variationId.val("").change(),r.$form.trigger("update_field",[]),r.$form.trigger("tc_update_variation_values"),r.$form.trigger("tc_reset_data");r.toggleResetLink(o.chosenCount>0)},r.prototype.onFoundVariation=function(a,i){var r=a.data.variationForm,o=r.$form.find(".product-meta").find(".tc-product-sku"),n=r.$wrap.find(".tm-quantity, .tm-quantity-alt"),c=n.find("input.tm-qty, input.tm-qty-alt"),s=t.epoAPI.math.toInt(c.attr("data-min")),_=t.epoAPI.math.toInt(c.attr("data-max")),d=!0,m=!1,v="";i.sku?o.tc_set_content(i.sku):o.tc_reset_content(),r.$form.tc_variations_image_update(i),m=e(i.variation_is_visible?"variation-template":"unavailable-variation-template"),r.field.attr("data-no-price")&&(i.display_price="",i.display_regular_price="",i.price_html=""),v=(v=(v=m({variation:i})).replace("/*<![CDATA[*/","")).replace("/*]]>*/",""),r.$singleVariation.html(v),r.variationId.val(i.variation_id).change(),"yes"===i.is_sold_individually?(c.val("1").attr("min","1").attr("max","1"),n.hide()):(""!==i.min_qty&&i.min_qty<s&&(s=i.min_qty),""!==i.max_qty&&i.max_qty<_&&(_=i.max_qty),s&&c.attr("min",s),_&&c.attr("max",_),_&&t.epoAPI.math.toInt(c.val())>_&&c.val(_),n.show()),i.is_purchasable&&i.is_in_stock&&i.variation_is_visible||(d=!1),t.epoAPI.util.trim(r.$singleVariation.text())?r.$singleVariation.slideDown(200).trigger("tc_show_variation",[i,d]):r.$singleVariation.show().trigger("tc_show_variation",[i,d]),r.$form.trigger("update_field",[i])},r.prototype.onChange=function(t){var a=t.data.variationForm;a.variationId.val("").change(),a.$form.find(".wc-no-matching-variations").remove(),a.useAjax?a.$form.trigger("tc_check_variations"):(a.$form.trigger("woocommerce_variation_select_change"),a.$form.trigger("tc_check_variations")),a.$form.trigger("woocommerce_variation_has_changed")},r.prototype.onUpdateAttributes=function(a){var i=a.data.variationForm,e=i.getChosenAttributes().data;i.useAjax||(i.$attributeFields.each(function(a,r){var o,n,c,s,_,d,m,v,l,g,f,p,u,h=t(r),w=h.data("attribute_name")||h.attr("name"),y=t(r).data("show_option_none"),b=":gt(0)",$=0,F=t("<select/>"),x=h.val()||"",C=!0;h.data("attribute_html")||((o=h.clone()).find("option").removeAttr("disabled attached").removeAttr("selected"),h.data("attribute_options",o.find("option"+b).get()),h.data("attribute_html",o.html())),F.html(h.data("attribute_html")),(n=t.extend(!0,{},e))[w]="",c=i.findMatchingVariations(i.variationData,n);for(s in c)if(void 0!==c[s]){m=c[s].attributes;for(v in m)if(Object.prototype.hasOwnProperty.call(m,v)&&(l=m[v],g="",v===w))if(c[s].variation_is_active&&(g="enabled"),l){if(l=t("<div/>").html(l).text(),(f=F.find("option")).length)for(_=0,d=f.length;_<d;_++)if(p=t(f[_]),u=p.val(),l===u){p.addClass("attached "+g);break}}else F.find("option:gt(0)").addClass("attached "+g)}$=F.find("option.attached").length,x&&(C=!1,0!==$&&F.find("option.attached.enabled").each(function(){var a=t(this).val();if(x===a)return C=!0,!1})),$>0&&x&&C&&"no"===y&&(F.find("option:first").remove(),b=""),F.find("option"+b+":not(.attached)").remove(),h.html(F.html()),h.find("option"+b+":not(.enabled)").prop("disabled",!0),x?C?h.val(x):h.val("").change():h.val("")}),i.$form.trigger("woocommerce_update_variation_values"))},r.prototype.getChosenAttributes=function(){var a={},i=0,e=0;return this.$attributeFields.each(function(){var r=t(this).data("attribute_name")||t(this).attr("name"),o=t(this).val()||"";o.length>0&&e++,i++,a[r]=o}),{count:i,chosenCount:e,data:a}},r.prototype.findMatchingVariations=function(t,a){var i,e,r=[];for(i=0;i<t.length;i++)e=t[i],this.isMatch(e.attributes,a)&&r.push(e);return r},r.prototype.isMatch=function(t,a){var i,e,r,o=!0;for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i=t[r],e=a[r],void 0!==i&&void 0!==e&&0!==i.length&&0!==e.length&&i!==e&&(o=!1));return o},r.prototype.toggleResetLink=function(t){t?"hidden"===this.$resetVariations.css("visibility")&&this.$resetVariations.css("visibility","visible").hide().fadeIn():this.$resetVariations.css("visibility","hidden")},t.fn.tc_product_variation_form=function(t,a,i,e){return new r(this,t,a,i,e),this.trigger("tc_product_variation_form"),this},t.fn.tc_set_content=function(t){void 0===this.attr("data-o_content")&&this.attr("data-o_content",this.text()),this.text(t)},t.fn.tc_reset_content=function(){void 0!==this.attr("data-o_content")&&this.text(this.attr("data-o_content"))},t.fn.tc_set_variation_attr=function(t,a){void 0===this.attr("data-o_"+t)&&this.attr("data-o_"+t,this.attr(t)?this.attr(t):""),!1===a?this.removeAttr(t):this.attr(t,a)},t.fn.tc_reset_variation_attr=function(t){void 0!==this.attr("data-o_"+t)&&this.attr(t,this.attr("data-o_"+t))},t.fn.tc_variations_image_update=function(t){var a=this,i=a.find(".tc-product-image, .woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),e=i.find(".wp-post-image"),r=i.find("a").eq(0);t&&t.image&&t.image.src&&t.image.src.length>1?(e.tc_set_variation_attr("src",t.image.src),e.tc_set_variation_attr("height",t.image.src_h),e.tc_set_variation_attr("width",t.image.src_w),e.tc_set_variation_attr("srcset",t.image.srcset),e.tc_set_variation_attr("sizes",t.image.sizes),e.tc_set_variation_attr("title",t.image.title),e.tc_set_variation_attr("data-caption",t.image.caption),e.tc_set_variation_attr("alt",t.image.alt),e.tc_set_variation_attr("data-src",t.image.full_src),e.tc_set_variation_attr("data-large_image",t.image.full_src),e.tc_set_variation_attr("data-large_image_width",t.image.full_src_w),e.tc_set_variation_attr("data-large_image_height",t.image.full_src_h),i.tc_set_variation_attr("data-thumb",t.image.src),r.tc_set_variation_attr("href",t.image.full_src)):a.tc_variations_image_reset()},t.fn.tc_variations_image_reset=function(){var t=this.find(".tc-product-image, .woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),a=t.find(".wp-post-image"),i=t.find("a").eq(0);a.tc_reset_variation_attr("src"),a.tc_reset_variation_attr("width"),a.tc_reset_variation_attr("height"),a.tc_reset_variation_attr("srcset"),a.tc_reset_variation_attr("sizes"),a.tc_reset_variation_attr("title"),a.tc_reset_variation_attr("data-caption"),a.tc_reset_variation_attr("alt"),a.tc_reset_variation_attr("data-src"),a.tc_reset_variation_attr("data-large_image"),a.tc_reset_variation_attr("data-large_image_width"),a.tc_reset_variation_attr("data-large_image_height"),t.tc_reset_variation_attr("data-thumb"),i.tc_reset_variation_attr("href")}}(window.jQuery,window,document);!function(t){"use strict";var e=function(e,i){return this.element=t(e),this.settings=t.extend({},t.fn.tcFloatBox.defaults,i),this.settings.type="<"+this.settings.type+">",this.top=0,this.left=0,this.ticking=!1,1===this.element.length&&(this.init(),this)};e.prototype={constructor:e,destroy:function(){var e=this.settings;return void 0!==this.instance&&(t.fn.tcFloatBox.instances.splice(this.instance,1),delete this.instance,e.hideelements&&t("embed, object, select").css({visibility:"visible"}),e._ovl&&(e._ovl.unbind(),e._ovl.remove(),delete e._ovl),t(e.floatboxID).remove(),this.element.removeData("tcfloatbox"),t(window).off("scroll.tcfloatbox"+this.instance),t(window).off("resize.tcfloatbox"+this.instance)),this},hide:function(){var e=this.settings;e.hideelements&&t("embed, object, select").css({visibility:"visible"}),!0===e.showoverlay&&e._ovl&&e._ovl.hide(),t(e.floatboxID).addClass("tc-closing").removeClass(e.animateIn).addClass(e.animateOut),t(e.floatboxID).animate({opacity:0},e.closefadeouttime,function(){t(e.floatboxID).hide(),t(e.floatboxID).removeClass("tc-closing").addClass("tc-closed")}),t(window).off("scroll.tcfloatbox"+this.instance),t(window).off("resize.tcfloatbox"+this.instance)},requestTick:function(){var t=this.settings;this.ticking||(t.refresh?setTimeout(this.requestAnimationFrame.bind(this),t.refresh):requestAnimationFrame(this.update),this.ticking=!0)},requestAnimationFrame:function(){requestAnimationFrame(this.update.bind(this))},update:function(){this.render(),this.ticking=!1},doit:function(){this.requestTick()},render:function(){var e,i,n,s=this.settings,o=t.epoAPI.dom.size();e="fixed"===s.refresh?{top:0,left:0}:t.epoAPI.dom.scroll(),i=parseInt(e.top+(o.visibleHeight-t(s.floatboxID).height())/2,10),n=parseInt(e.left+(o.visibleWidth-t(s.floatboxID).width())/2,10),i=parseInt((i-this.top)/s.fps,10),n=parseInt((n-this.left)/s.fps,10),this.top+=i,this.left+=n,t(s.floatboxID).css({top:this.top+"px",left:this.left+"px",opacity:1})},show:function(){var e,i,n=this.settings;1===this.element.length&&(void 0===this.instance&&this.init(),n.hideelements&&t("embed, object, select").css({visibility:"hidden"}),i=t.epoAPI.dom.size(),!0===n.showoverlay&&(n._ovl?n._ovl.show():(n._ovl=t('<div class="fl-overlay"></div>').css({zIndex:parseInt(n.zIndex,10)-1,opacity:n.overlayopacity}),n._ovl.appendTo("body"),n.ismodal||(n.cancelEvent||n.unique?n._ovl.on("click",this.applyCancelEvent.bind(this)):n._ovl.on("click",n.cancelfunc.bind(this))))),n.showfunc&&n.showfunc.call(),t(n.floatboxID).removeClass("tc-closing").addClass(n.animationBaseClass+" "+n.animateIn),"fixed"===n.refresh?(!1!==n.top?e=n.top:(e=parseInt((i.visibleHeight-t(n.floatboxID).height())/2,10),e+="px"),t(n.floatboxID).css({position:"fixed",top:e}),!1!==n.left&&t(n.floatboxID).css({left:n.left})):this.render())},applyCancelEvent:function(){var t=this.settings;!0===t.cancelEvent?this.destroy():"function"==typeof t.cancelEvent&&t.cancelEvent.call(this,this)},applyCancelEventFromKey:function(t){27===t.which&&this.applyCancelEvent()},applyUpdateEvent:function(){var t=this.settings;"function"==typeof t.updateEvent&&t.updateEvent.call(this,this)},applyUpdateEventFromKey:function(t){13===t.which&&this.applyUpdateEvent()},init:function(){var e,i,n,s=this.settings;1===this.element.length&&(t.fn.tcFloatBox.instances.length>0&&(s.zIndex=parseInt(t.fn.tcFloatBox.instances[t.fn.tcFloatBox.instances.length-1].zIndex,10)+100),this.instance=t.fn.tcFloatBox.instances.length,t.fn.tcFloatBox.instances.push(s),s.id=s.id+this.instance,s.floatboxID="#"+t.epoAPI.dom.id(s.id),this.hide(),e=t.epoAPI.dom.size(),i=t.epoAPI.dom.scroll(),t(s.type).attr("id",s.id).addClass(s.classname).html(s.data).appendTo(this.element),t(s.floatboxID).css({width:s.width,height:s.height}),n=parseInt(i.left+(e.visibleWidth-t(s.floatboxID).width())/2,10),t(s.floatboxID).css({top:"0px",left:n+"px","z-index":s.zIndex}),this.top=0,this.left=n,this.cancelfunc=s.cancelfunc,s.cancelEvent&&s.cancelClass&&(t(s.floatboxID).find(s.cancelClass).on("click",this.applyCancelEvent.bind(this)),s.isconfirm&&t(document).off("keyup.escape-"+s.floatboxID).on("keyup.escape-"+s.floatboxID,this.applyCancelEventFromKey.bind(this))),s.updateEvent&&s.updateClass&&(t(s.floatboxID).find(s.updateClass).on("click",this.applyUpdateEvent.bind(this)),s.isconfirm&&t(document).off("keyup.enter-"+s.floatboxID).on("keyup.enter-"+s.floatboxID,this.applyUpdateEventFromKey.bind(this))),this.show(),"fixed"!==s.refresh&&t(window).on("scroll.tcfloatbox"+this.instance,this.doit.bind(this)),t(window).on("resize.tcfloatbox"+this.instance,this.doit.bind(this)))}},t.fn.tcFloatBox=function(i){var n,s,o=t(this),a=o.data("tcfloatbox");return s="object"==typeof i?i:{},a||(a=new e(this,s),o.data("tcfloatbox",a)),"string"==typeof i&&(n=a[i].apply(a,[])),void 0===n?o:n},t.fn.tcFloatBox.defaults={id:"flasho",classname:"flasho",type:"div",data:"",width:"500px",height:"auto",closefadeouttime:1e3,animationBaseClass:"tm-animated",animateIn:"fadeIn",animateOut:"fadeOut",top:!1,left:!1,refresh:!1,fps:4,hideelements:!1,showoverlay:!0,zIndex:100100,ismodal:!1,cancelfunc:e.prototype.hide,showfunc:null,cancelEvent:!0,cancelClass:".floatbox-cancel",updateEvent:!1,updateClass:!1,unique:!0,overlayopacity:.5,isconfirm:!1},t.fn.tcFloatBox.instances=[],t.fn.tcFloatBox.Constructor=e,t.tcFloatBox=function(i){var n=t("body"),s=!1;return n.map(function(){return t(this).data("tcfloatbox")||""}).get().some(function(t){return""===t})||i.unique?(s=new e(n,i),n.data("tcfloatbox",s)):(s=n.data("tcfloatbox")).init(),s}}(window.jQuery);!function(t,i){"use strict";var o,a=function(t,o){return this.targets=i(t),this.settings=i.extend({},i.fn.tcToolTip.defaults,o),this.targets.length>0&&(this.init(),this)};i(document).ready(function(){o=t.TMEPOJS||{tm_epo_global_tooltip_max_width:"340px"}}),a.prototype={constructor:a,removeTooltip:function(o,a){var e=this.settings;o.data("is_moving")||(a.removeClass(e.fadin).addClass(e.fadeout),a.animate({opacity:0},e.speed,function(){i(this).remove()}),o.data("tmtip-title")&&void 0===o.data("tm-tip-html")&&!o.attr("data-tm-tooltip-html")&&o.attr("title",o.data("tmtip-title")),i(t).off("scroll.tcToolTip resize.tcToolTip"))},initTooltip:function(a,e,l){var s,d,m,n,r,h,p=this.settings;a&&e&&1===a.length&&1===e.length&&1===a.data("tm-has-tm-tip")&&(1===l&&(s=void 0!==a.data("tm-tip-html")?a.data("tm-tip-html"):a.attr("data-tm-tooltip-html")?a.attr("data-tm-tooltip-html"):a.attr("title"),e.html(s),a.data("is_moving",!0)),e.find("aside").hide(),""===o.tm_epo_global_tooltip_max_width?i(t).width()<=1.2*e.outerWidth()?e.css("max-width",i(t).width()/1.2+"px"):e.css("max-width","340px"):(o.tm_epo_global_tooltip_max_width.isNumeric()&&(o.tm_epo_global_tooltip_max_width=o.tm_epo_global_tooltip_max_width+"px"),e.css("max-width",o.tm_epo_global_tooltip_max_width)),e.find("aside").show(),d=i.epoAPI.dom.scroll(),m=a.offset().left+a.outerWidth()/2-e.outerWidth()/2,n=a.offset().top-e.outerHeight()-10,r=a.offset().top-d.top-e.outerHeight()-10,h=m,m<0?(m=a.offset().left+a.outerWidth()/2-20,e.addClass("left")):e.removeClass("left"),h>=0&&m+e.outerWidth()>i(t).width()?(m=a.offset().left-e.outerWidth()+a.outerWidth()/2+20,e.addClass("right")):e.removeClass("right"),n<0||r<0?(n=a.offset().top+a.outerHeight(),e.addClass("top")):e.removeClass("top"),i(t).trigger("tm_tooltip_show"),l?(e.css({left:m,top:n}),a.data("is_moving",!1)):e.css({left:m,top:n}).removeClass(p.fadeout).addClass(p.fadin))},show:function(o){var a,e,l;if(!o.data("is_moving"))return 1===o.data("tm-has-tm-tip")&&(void 0!==o.data("tm-tip-html")?(e=o.data("tm-tip-html"),o.attr("title")&&o.data("tmtip-title",o.attr("title")),o.removeAttr("title")):o.attr("data-tm-tooltip-html")?(e=o.attr("data-tm-tooltip-html"),o.attr("title")&&o.data("tmtip-title",o.attr("title")),o.removeAttr("title")):e=o.attr("title"),void 0!==e&&(i("#tm-tooltip").remove(),(a=i('<div id="tm-tooltip" class="tm-tip tm-animated"></div>')).css("opacity",0).html(e).appendTo("body"),(l=a.find("img")).length>0&&l.on("load",this.initTooltip.bind(this,o,a)),this.initTooltip(o,a),i(t).on("scroll.tcToolTip resize.tcToolTip",this.initTooltip.bind(this,o,a)),o.data("is_moving",!1),o.on("tmmovetooltip",this.initTooltip.bind(this,o,a,1)),o.on("mouseleave tmhidetooltip",this.removeTooltip.bind(this,o,a)),o.closest("label").on("mouseleave tmhidetooltip",this.removeTooltip.bind(this,o,a)),a.on("click",this.removeTooltip.bind(this,o,a)))),!1},init:function(){var t=this;this.targets.length>0&&this.targets.toArray().forEach(function(o){var a,e,l,s,d,m,n,r,h,p,c,f,g,u,v;void 0===(a=i(o)).data("tm-has-tm-tip")&&(e=a.attr("data-tm-tooltip-swatch"),l=a.attr("data-tm-tooltip-swatch-desc"),s=a.attr("data-tm-tooltip-swatch-lbl-desc"),d=a.attr("data-tm-tooltip-swatch-img"),m=a.attr("data-tm-tooltip-swatch-img-lbl"),n=a.attr("data-tm-tooltip-swatch-img-desc"),r=a.attr("data-tm-tooltip-swatch-img-lbl-desc"),a.data("tm-has-tm-tip",1),g=void 0!==a.attr("data-original")?a.attr("data-original"):void 0!==a.attr("src")?a.attr("src"):a[0].src,0===(p=a.closest(".tmcp-field-wrap")).length&&(p=a.closest(".cpf_hide_element")),0===p.length&&(p=a.closest(".cpf-section").find(".tc-section-inner-wrap")),0===(u=p.find(".checkbox-image-label,.radio-image-label,.tm-tip-html")).length&&(u=p.next(".checkbox-image-label,.radio-image-label,.tm-tip-html")),u=i(p=u),v="yes"===a.attr("data-tm-hide-label")||void 0===a.attr("data-tm-hide-label")||u.is(".tm-tip-html"),f="",0===(c=(c=a.closest(".tmcp-field-wrap")).find("[data-tm-tooltip-html]")).length?(c=a.closest(".tmcp-field-wrap").find(".tc-inline-description")).length>0&&(f=c.html()):f=c.attr("data-tm-tooltip-html"),e?h=u.html():l?h="<aside>"+f+"</aside>":s?h="<aside>"+u.html()+"</aside><aside>"+f+"</aside>":d?h='<img src="'+g+'">':m?h='<img src="'+g+'"><aside>'+u.html()+"</aside>":n?h='<img src="'+g+'"><aside>'+f+"</aside>":r&&(h='<img src="'+g+'"><aside>'+u.html()+"</aside><aside>"+f+"</aside>"),void 0!==h&&(a.data("tm-tip-html",h),v&&u.hide()),h=a.attr("data-tm-tooltip-html")?a.attr("data-tm-tooltip-html"):a.attr("title"),a.on("tc-tooltip-html-changed",function(){a.attr("data-tm-tooltip-html")?a.show():a.hide()}),a.closest("label").on("mouseenter tmshowtooltip",t.show.bind(t,a)),a.on("mouseenter tmshowtooltip",t.show.bind(t,a)))})}},i.fn.tcToolTip=function(t){var o,e,l,s=i(this),d=s.map(function(){return i(this).data("tctooltip")||""}).get().some(function(t){return""===t});return l="object"==typeof t?t:{},d&&(e=new a(this,l),s.data("tctooltip",e)),"string"==typeof t&&(o=e[t].apply(e,[])),void 0===o?s:o},i.fn.tcToolTip.defaults={fadin:"fadeIn",fadeout:"fadeout",speed:1500},i.fn.tcToolTip.instances=[],i.fn.tcToolTip.Constructor=a,i.tcToolTip=function(t,o){var e=!1;return t=t||i(".tm-tooltip"),t.map(function(){return i(this).data("tctooltip")||""}).get().some(function(t){return""===t})&&(e=new a(t,o),t.data("tctooltip",e)),e}}(window,window.jQuery);!function(t){"use strict";"function"==typeof window.define&&window.define.amd?window.define(["jquery"],t):"object"==typeof window.module&&window.module.exports?window.module.exports=t(window.require("jquery")):t(window.jQuery)}(function(t){"use strict";var e,i,s={};return t.extend(t.fn,{tc_validate:function(e){var i;if(this.length)return(i=t.data(this[0],"tc_validator"))?i:(this.attr("novalidate","novalidate"),i=new t.tc_validator(e,this[0]),t.data(this[0],"tc_validator",i),i.settings.onsubmit&&(this.on("click.tc_validate",":submit",function(e){i.submitButton=e.currentTarget,t(this).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==t(this).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.on("submit.tc_validate",function(e){function s(){var s,r;return i.submitButton&&(i.settings.submitHandler||i.formSubmitted)&&(s=t("<input type='hidden'/>").attr("name",i.submitButton.name).val(t(i.submitButton).val()).appendTo(i.currentForm)),!(i.settings.submitHandler&&!i.settings.debug)||(r=i.settings.submitHandler.call(i,i.currentForm,e),s&&s.remove(),void 0!==r&&r)}return i.settings.debug&&e.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,s()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):s():(i.focusInvalid(),!1)})),i)},tc_valid:function(){var e,i,s;return t(this[0]).is("form")?e=this.tc_validate().form():(s=[],e=!0,i=t(this[0].form).tc_validate(),this.each(function(){(e=i.element(this)&&e)||(s=s.concat(i.errorList))}),i.errorList=s),e},tc_rules:function(e,i){var s,r,a,n,o,l,h=this[0],d=void 0!==this.attr("contenteditable")&&"false"!==this.attr("contenteditable");if(null!==h&&(!h.form&&d&&(h.form=this.closest("form")[0],h.name=this.attr("name")),null!==h.form)){if(e)switch(s=t.data(h.form,"tc_validator").settings,r=s.rules,a=t.tc_validator.staticRules(h),e){case"add":t.extend(a,t.tc_validator.normalizeRule(i)),delete a.messages,r[h.name]=a,i.messages&&(s.messages[h.name]=t.extend(s.messages[h.name],i.messages));break;case"remove":return i?(l={},t.each(i.split(/\s/),function(t,e){l[e]=a[e],delete a[e]}),l):(delete r[h.name],a)}return(n=t.tc_validator.normalizeRules(t.extend({},t.tc_validator.classRules(h),t.tc_validator.attributeRules(h),t.tc_validator.dataRules(h),t.tc_validator.staticRules(h)),h)).required&&(o=n.required,delete n.required,n=t.extend({required:o},n)),n.remote&&(o=n.remote,delete n.remote,n=t.extend(n,{remote:o})),n}}}),i=function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},t.extend(t.expr.pseudos||t.expr[":"],{blank:function(e){return!i(""+t(e).val())},filled:function(e){var s=t(e).val();return null!==s&&!!i(""+s)},unchecked:function(e){return!t(e).prop("checked")}}),t.tc_validator=function(e,i){this.settings=t.extend(!0,{},t.tc_validator.defaults,e),this.currentForm=i,this.init()},t.tc_validator.format=function(e,i){return 1===arguments.length?function(){var i=t.makeArray(arguments);return i.unshift(e),t.tc_validator.format.apply(this,i)}:void 0===i?e:(arguments.length>2&&i.constructor!==Array&&(i=t.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),t.each(i,function(t,i){e=e.replace(new RegExp("\\{"+t+"\\}","g"),function(){return i})}),e)},t.extend(t.tc_validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(e,i){var s=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===i.which&&""===this.elementValue(e)||-1!==t.inArray(i.keyCode,s)||(e.name in this.submitted||e.name in this.invalid)&&this.element(e)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,i,s){"radio"===e.type?this.findByName(e.name).addClass(i).removeClass(s):t(e).addClass(i).removeClass(s)},unhighlight:function(e,i,s){"radio"===e.type?this.findByName(e.name).removeClass(i).addClass(s):t(e).removeClass(i).addClass(s)}},setDefaults:function(e){t.extend(t.tc_validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:t.tc_validator.format("Please enter no more than {0} characters."),maxlengthsingle:t.tc_validator.format("Please enter no more than {0} character."),minlength:t.tc_validator.format("Please enter at least {0} characters."),minlengthsingle:t.tc_validator.format("Please enter at least {0} character."),rangelength:t.tc_validator.format("Please enter a value between {0} and {1} characters long."),range:t.tc_validator.format("Please enter a value between {0} and {1}."),max:t.tc_validator.format("Please enter a value less than or equal to {0}."),min:t.tc_validator.format("Please enter a value greater than or equal to {0}."),step:t.tc_validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var i,r,a,n=void 0!==t(e.data.that).attr("contenteditable")&&"false"!==t(e.data.that).attr("contenteditable");!e.data.that.form&&n&&(e.data.that.form=t(e.data.that).closest("form")[0],e.data.that.name=t(e.data.that).attr("name")),s===e.data.that.form&&(i=t.data(e.data.that.form,"tc_validator"),r="on"+e.type.replace(/^validate/,""),(a=i.settings)[r]&&!t(e.data.that).is(a.ignore)&&a[r].call(i,e.data.that,e))}var i,s=this.currentForm,r={};this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset(),this.groups={},t.each(this.settings.groups,function(e,i){"string"==typeof i&&(i=i.split(/\s/)),t.each(i,function(t,i){r[i]=e})}),i=this.settings.rules,t.each(i,function(e,s){i[e]=t.tc_validator.normalizeRule(s)}),t(this.currentForm).on("focusin.tc_validate focusout.tc_validate keyup.tc_validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",{that:this},e).on("click.tc_validate","select, option, [type='radio'], [type='checkbox']",{that:this},e),this.settings.invalidHandler&&t(this.currentForm).on("invalid-form.tc_validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.tc_valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.tc_valid()},checkForm:function(){var t,e;for(this.prepareForm(),t=0,e=this.elements();e[t];t+=1)this.currentElements=e,this.check(e[t]);return this.tc_valid()},element:function(e){var i,s,r=this.clean(e),a=this.validationTargetFor(r),n=this,o=!0;return void 0===a?delete this.invalid[r.name]:(this.prepareElement(a),this.currentElements=t(a),(s=this.groups[a.name])&&t.each(this.groups,function(t,e){e===s&&t!==a.name&&(r=n.validationTargetFor(n.clean(n.findByName(t))))&&r.name in n.invalid&&(n.currentElements.push(r),o=n.check(r)&&o)}),i=!1!==this.check(a),o=o&&i,this.invalid[a.name]=!i,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),t(e).attr("aria-invalid",!i)),o},showErrors:function(e){var i;e&&(i=this,t.extend(this.errorMap,e),this.errorList=t.map(this.errorMap,function(t,e){return{message:t,element:i.findByName(e)[0]}}),this.successList=t.grep(this.successList,function(t){return!(t.name in e)})),this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){var e;t.fn.resetForm&&t(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors(),e=this.elements().removeData("previousValue").removeAttr("aria-invalid"),this.resetElements(e)},resetElements:function(t){var e;if(this.settings.unhighlight)for(e=0;t[e];e+=1)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,""),this.findByName(t[e].name).removeClass(this.settings.validClass);else t.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,i=0;for(e in t)void 0!==t[e]&&null!==t[e]&&!1!==t[e]&&(i+=1);return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},tc_valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").trigger("focus").trigger("focusin")}catch(t){}},findLastActive:function(){var e=this.lastActive;return e&&1===t.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,i={};return t(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var s=this.name||t(this).attr("name");return void 0!==t(this).attr("contenteditable")&&"false"!==t(this).attr("contenteditable")&&(this.form=t(this).closest("form")[0],this.name=s),this.form===e.currentForm&&(!(s in i||!e.objectLength(t(this).tc_rules()))&&(i[s]=!0,!0))})},clean:function(e){return t(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return t(this.settings.errorElement+"."+e,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([])},reset:function(){this.resetInternals(),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(e){var i,s,r=t(e),a=e.type,n=void 0!==r.attr("contenteditable")&&"false"!==r.attr("contenteditable");return"radio"===a||"checkbox"===a?this.findByName(e.name).filter(":checked").val():"number"===a&&void 0!==e.validity?e.validity.badInput?"NaN":r.val():(i=n?r.text():r.val(),"file"===a?"C:\\fakepath\\"===i.substr(0,12)?i.substr(12):(s=i.lastIndexOf("/"))>=0?i.substr(s+1):(s=i.lastIndexOf("\\"))>=0?i.substr(s+1):i:"string"==typeof i?i.replace(/\r/g,""):i)},check:function(e){var i,s,r,a,n,o,l,h;e=this.validationTargetFor(this.clean(e)),i=t(e).tc_rules(),s=t.map(i,function(t,e){return e}).length,r=!1,a=this.elementValue(e),"function"==typeof i.normalizer?h=i.normalizer:"function"==typeof this.settings.normalizer&&(h=this.settings.normalizer),h&&(a=h.call(e,a),delete i.normalizer);for(o in i)if(o){l={method:o,parameters:i[o]};try{if("dependency-mismatch"===(n=t.tc_validator.methods[o].call(this,a,e,l.parameters))&&1===s){r=!0;continue}if(r=!1,"pending"===n)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!n)return this.formatAndAdd(e,l),!1}catch(t){throw t instanceof TypeError&&(t.message+=".  Exception occurred when checking element "+e.id+", check the '"+l.method+"' method."),t}}if(!r)return this.objectLength(i)&&this.successList.push(e),!0},customDataMessage:function(e,i){return t(e).data("msg"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase())||t(e).data("msg")},customMessage:function(t,e){var i=this.settings.messages[t];return i&&(i.constructor===String?i:i[e])},findDefined:function(){var t;for(t=0;t<arguments.length;t+=1)if(void 0!==arguments[t])return arguments[t]},defaultMessage:function(e,i){var s,r,a="";return"string"==typeof i&&(i={method:i}),"minlength"!==i.method&&"maxlength"!==i.method||1!==i.parameters&&"1"!==i.parameters||(a="single"),s=this.findDefined(this.customMessage(e.name,i.method+a),this.customDataMessage(e,i.method+a),!this.settings.ignoreTitle&&e.title||void 0,t.tc_validator.messages[i.method+a],"<strong>Warning: No message defined for "+e.name+"</strong>"),r=/\$?\{(\d+)\}/g,"function"==typeof s?s=s.call(this,i.parameters,e):r.test(s)&&(s=t.tc_validator.format(s.replace(r,"{$1}"),i.parameters)),s},formatAndAdd:function(t,e){var i=this.defaultMessage(t,e);this.errorList.push({message:i,element:t,method:e.method}),this.errorMap[t.name]=i,this.submitted[t.name]=i},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e,i;for(t=0;this.errorList[t];t+=1)i=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t+=1)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t+=1)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,i){var s,r,a,n,o=this.errorsFor(e),l=this.idOrName(e),h=t(e).attr("aria-describedby");o.length?(o.removeClass(this.settings.validClass).addClass(this.settings.errorClass),o.html(i)):(s=o=t("<"+this.settings.errorElement+">").attr("id",l+"-error").addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(s=o.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(s):this.settings.errorPlacement?this.settings.errorPlacement.call(this,s,t(e)):s.insertAfter(e),o.is("label")?o.attr("for",l):0===o.parents("label[for='"+this.escapeCssMeta(l)+"']").length&&(a=o.attr("id"),h?h.match(new RegExp("\\b"+this.escapeCssMeta(a)+"\\b"))||(h+=" "+a):h=a,t(e).attr("aria-describedby",h),(r=this.groups[e.name])&&(n=this,t.each(n.groups,function(e,i){i===r&&t("[name='"+n.escapeCssMeta(e)+"']",n.currentForm).attr("aria-describedby",o.attr("id"))})))),!i&&this.settings.success&&(o.text(""),"string"==typeof this.settings.success?o.addClass(this.settings.success):this.settings.success(o,e)),this.toShow=this.toShow.add(o)},errorsFor:function(e){var i=this.escapeCssMeta(this.idOrName(e)),s=t(e).attr("aria-describedby"),r="label[for='"+i+"'], label[for='"+i+"'] *";return s&&(r=r+", #"+this.escapeCssMeta(s).replace(/\s+/g,", #")),this.errors().filter(r)},escapeCssMeta:function(t){return t.replace(/([\\!"#$%&'()*+,.\/:;<=>?@\[\]\^`{|}~])/g,"\\$1")},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name)),t(e).not(this.settings.ignore)[0]},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){return t(this.currentForm).find("[name='"+this.escapeCssMeta(e)+"']")},getLength:function(e,i){switch(i.nodeName.toLowerCase()){case"select":return t("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return e.length},depend:function(t,e){return!this.dependTypes[typeof t]||this.dependTypes[typeof t](t,e)},dependTypes:{boolean:function(t){return t},string:function(e,i){return!!t(e,i.form).length},function:function(t,e){return t(e)}},optional:function(e){var i=this.elementValue(e);return!t.tc_validator.methods.required.call(this,i,e)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest+=1,t(e).addClass(this.settings.pendingClass),this.pending[e.name]=!0)},stopRequest:function(e,i){this.pendingRequest-=1,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],t(e).removeClass(this.settings.pendingClass),i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).trigger("submit"),this.submitButton&&t("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e,i){return i="string"==typeof i&&i||"remote",t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,{method:i})})},destroy:function(){this.resetForm(),t(this.currentForm).off(".tc_validate").removeData("tc_validator").find(".tc_validate-equalTo-blur").off(".tc_validate-equalTo").removeClass("validate-equalTo-blur").find(".tc_validate-lessThan-blur").off(".tc_validate-lessThan").removeClass("validate-lessThan-blur").find(".tc_validate-lessThanEqual-blur").off(".tc_validate-lessThanEqual").removeClass("validate-lessThanEqual-blur").find(".tc_validate-greaterThanEqual-blur").off(".tc_validate-greaterThanEqual").removeClass("validate-greaterThanEqual-blur").find(".tc_validate-greaterThan-blur").off(".tc_validate-greaterThan").removeClass("validate-greaterThan-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,i){e.constructor===String?this.classRuleSettings[e]=i:t.extend(this.classRuleSettings,e)},classRules:function(e){var i={},s=t(e).attr("class");return s&&t.each(s.split(" "),function(){this in t.tc_validator.classRuleSettings&&t.extend(i,t.tc_validator.classRuleSettings[this])}),i},normalizeAttributeRule:function(t,e,i,s){/min|max|step/.test(i)&&(null===e||/number|range|text/.test(e))&&(s=Number(s),isNaN(s)&&(s=void 0)),s||0===s?t[i]=s:e===i&&"range"!==e&&(t[i]=!0)},attributeRules:function(e){var i,s,r={},a=t(e),n=e.getAttribute("type");for(i in t.tc_validator.methods)i&&("required"===i?(""===(s=e.getAttribute(i))&&(s=!0),s=!!s):s=a.attr(i),this.normalizeAttributeRule(r,n,i,s));return r.maxlength&&/-1|2147483647|524288/.test(r.maxlength)&&delete r.maxlength,r},dataRules:function(e){var i,s,r={},a=t(e),n=e.getAttribute("type");for(i in t.tc_validator.methods)i&&(""===(s=a.data("rule"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase()))&&(s=!0),this.normalizeAttributeRule(r,n,i,s));return r},staticRules:function(e){var i={},s=t.data(e.form,"tc_validator");return s.settings.rules&&(i=t.tc_validator.normalizeRule(s.settings.rules[e.name])||{}),i},normalizeRules:function(e,i){var s;return t.each(e,function(r,a){if(!1!==a){if(a.param||a.depends){switch(s=!0,typeof a.depends){case"string":s=!!t(a.depends,i.form).length;break;case"function":s=a.depends.call(i,i)}s?e[r]=void 0===a.param||a.param:(t.data(i.form,"tc_validator").resetElements(t(i)),delete e[r])}}else delete e[r]}),t.each(e,function(s,r){e[s]=t.isFunction(r)&&"normalizer"!==s?r(i):r}),t.each(["minlength","maxlength"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){var t;e[this]&&(Array.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(t=e[this].replace(/[[\]]/g,"").split(/[\s,]+/),e[this]=[Number(t[0]),Number(t[1])]))}),t.tc_validator.autoCreateRanges&&(null!==e.min&&null!==e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),null!==e.minlength&&null!==e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e},normalizeRule:function(e){var i;return"string"==typeof e&&(i={},t.each(e.split(/\s/),function(){i[this]=!0}),e=i),e},addMethod:function(e,i,s){t.tc_validator.methods[e]=i,t.tc_validator.messages[e]=void 0!==s?s:t.tc_validator.messages[e],i.length<3&&t.tc_validator.addClassRules(e,t.tc_validator.normalizeRule(e))},methods:{required:function(e,i,s){var r;return this.depend(s,i)?"select"===i.nodeName.toLowerCase()?(r=t(i).val())&&r.length>0:this.checkable(i)?this.getLength(e,i)>0:void 0!==e&&null!==e&&e.length>0:"dependency-mismatch"},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?\^_`{|}~\-]+@[a-zA-Z0-9](?:[a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){return this.optional(e)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},minlength:function(t,e,i){var s=Array.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||s>=i},maxlength:function(t,e,i){var s=Array.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||s<=i},rangelength:function(t,e,i){var s=Array.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||s>=i[0]&&s<=i[1]},min:function(t,e,i){return this.optional(e)||t>=i},max:function(t,e,i){return this.optional(e)||t<=i},range:function(t,e,i){return this.optional(e)||t>=i[0]&&t<=i[1]},step:function(e,i,s){var r,a=t(i).attr("type"),n="Step attribute on input type "+a+" is not supported.",o=["text","number","range"],l=new RegExp("\\b"+a+"\\b"),h=function(t){var e=(""+t).match(/(?:\.(\d+))?$/);return e&&e[1]?e[1].length:0},d=function(t){return Math.round(t*Math.pow(10,r))},u=!0;if(a&&!l.test(o.join()))throw new Error(n);return r=h(s),(h(e)>r||d(e)%d(s)!=0)&&(u=!1),this.optional(i)||u},equalTo:function(e,i,s){var r=t(s);return this.settings.onfocusout&&r.not(".tc_validate-equalTo-blur").length&&r.addClass("validate-equalTo-blur").on("blur.tc_validate-equalTo",function(){t(i).tc_valid()}),e===r.val()},remote:function(e,i,s,r){var a,n,o,l;return this.optional(i)?"dependency-mismatch":(r="string"==typeof r&&r||"remote",a=this.previousValue(i,r),this.settings.messages[i.name]||(this.settings.messages[i.name]={}),a.originalMessage=a.originalMessage||this.settings.messages[i.name][r],this.settings.messages[i.name][r]=a.message,s="string"==typeof s&&{url:s}||s,l=t.param(t.extend({data:e},s.data)),a.old===l?a.valid:(a.old=l,n=this,this.startRequest(i),o={},o[i.name]=e,t.ajax(t.extend(!0,{mode:"abort",port:"validate"+i.name,dataType:"json",data:o,context:n.currentForm,success:function(t){var s,o,l,h=!0===t||"true"===t;n.settings.messages[i.name][r]=a.originalMessage,h?(l=n.formSubmitted,n.resetInternals(),n.toHide=n.errorsFor(i),n.formSubmitted=l,n.successList.push(i),n.invalid[i.name]=!1,n.showErrors()):(s={},o=t||n.defaultMessage(i,{method:r,parameters:e}),a.message=o,s[i.name]=o,n.invalid[i.name]=!0,n.showErrors(s)),a.valid=h,n.stopRequest(i,h)}},s)),"pending"))}}}),t.ajaxPrefilter?t.ajaxPrefilter(function(t,e,i){var r=t.port;"abort"===t.mode&&(s[r]&&s[r].abort(),s[r]=i)}):(e=t.ajax,t.ajax=function(i){var r=("mode"in i?i:t.ajaxSettings).mode,a=("port"in i?i:t.ajaxSettings).port;return"abort"===r?(s[a]&&s[a].abort(),s[a]=e.apply(this,arguments),s[a]):e.apply(this,arguments)}),t});!function(t){"use strict";"function"==typeof window.define&&window.define.amd?window.define(["jquery"],t):t(window.jQuery)}(function(t){"use strict";function e(t){for(var e,a;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(a=parseInt(t.css("zIndex"),10),!isNaN(a)&&0!==a))return a;t=t.parent()}return 0}function a(e){t.tm_datepicker._isDisabledDatepicker(r.inline?r.dpDiv.parent()[0]:r.input[0])||(t(e).parents(".ui-tm-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(e).addClass("ui-state-hover"),-1!==e.className.indexOf("ui-tm-datepicker-prev")&&t(e).addClass("ui-tm-datepicker-prev-hover"),-1!==e.className.indexOf("ui-tm-datepicker-next")&&t(e).addClass("ui-tm-datepicker-next-hover"))}function i(e){var i="button, .ui-tm-datepicker-prev, .ui-tm-datepicker-next, .ui-tm-datepicker-calendar td a";return e.on("mouseout",i,function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-tm-datepicker-prev")&&t(this).removeClass("ui-tm-datepicker-prev-hover"),-1!==this.className.indexOf("ui-tm-datepicker-next")&&t(this).removeClass("ui-tm-datepicker-next-hover")}).on("mouseover",i,function(){a(this)})}function s(e,a){var i;t.extend(e,a);for(i in a)null===a[i]&&(e[i]=a[i]);return e}function n(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-tm-datepicker-div",this._inlineClass="ui-tm-datepicker-inline",this._appendClass="ui-tm-datepicker-append",this._triggerClass="ui-tm-datepicker-trigger",this._dialogClass="ui-tm-datepicker-dialog",this._disableClass="ui-tm-datepicker-disabled",this._unselectableClass="ui-tm-datepicker-unselectable",this._currentClass="ui-tm-datepicker-current-day",this._dayOverClass="ui-tm-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=i(t("<div id='"+this._mainDivId+"' class='ui-tm-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}var r;t.ui.tm_datepicker=t.ui.tm_datepicker||{},t.ui.tm_datepicker.version||(t.extend(t.ui,{tm_datepicker:{version:"1.11.4"}}),t.extend(n.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return s(this._defaults,t||{}),this},_attachDatepicker:function(e,a){var i,s,n;s="div"===(i=e.nodeName.toLowerCase())||"span"===i,e.id||(this.uuid+=1,e.id="dp"+this.uuid),(n=this._newInst(t(e),s)).settings=t.extend({},a||{}),"input"===i?this._connectDatepicker(e,n):s&&this._inlineDatepicker(e,n)},_newInst:function(e,a){return{id:e[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:a,dpDiv:a?i(t("<div class='"+this._inlineClass+" ui-tm-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,a){var i=t(e);a.append=t([]),a.trigger=t([]),i.hasClass(this.markerClassName)||(this._attachments(i,a),i.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(a),t.data(e,"datepicker",a),a.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,a){var i,s,n,r=this._get(a,"appendText"),d=this._get(a,"isRTL");a.append&&a.append.remove(),r&&(a.append=t("<span class='"+this._appendClass+"'>"+r+"</span>"),e[d?"before":"after"](a.append)),e.off("focus",this._showDatepicker),a.trigger&&a.trigger.remove(),"focus"!==(i=this._get(a,"showOn"))&&"both"!==i||e.on("focus",this._showDatepicker),"button"!==i&&"both"!==i||(s=this._get(a,"buttonText"),n=this._get(a,"buttonImage"),a.trigger=t(this._get(a,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:n,alt:s,title:s}):t("<button type='button'></button>").addClass(this._triggerClass).html(n?t("<img/>").attr({src:n,alt:s,title:s}):s)),e[d?"before":"after"](a.trigger),a.trigger.on("click",function(){return t.tm_datepicker._datepickerShowing&&t.tm_datepicker._lastInput===e[0]?t.tm_datepicker._hideDatepicker():t.tm_datepicker._datepickerShowing&&t.tm_datepicker._lastInput!==e[0]?(t.tm_datepicker._hideDatepicker(),t.tm_datepicker._showDatepicker(e[0])):t.tm_datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){var e,a,i,s,n,r=this._get(t,"dateFormat");this._get(t,"autoSize")&&!t.inline&&(n=new Date(2009,11,20),(r=this._get(t,"dateFormat")).match(/[DM]/)&&(e=function(t){for(a=0,i=0,s=0;s<t.length;s+=1)t[s].length>a&&(a=t[s].length,i=s);return i},n.setMonth(e(this._get(t,r.match(/MM/)?"monthNames":"monthNamesShort"))),n.setDate(e(this._get(t,r.match(/DD/)?"dayNames":"dayNamesShort"))+20-n.getDay())),t.input.attr("size",this._formatDate(t,n).length))},_inlineDatepicker:function(e,a){var i=t(e);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(a.dpDiv),t.data(e,"datepicker",a),this._setDate(a,this._getDefaultDate(a),!0),this._updateDatepicker(a),this._updateAlternate(a),a.settings.disabled&&this._disableDatepicker(e),a.dpDiv.css("display","block"))},_dialogDatepicker:function(e,a,i,n,r){var d,c,l,o,u,h=this._dialogInst;return h||(this.uuid+=1,d="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+d+"' />"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),h=this._newInst(this._dialogInput,!1),this._dialogInst=h,h.settings={},t.data(this._dialogInput[0],"datepicker",h)),s(h.settings,n||{}),a=a&&a.constructor===Date?this._formatDate(h,a):a,this._dialogInput.val(a),this._pos=r?r.length?r:[r.pageX,r.pageY]:null,this._pos||(c=document.documentElement.clientWidth,l=document.documentElement.clientHeight,o=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[c/2-100+o,l/2-150+u]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),h.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",h),this},_destroyDatepicker:function(e){var a,i=t(e),s=t.data(e,"datepicker");i.hasClass(this.markerClassName)&&(a=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===a?(s.append.remove(),s.trigger.remove(),i.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==a&&"span"!==a||i.removeClass(this.markerClassName).empty(),r===s&&(r=null))},_enableDatepicker:function(e){var a,i,s=t(e),n=t.data(e,"datepicker");s.hasClass(this.markerClassName)&&("input"===(a=e.nodeName.toLowerCase())?(e.disabled=!1,n.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==a&&"span"!==a||((i=s.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),i.find("select.ui-tm-datepicker-month, select.ui-tm-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var a,i,s=t(e),n=t.data(e,"datepicker");s.hasClass(this.markerClassName)&&("input"===(a=e.nodeName.toLowerCase())?(e.disabled=!0,n.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==a&&"span"!==a||((i=s.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),i.find("select.ui-tm-datepicker-month, select.ui-tm-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){var e;if(!t)return!1;for(e=0;e<this._disabledInputs.length;e+=1)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,a,i){var n,r,d,c,l=this._getInst(e);if(2===arguments.length&&"string"==typeof a)return"defaults"===a?t.extend({},t.tm_datepicker._defaults):l?"all"===a?t.extend({},l.settings):this._get(l,a):null;n=a||{},"string"==typeof a&&((n={})[a]=i),l&&(this._curInst===l&&this._hideDatepicker(),r=this._getDateDatepicker(e,!0),d=this._getMinMaxDate(l,"min"),c=this._getMinMaxDate(l,"max"),s(l.settings,n),null!==d&&void 0!==n.dateFormat&&void 0===n.minDate&&(l.settings.minDate=this._formatDate(l,d)),null!==c&&void 0!==n.dateFormat&&void 0===n.maxDate&&(l.settings.maxDate=this._formatDate(l,c)),"disabled"in n&&(n.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),l),this._autoSize(l),this._setDate(l,r),this._updateAlternate(l),this._updateDatepicker(l))},_changeDatepicker:function(t,e,a){this._optionDatepicker(t,e,a)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var a=this._getInst(t);a&&(this._setDate(a,e),this._updateDatepicker(a),this._updateAlternate(a))},_getDateDatepicker:function(t,e){var a=this._getInst(t);return a&&!a.inline&&this._setDateFromField(a,e),a?this._getDate(a):null},_doKeyDown:function(e){var a,i,s,n=t.tm_datepicker._getInst(e.target),r=!0,d=n.dpDiv.is(".ui-tm-datepicker-rtl");if(n._keyEvent=!0,t.tm_datepicker._datepickerShowing)switch(e.keyCode){case 9:t.tm_datepicker._hideDatepicker(),r=!1;break;case 13:return(s=t("td."+t.tm_datepicker._dayOverClass+":not(."+t.tm_datepicker._currentClass+")",n.dpDiv))[0]&&t.tm_datepicker._selectDay(e.target,n.selectedMonth,n.selectedYear,s[0]),(a=t.tm_datepicker._get(n,"onSelect"))?(i=t.tm_datepicker._formatDate(n),a.apply(n.input?n.input[0]:null,[i,n])):t.tm_datepicker._hideDatepicker(),!1;case 27:t.tm_datepicker._hideDatepicker();break;case 33:t.tm_datepicker._adjustDate(e.target,e.ctrlKey?-t.tm_datepicker._get(n,"stepBigMonths"):-t.tm_datepicker._get(n,"stepMonths"),"M");break;case 34:t.tm_datepicker._adjustDate(e.target,e.ctrlKey?+t.tm_datepicker._get(n,"stepBigMonths"):+t.tm_datepicker._get(n,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.tm_datepicker._clearDate(e.target),r=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.tm_datepicker._gotoToday(e.target),r=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.tm_datepicker._adjustDate(e.target,d?1:-1,"D"),r=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.tm_datepicker._adjustDate(e.target,e.ctrlKey?-t.tm_datepicker._get(n,"stepBigMonths"):-t.tm_datepicker._get(n,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.tm_datepicker._adjustDate(e.target,-7,"D"),r=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.tm_datepicker._adjustDate(e.target,d?-1:1,"D"),r=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.tm_datepicker._adjustDate(e.target,e.ctrlKey?+t.tm_datepicker._get(n,"stepBigMonths"):+t.tm_datepicker._get(n,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.tm_datepicker._adjustDate(e.target,7,"D"),r=e.ctrlKey||e.metaKey;break;default:r=!1}else 36===e.keyCode&&e.ctrlKey?t.tm_datepicker._showDatepicker(this):r=!1;r&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var a,i,s=t.tm_datepicker._getInst(e.target);if(t.tm_datepicker._get(s,"constrainInput"))return a=t.tm_datepicker._possibleChars(t.tm_datepicker._get(s,"dateFormat")),i=String.fromCharCode(null===e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||i<" "||!a||a.indexOf(i)>-1},_doKeyUp:function(e){var a=t.tm_datepicker._getInst(e.target);if(a.input.val()!==a.lastVal)try{t.tm_datepicker.parseDate(t.tm_datepicker._get(a,"dateFormat"),a.input?a.input.val():null,t.tm_datepicker._getFormatConfig(a))&&(t.tm_datepicker._setDateFromField(a),t.tm_datepicker._updateAlternate(a),t.tm_datepicker._updateDatepicker(a))}catch(t){return!1}return!0},_showDatepicker:function(a){var i,n,r,d,c,l,o;"input"!==(a=a.target||a).nodeName.toLowerCase()&&(a=t("input",a.parentNode)[0]),t.tm_datepicker._isDisabledDatepicker(a)||t.tm_datepicker._lastInput===a||(i=t.tm_datepicker._getInst(a),t.tm_datepicker._curInst&&t.tm_datepicker._curInst!==i&&(t.tm_datepicker._curInst.dpDiv.stop(!0,!0),i&&t.tm_datepicker._datepickerShowing&&t.tm_datepicker._hideDatepicker(t.tm_datepicker._curInst.input[0])),!1!==(r=(n=t.tm_datepicker._get(i,"beforeShow"))?n.apply(a,[a,i]):{})&&(s(i.settings,r),i.lastVal=null,t.tm_datepicker._lastInput=a,t.tm_datepicker._setDateFromField(i),t.tm_datepicker._inDialog&&(a.value=""),t.tm_datepicker._pos||(t.tm_datepicker._pos=t.tm_datepicker._findPos(a),t.tm_datepicker._pos[1]+=a.offsetHeight),d=!1,t(a).parents().each(function(){return!(d=d||"fixed"===t(this).css("position"))}),c={left:t.tm_datepicker._pos[0],top:t.tm_datepicker._pos[1]},t.tm_datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.tm_datepicker._updateDatepicker(i),c=t.tm_datepicker._checkOffset(i,c,d),i.dpDiv.css({position:t.tm_datepicker._inDialog&&t.blockUI?"static":d?"fixed":"absolute",display:"none",left:c.left+"px",top:c.top+"px"}),i.inline||(l=t.tm_datepicker._get(i,"showAnim"),o=t.tm_datepicker._get(i,"duration"),i.dpDiv.css("z-index",e(t(a))+1),t.tm_datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[l]?i.dpDiv.show(l,t.tm_datepicker._get(i,"showOptions"),o):i.dpDiv[l||"show"](l?o:null),t.tm_datepicker._shouldFocusInput(i)&&i.input.trigger("focus"),t.tm_datepicker._curInst=i)))},_updateDatepicker:function(e){var i,s,n,d;this.maxRows=4,r=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e),n=(s=this._getNumberOfMonths(e))[1],(d=e.dpDiv.find("."+this._dayOverClass+" a")).length>0&&a.apply(d.get(0),[d.get(0)]),e.dpDiv.removeClass("ui-tm-datepicker-multi-2 ui-tm-datepicker-multi-3 ui-tm-datepicker-multi-4").width(""),n>1&&e.dpDiv.addClass("ui-tm-datepicker-multi-"+n).css("width",17*n+"em"),e.dpDiv[(1!==s[0]||1!==s[1]?"add":"remove")+"Class"]("ui-tm-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-tm-datepicker-rtl"),e===t.tm_datepicker._curInst&&t.tm_datepicker._datepickerShowing&&t.tm_datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-tm-datepicker-year:first").replaceWith(e.yearshtml),i=null,e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,a,i){var s=e.dpDiv.outerWidth(),n=e.dpDiv.outerHeight(),r=e.input?e.input.outerWidth():0,d=e.input?e.input.outerHeight():0,c=document.documentElement.clientWidth+(i?0:t(document).scrollLeft()),l=document.documentElement.clientHeight+(i?0:t(document).scrollTop());return a.left-=this._get(e,"isRTL")?s-r:0,a.left-=i&&a.left===e.input.offset().left?t(document).scrollLeft():0,a.top-=i&&a.top===e.input.offset().top+d?t(document).scrollTop():0,a.left-=Math.min(a.left,a.left+s>c&&c>s?Math.abs(a.left+s-c):0),a.top-=Math.min(a.top,a.top+n>l&&l>n?Math.abs(n+d):0),a},_findPos:function(e){for(var a,i=this._getInst(e),s=this._get(i,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[s?"previousSibling":"nextSibling"];return a=t(e).offset(),[a.left,a.top]},_hideDatepicker:function(e){var a,i,s,n,r=this._curInst;!r||e&&r!==t.data(e,"datepicker")||this._datepickerShowing&&(a=this._get(r,"showAnim"),i=this._get(r,"duration"),s=function(){t.tm_datepicker._tidyDialog(r)},t.effects&&(t.effects.effect[a]||t.effects[a])?r.dpDiv.hide(a,t.tm_datepicker._get(r,"showOptions"),i,s):r.dpDiv["slideDown"===a?"slideUp":"fadeIn"===a?"fadeOut":"hide"](a?i:null,s),a||s(),this._datepickerShowing=!1,(n=this._get(r,"onClose"))&&n.apply(r.input?r.input[0]:null,[r.input?r.input.val():"",r]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-tm-datepicker-calendar")},_checkExternalClick:function(e){var a,i;t.tm_datepicker._curInst&&(a=t(e.target),i=t.tm_datepicker._getInst(a[0]),(a[0].id===t.tm_datepicker._mainDivId||0!==a.parents("#"+t.tm_datepicker._mainDivId).length||a.hasClass(t.tm_datepicker.markerClassName)||a.closest("."+t.tm_datepicker._triggerClass).length||!t.tm_datepicker._datepickerShowing||t.tm_datepicker._inDialog&&t.blockUI)&&(!a.hasClass(t.tm_datepicker.markerClassName)||t.tm_datepicker._curInst===i)||t.tm_datepicker._hideDatepicker())},_adjustDate:function(e,a,i){var s=t(e),n=this._getInst(s[0]);this._isDisabledDatepicker(s[0])||(this._adjustInstDate(n,a+("M"===i?this._get(n,"showCurrentAtPos"):0),i),this._updateDatepicker(n))},_gotoToday:function(e){var a,i=t(e),s=this._getInst(i[0]);this._get(s,"gotoCurrent")&&s.currentDay?(s.selectedDay=s.currentDay,s.drawMonth=s.currentMonth,s.selectedMonth=s.currentMonth,s.drawYear=s.currentYear,s.selectedYear=s.currentYear):(a=new Date,s.selectedDay=a.getDate(),s.drawMonth=a.getMonth(),s.selectedMonth=s.drawMonth,s.drawYear=a.getFullYear(),s.selectedYear=s.drawYear),this._notifyChange(s),this._adjustDate(i)},_selectMonthYear:function(e,a,i){var s=t(e),n=this._getInst(s[0]);n["selected"+("M"===i?"Month":"Year")]=parseInt(a.options[a.selectedIndex].value,10),n["draw"+("M"===i?"Month":"Year")]=parseInt(a.options[a.selectedIndex].value,10),this._notifyChange(n),this._adjustDate(s)},_selectDay:function(e,a,i,s){var n,r=t(e);t(s).hasClass(this._unselectableClass)||this._isDisabledDatepicker(r[0])||((n=this._getInst(r[0])).selectedDay=t("a",s).html(),n.currentDay=n.selectedDay,n.selectedMonth=a,n.currentMonth=a,n.selectedYear=i,n.currentYear=i,this._selectDate(e,this._formatDate(n,n.currentDay,n.currentMonth,n.currentYear)))},_clearDate:function(e){var a=t(e);this._selectDate(a,"")},_selectDate:function(e,a){var i,s=t(e),n=this._getInst(s[0]);a=null!==a?a:this._formatDate(n),n.input&&n.input.val(a),this._updateAlternate(n),(i=this._get(n,"onSelect"))?i.apply(n.input?n.input[0]:null,[a,n]):n.input&&n.input.trigger("change"),n.inline?this._updateDatepicker(n):(this._hideDatepicker(),this._lastInput=n.input[0],"object"!=typeof n.input[0]&&n.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var a,i,s,n=this._get(e,"altField");n&&(a=this._get(e,"altFormat")||this._get(e,"dateFormat"),i=this._getDate(e),s=this.formatDate(a,i,this._getFormatConfig(e)),t(n).val(s))},noWeekends:function(t){var e=t.getDay();return[e>0&&e<6,""]},iso8601Week:function(t){var e,a=new Date(t.getTime());return a.setDate(a.getDate()+4-(a.getDay()||7)),e=a.getTime(),a.setMonth(0),a.setDate(1),Math.floor(Math.round((e-a)/864e5)/7)+1},parseDate:function(e,a,i){var s,n,r,d,c,l,o,u,h,p,m,_,g,f,k,D=0,v=-1,y=-1,M=-1,b=-1,w=!1;if(null===e||null===a)throw"Invalid arguments";if(""===(a="object"==typeof a?a.toString():a+""))return null;for(c="string"!=typeof(d=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff)?d:(new Date).getFullYear()%100+parseInt(d,10),l=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,u=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,h=(i?i.monthNames:null)||this._defaults.monthNames,m=function(t){var a=s+1<e.length&&e.charAt(s+1)===t;return a&&(s+=1),a},_=function(t){var e=m(t),i="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,s="y"===t?i:1,n=new RegExp("^\\d{"+s+","+i+"}"),r=a.substring(D).match(n);if(!r)throw"Missing number at position "+D;return D+=r[0].length,parseInt(r[0],10)},g=function(e,i,s){var n=-1,r=t.map(m(e)?s:i,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(r,function(t,e){var i=e[1];if(a.substr(D,i.length).toLowerCase()===i.toLowerCase())return n=e[0],D+=i.length,!1}),-1!==n)return n+1;throw"Unknown name at position "+D},f=function(){if(a.charAt(D)!==e.charAt(s))throw"Unexpected literal at position "+D;D+=1},s=0;s<e.length;s+=1)if(w)"'"!==e.charAt(s)||m("'")?f():w=!1;else switch(e.charAt(s)){case"d":M=_("d");break;case"D":g("D",l,o);break;case"o":b=_("o");break;case"m":y=_("m");break;case"M":y=g("M",u,h);break;case"y":v=_("y");break;case"@":v=(p=new Date(_("@"))).getFullYear(),y=p.getMonth()+1,M=p.getDate();break;case"!":v=(p=new Date((_("!")-this._ticksTo1970)/1e4)).getFullYear(),y=p.getMonth()+1,M=p.getDate();break;case"'":m("'")?f():w=!0;break;default:f()}if(D<a.length&&(r=a.substr(D),!/^\s+/.test(r)))throw"Extra/unparsed characters found in date: "+r;if(-1===v?v=(new Date).getFullYear():v<100&&(v+=(new Date).getFullYear()-(new Date).getFullYear()%100+(v<=c?0:-100)),b>-1){y=1,M=b,k=!0;do{M<=(n=this._getDaysInMonth(v,y-1))?k=!1:(y+=1,M-=n)}while(k)}if((p=this._daylightSavingAdjust(new Date(v,y-1,M))).getFullYear()!==v||p.getMonth()+1!==y||p.getDate()!==M)throw"Invalid date";return p},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,a){var i,s=(a?a.dayNamesShort:null)||this._defaults.dayNamesShort,n=(a?a.dayNames:null)||this._defaults.dayNames,r=(a?a.monthNamesShort:null)||this._defaults.monthNamesShort,d=(a?a.monthNames:null)||this._defaults.monthNames,c=function(e){var a=i+1<t.length&&t.charAt(i+1)===e;return a&&(i+=1),a},l=function(t,e,a){var i=""+e;if(c(t))for(;i.length<a;)i="0"+i;return i},o=function(t,e,a,i){return c(t)?i[e]:a[e]},u="",h=!1;if(!e)return"";if(e)for(i=0;i<t.length;i+=1)if(h)"'"!==t.charAt(i)||c("'")?u+=t.charAt(i):h=!1;else switch(t.charAt(i)){case"d":u+=l("d",e.getDate(),2);break;case"D":u+=o("D",e.getDay(),s,n);break;case"o":u+=l("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=l("m",e.getMonth()+1,2);break;case"M":u+=o("M",e.getMonth(),r,d);break;case"y":u+=c("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":u+=e.getTime();break;case"!":u+=1e4*e.getTime()+this._ticksTo1970;break;case"'":c("'")?u+="'":h=!0;break;default:u+=t.charAt(i)}return u},_possibleChars:function(t){var e,a="",i=!1,s=function(a){var i=e+1<t.length&&t.charAt(e+1)===a;return i&&(e+=1),i};for(e=0;e<t.length;e+=1)if(i)"'"!==t.charAt(e)||s("'")?a+=t.charAt(e):i=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":a+="0123456789";break;case"D":case"M":return null;case"'":s("'")?a+="'":i=!0;break;default:a+=t.charAt(e)}return a},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){var a,i,s,n,r;if(t.input.val()!==t.lastVal){a=this._get(t,"dateFormat"),i=t.input?t.input.val():null,n=s=this._getDefaultDate(t),r=this._getFormatConfig(t),t.lastVal=i;try{n=this.parseDate(a,i,r)||s}catch(t){i=e?"":i}t.selectedDay=n.getDate(),t.selectedMonth=n.getMonth(),t.drawMonth=t.selectedMonth,t.selectedYear=n.getFullYear(),t.drawYear=t.selectedYear,t.currentDay=i?n.getDate():0,t.currentMonth=i?n.getMonth():0,t.currentYear=i?n.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,a,i){var s=null===a||""===a?i:"string"==typeof a?function(a){var i,s,n,r,d,c;try{return t.tm_datepicker.parseDate(t.tm_datepicker._get(e,"dateFormat"),a,t.tm_datepicker._getFormatConfig(e))}catch(t){}for(s=(i=(a.toLowerCase().match(/^c/)?t.tm_datepicker._getDate(e):null)||new Date).getFullYear(),n=i.getMonth(),r=i.getDate(),c=(d=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g).exec(a);c;){switch(c[2]||"d"){case"d":case"D":r+=parseInt(c[1],10);break;case"w":case"W":r+=7*parseInt(c[1],10);break;case"m":case"M":n+=parseInt(c[1],10),r=Math.min(r,t.tm_datepicker._getDaysInMonth(s,n));break;case"y":case"Y":s+=parseInt(c[1],10),r=Math.min(r,t.tm_datepicker._getDaysInMonth(s,n))}c=d.exec(a)}return new Date(s,n,r)}(a):"number"==typeof a?Number.isFinite(a)?function(t){var e=new Date;return e.setDate(e.getDate()+t),e}(a):i:new Date(a.getTime());return(s=s&&"Invalid Date"===s.toString()?i:s)&&(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)),this._daylightSavingAdjust(s)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,a){var i=!e,s=t.selectedMonth,n=t.selectedYear,r=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.currentDay=r.getDate(),t.selectedDay=t.currentDay,t.currentMonth=r.getMonth(),t.drawMonth=t.currentMonth,t.selectedMonth=t.currentMonth,t.currentYear=r.getFullYear(),t.drawYear=t.currentYear,t.selectedYear=t.currentYear,s===t.selectedMonth&&n===t.selectedYear||a||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(i?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(e){var a=this._get(e,"stepMonths"),i="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prevM:function(){t.tm_datepicker._adjustDate(i,-1,"M")},nextM:function(){t.tm_datepicker._adjustDate(i,1,"M")},prevY:function(){t.tm_datepicker._adjustDate(i,-1,"Y")},nextY:function(){t.tm_datepicker._adjustDate(i,1,"Y")},prev:function(){t.tm_datepicker._adjustDate(i,-a,"M")},next:function(){t.tm_datepicker._adjustDate(i,+a,"M")},hide:function(){t.tm_datepicker._hideDatepicker()},today:function(){},selectDay:function(){return t.tm_datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.tm_datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return t.tm_datepicker._selectMonthYear(i,this,"Y"),!1}};return t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")]),null})},_tm_canAdjustMonth:function(t,e,a,i){var s=this._daylightSavingAdjust(new Date(a,i+e,1));return e<0&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(t,s)},_generateHTML:function(t){var e,a,i,s,n,r,d,c,l,o,u,h,p,m,_,g,f,k,D,v,y,M,b,w,I,C,x,Y,F,S,N,A,T,j,K,O,R,L,W,E,H,P,U,z,B,J,V,q,Q=new Date,X=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth(),Q.getDate())),Z=this._get(t,"isRTL"),$=this._get(t,"showButtonPanel"),G=this._get(t,"hideIfNoPrevNext"),tt=this._get(t,"navigationAsDateFormat"),et=this._getNumberOfMonths(t),at=this._get(t,"showCurrentAtPos"),it=this._get(t,"stepMonths"),st=1!==et[0]||1!==et[1],nt=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),rt=this._getMinMaxDate(t,"min"),dt=this._getMinMaxDate(t,"max"),ct=t.drawMonth-at,lt=t.drawYear;if(ct<0&&(ct+=12,lt-=1),dt)for(e=this._daylightSavingAdjust(new Date(dt.getFullYear(),dt.getMonth()-et[0]*et[1]+1,dt.getDate())),e=rt&&e<rt?rt:e;this._daylightSavingAdjust(new Date(lt,ct,1))>e;)(ct-=1)<0&&(ct=11,lt-=1);for(t.drawMonth=ct,t.drawYear=lt,a=this._get(t,"prevText"),a=tt?this.formatDate(a,this._daylightSavingAdjust(new Date(lt,ct-it,1)),this._getFormatConfig(t)):a,i=this._canAdjustMonth(t,-1,lt,ct)?"<a class='ui-tm-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(Z?"e":"w")+"'>"+a+"</span></a>":G?"":"<a class='ui-tm-datepicker-prev ui-corner-all ui-state-disabled' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(Z?"e":"w")+"'>"+a+"</span></a>",s=this._get(t,"nextText"),s=tt?this.formatDate(s,this._daylightSavingAdjust(new Date(lt,ct+it,1)),this._getFormatConfig(t)):s,n=this._canAdjustMonth(t,1,lt,ct)?"<a class='ui-tm-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(Z?"w":"e")+"'>"+s+"</span></a>":G?"":"<a class='ui-tm-datepicker-next ui-corner-all ui-state-disabled' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(Z?"w":"e")+"'>"+s+"</span></a>",r=this._get(t,"currentText"),d=this._get(t,"gotoCurrent")&&t.currentDay?nt:X,r=tt?this.formatDate(r,d,this._getFormatConfig(t)):r,U=t.inline?"":"<div class='tm-ui-dp-btn-wrap tm-ui-dp-close'><div role='button' class='tm-ui-dp-btn ui-tm-datepicker-close' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</div></div>",z=$?"<div class='tm-ui-dp-buttonpane'>"+(Z?U:"")+(this._isInRange(t,d)?"<div class='tm-ui-dp-btn-wrap tm-ui-dp-current'><div role='button' class='tm-ui-dp-btn ui-tm-datepicker-current' data-handler='today' data-event='click'>"+r+"</div></div>":"")+(Z?"":U)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,l=this._get(t,"showWeek"),o=this._get(t,"dayNames"),u=this._get(t,"dayNamesMin"),h=this._get(t,"monthNames"),p=this._get(t,"beforeShowDay"),m=this._get(t,"showOtherMonths"),_=this._get(t,"selectOtherMonths"),g=this._getDefaultDate(t),f="",B=this._tm_canAdjustMonth(t,-1,lt,ct),J=this._tm_canAdjustMonth(t,1,lt,ct),V=this._tm_canAdjustMonth(t,-12,lt,ct),q=this._tm_canAdjustMonth(t,12,lt,ct),W='<div class="tm-ui-dp-button-prev tm-ui-dp-button"><div '+(B?'data-handler="prevM" data-event="click" ':"")+'aria-label="'+a+'" class="'+(B?"":"tm-ui-dp-button-disabled ")+'tm-ui-dp-button-arrow tcfa tcfa-angle-left" tabindex="0" role="button"></div></div>',E='<div class="tm-ui-dp-button-next tm-ui-dp-button"><div '+(J?'data-handler="nextM" data-event="click" ':"")+'aria-label="'+s+'" class="'+(J?"":"tm-ui-dp-button-disabled ")+'tm-ui-dp-button-arrow tcfa tcfa-angle-right" tabindex="0" role="button"></div></div>',H='<div class="tm-ui-dp-button-prev tm-ui-dp-button"><div '+(V?'data-handler="prevY" data-event="click" ':"")+'aria-label="'+a+'" class="'+(V?"":"tm-ui-dp-button-disabled ")+'tm-ui-dp-button-arrow tcfa tcfa-angle-left" tabindex="0" role="button"></div></div>',P='<div class="tm-ui-dp-button-next tm-ui-dp-button"><div '+(q?'data-handler="nextY" data-event="click" ':"")+'aria-label="'+s+'" class="'+(q?"":"tm-ui-dp-button-disabled ")+'tm-ui-dp-button-arrow tcfa tcfa-angle-right" tabindex="0" role="button"></div></div>',R=G?"":'<div class="tm-ui-dp-title-button">'+(Z?E:W)+'<span aria-label="'+h[ct]+'" role="button" class="tm-ui-dp-month">'+h[ct]+"</span>"+(Z?W:E)+"</div>",L=G?"":'<div class="tm-ui-dp-title-button">'+(Z?P:H)+'<span class="tm-ui-dp-year" role="button" aria-label="'+lt+'">'+lt+"</span>"+(Z?H:P)+"</div>",f+="<div class='tm-ui-dp-wrap'><div class='tm-ui-dp-overlay'></div><div class='tm-ui-dp'><div class='tm-ui-dp-container'><div class='tm-ui-dp-inner-container'><div class='tm-ui-dp-ui'><div class='tm-ui-dp-ui-inner'><div class='tm-ui-dp-main-wrap'><div class='tm-ui-dp-main'>",D=0;D<et[0];D+=1){for(v="",this.maxRows=4,y=0;y<et[1];y+=1){if(M=this._daylightSavingAdjust(new Date(lt,ct,t.selectedDay)),b=" ui-corner-all",w="",st){if(w+="<div class='ui-tm-datepicker-group",et[1]>1)switch(y){case 0:w+=" ui-tm-datepicker-group-first",b=" ui-corner-"+(Z?"right":"left");break;case et[1]-1:w+=" ui-tm-datepicker-group-last",b=" ui-corner-"+(Z?"left":"right");break;default:w+=" ui-tm-datepicker-group-middle",b=""}w+="'>"}for(w+="<div class='tm-ui-dp-header ui-tm-datepicker-header ui-widget-header ui-helper-clearfix"+b+"'>"+(/all|left/.test(b)&&0===D?Z?n:i:"")+(/all|right/.test(b)&&0===D?Z?i:n:"")+'<div class="ui-tm-datepicker-title tm-ui-dp-title">'+(/all|left/.test(b)&&0===D?Z?L+R:R+L:"")+"</div></div>",w+="<div class='tm-ui-dp-main-content'>",w+="<div class='tm-ui-dp-main-header-wrap'><div class='tm-ui-dp-main-header'>",w+="<table class='ui-tm-datepicker-calendar'><tbody><tr>",I=l?"<th class='ui-tm-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",k=0;k<7;k+=1)C=(k+c)%7,I+="<th scope='col'"+((k+c+6)%7>=5?" class='ui-tm-datepicker-week-end'":"")+"><span title='"+o[C]+"'>"+u[C]+"</span></th>";for(w+=I+"</tr></tbody></table>",w+="</div></div>",w+="<div class='tm-ui-dp-main-table'>",x=this._getDaysInMonth(lt,ct),lt===t.selectedYear&&ct===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,x)),Y=(this._getFirstDayOfMonth(lt,ct)-c+7)%7,F=6,S=st&&this.maxRows>F?this.maxRows:F,this.maxRows=S,N=this._daylightSavingAdjust(new Date(lt,ct,1-Y)),A=0;A<S;A+=1){for(w+="<div class='tm-ui-dp-main-row'>",T=l?"<div class='ui-tm-datepicker-week-col'>"+this._get(t,"calculateWeek")(N)+"</div>":"",k=0;k<7;k+=1)j=p?p.apply(t.input?t.input[0]:null,[N]):[!0,""],O=(K=N.getMonth()!==ct)&&!_||!j[0]||rt&&N<rt||dt&&N>dt,T+="<div class='tm-ui-dp-main-cell "+((k+c+6)%7>=5?" ui-tm-datepicker-week-end":"")+(K?" ui-tm-datepicker-other-month":"")+(N.getTime()===M.getTime()&&ct===t.selectedMonth&&t._keyEvent||g.getTime()===N.getTime()&&g.getTime()===M.getTime()?" "+this._dayOverClass:"")+(O?" "+this._unselectableClass+" ui-state-disabled":"")+(K&&!m?"":" "+j[1]+(N.getTime()===nt.getTime()?" "+this._currentClass:"")+(N.getTime()===X.getTime()?" ui-tm-datepicker-today":""))+"'"+(K&&!m||!j[2]?"":" title='"+j[2].replace(/'/g,"&#39;")+"'")+(O?"":" data-handler='selectDay' data-event='click' data-month='"+N.getMonth()+"' data-year='"+N.getFullYear()+"'")+"><div class='tm-ui-dp-main-cell-inner'><div class='tm-ui-dp-main-cell-content'>"+(K&&!m?"&#xa0;":O?"<span class='ui-state-default'>"+N.getDate()+"</span>":"<a class='ui-state-default"+(N.getTime()===X.getTime()?" ui-state-highlight":"")+(N.getTime()===nt.getTime()?" ui-state-active":"")+(K?" ui-priority-secondary":"")+"' href='#'>"+N.getDate()+"</a>")+"</div></div></div>",N.setDate(N.getDate()+1),N=this._daylightSavingAdjust(N);w+=T+"</div>"}(ct+=1)>11&&(ct=0,lt+=1),w+="</div>",v+=w+="</div>"+(st?"</div>"+(et[0]>0&&y===et[1]-1?"<div class='ui-tm-datepicker-row-break'></div>":""):"")}f+=v}return f+="</div></div></div></div></div>",f+=z,f+="</div></div></div>",t._keyEvent=!1,f},_generateMonthYearHeader:function(t,e,a,i,s,n,r,d){var c,l,o,u,h,p,m,_,g=this._get(t,"changeMonth"),f=this._get(t,"changeYear"),k=this._get(t,"showMonthAfterYear"),D="<div class='ui-tm-datepicker-title'>",v="";if(n||!g)v+="<span class='ui-tm-datepicker-month'>"+r[e]+"</span>";else{for(c=i&&i.getFullYear()===a,l=s&&s.getFullYear()===a,v+="<select class='ui-tm-datepicker-month' data-handler='selectMonth' data-event='change'>",o=0;o<12;o+=1)(!c||o>=i.getMonth())&&(!l||o<=s.getMonth())&&(v+="<option value='"+o+"'"+(o===e?" selected='selected'":"")+">"+d[o]+"</option>");v+="</select>"}if(k||(D+=v+(!n&&g&&f?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",n||!f)D+="<span class='ui-tm-datepicker-year'>"+a+"</span>";else{for(u=this._get(t,"yearRange").split(":"),h=(new Date).getFullYear(),m=(p=function(t){var e=t.match(/c[+-].*/)?a+parseInt(t.substring(1),10):t.match(/[+-].*/)?h+parseInt(t,10):parseInt(t,10);return isNaN(e)?h:e})(u[0]),_=Math.max(m,p(u[1]||"")),m=i?Math.max(m,i.getFullYear()):m,_=s?Math.min(_,s.getFullYear()):_,t.yearshtml+="<select class='ui-tm-datepicker-year' data-handler='selectYear' data-event='change'>";m<=_;m+=1)t.yearshtml+="<option value='"+m+"'"+(m===a?" selected='selected'":"")+">"+m+"</option>";t.yearshtml+="</select>",D+=t.yearshtml,t.yearshtml=null}return D+=this._get(t,"yearSuffix"),k&&(D+=(!n&&g&&f?"":"&#xa0;")+v),D+="</div>"},_adjustInstDate:function(t,e,a){var i=t.selectedYear+("Y"===a?e:0),s=t.selectedMonth+("M"===a?e:0),n=Math.min(t.selectedDay,this._getDaysInMonth(i,s))+("D"===a?e:0),r=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(i,s,n)));t.selectedDay=r.getDate(),t.selectedMonth=r.getMonth(),t.drawMonth=t.selectedMonth,t.selectedYear=r.getFullYear(),t.drawYear=t.selectedYear,"M"!==a&&"Y"!==a||this._notifyChange(t)},_restrictMinMax:function(t,e){var a=this._getMinMaxDate(t,"min"),i=this._getMinMaxDate(t,"max"),s=a&&e<a?a:e;return i&&s>i?i:s},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null===e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,a,i){var s=this._getNumberOfMonths(t),n=this._daylightSavingAdjust(new Date(a,i+(e<0?e:s[0]*s[1]),1));return e<0&&n.setDate(this._getDaysInMonth(n.getFullYear(),n.getMonth())),this._isInRange(t,n)},_isInRange:function(t,e){var a,i,s=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max"),r=null,d=null,c=this._get(t,"yearRange");return c&&(a=c.split(":"),i=(new Date).getFullYear(),r=parseInt(a[0],10),d=parseInt(a[1],10),a[0].match(/[+-].*/)&&(r+=i),a[1].match(/[+-].*/)&&(d+=i)),(!s||e.getTime()>=s.getTime())&&(!n||e.getTime()<=n.getTime())&&(!r||e.getFullYear()>=r)&&(!d||e.getFullYear()<=d)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,a,i){var s;return e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear),s=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(i,a,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay)),this.formatDate(this._get(t,"dateFormat"),s,this._getFormatConfig(t))}}),t.fn.tm_datepicker=function(e){var a;return this.length?(t.tm_datepicker.initialized||(t(document).on("mousedown",t.tm_datepicker._checkExternalClick),t.tm_datepicker.initialized=!0),0===t("#"+t.tm_datepicker._mainDivId).length&&t("body").append(t.tm_datepicker.dpDiv),a=Array.prototype.slice.call(arguments,1),"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.tm_datepicker["_"+e+"Datepicker"].apply(t.tm_datepicker,[this[0]].concat(a)):this.each(function(){"string"==typeof e?t.tm_datepicker["_"+e+"Datepicker"].apply(t.tm_datepicker,[this].concat(a)):t.tm_datepicker._attachDatepicker(this,e)}):t.tm_datepicker["_"+e+"Datepicker"].apply(t.tm_datepicker,[this[0]].concat(a))):this},t.tm_datepicker=new n,t.tm_datepicker.initialized=!1,t.tm_datepicker.uuid=(new Date).getTime(),t.tm_datepicker.version="1.11.4")});!function(e){"use strict";"function"==typeof window.define&&window.define.amd?window.define(["jquery","jquery-ui"],e):e(window.jQuery)}(function(e){"use strict";var t=function(t,i){var s;e.extend(t,i);for(s in i)null!==i[s]&&void 0!==i[s]||(t[s]=i[s]);return t},i=function(e){var t;for(t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},s=function(e){var t=e.replace(/'.*?'/g,"").toLowerCase(),i=function(e,t){return-1!==e.indexOf(t)};return{hour:i(t,"h"),minute:i(t,"m"),second:i(t,"s"),millisec:i(t,"l"),microsec:i(t,"c"),timezone:i(t,"z"),ampm:i(t,"t")&&i(e,"h"),iso8601:i(e,"Z")}},a=function(e){return 0===(e%=12)&&(e=12),String(e)},n=function(t,i){return t&&t[i]?t[i]:e.tm_timepicker._defaults[i]},r=function(e,t){var i=n(t,"separator"),s=n(t,"timeFormat").split(i).length,a=e.split(i),r=a.length;return r>1?{dateString:a.splice(0,r-s).join(i),timeString:a.splice(0,s).join(i)}:{dateString:e,timeString:""}},l=function(t,i,s,a,n){var l,m,o;if(m=r(s,n),l=e.tm_datepicker._base_parseDate(t,m.dateString,a),""===m.timeString)return{date:l};if(!(o=e.tm_datepicker.parseTime(i,m.timeString,n)))throw"Wrong time format";return{date:l,timeObj:o}},m=function(e,t){var i;e&&e.timezone_select&&(i=t||new Date,e.timezone_select.val(-i.getTimezoneOffset()))},o=function(){this.regional=[],this.regional[""]={currentText:"Now",closeText:"Done",amNames:["AM","A"],pmNames:["PM","P"],timeFormat:"HH:mm",timeSuffix:"",timeOnlyTitle:"Choose Time",timeText:"Time",hourText:"Hour",minuteText:"Minute",secondText:"Second",millisecText:"Millisecond",microsecText:"Microsecond",timezoneText:"Time Zone",isRTL:!1},this._defaults={showButtonPanel:!0,timeOnly:!1,timeOnlyShowDate:!1,showHour:null,showMinute:null,showSecond:null,showMillisec:null,showMicrosec:null,showTimezone:null,showTime:!0,stepHour:1,stepMinute:1,stepSecond:1,stepMillisec:1,stepMicrosec:1,hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null,hourMin:0,minuteMin:0,secondMin:0,millisecMin:0,microsecMin:0,hourMax:23,minuteMax:59,secondMax:59,millisecMax:999,microsecMax:999,minDateTime:null,maxDateTime:null,maxTime:null,minTime:null,onSelect:null,hourGrid:0,minuteGrid:0,secondGrid:0,millisecGrid:0,microsecGrid:0,alwaysSetTime:!0,separator:" ",altFieldTimeOnly:!0,altTimeFormat:null,altSeparator:null,altTimeSuffix:null,altRedirectFocus:!0,pickerTimeFormat:null,pickerTimeSuffix:null,showTimepicker:!0,timezoneList:null,addSliderAccess:!1,sliderAccessArgs:null,controlType:"slider",oneLine:!1,defaultValue:null,parse:"strict",afterInject:null},e.extend(this._defaults,this.regional[""])};e.ui.tm_timepicker=e.ui.tm_timepicker||{},e.ui.tm_timepicker.version||(e.extend(e.ui,{tm_timepicker:{version:"1.6.3"}}),e.extend(o.prototype,{$input:null,$altInput:null,$timeObj:null,inst:null,hour_slider:null,minute_slider:null,second_slider:null,millisec_slider:null,microsec_slider:null,timezone_select:null,maxTime:null,minTime:null,hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null,hourMinOriginal:null,minuteMinOriginal:null,secondMinOriginal:null,millisecMinOriginal:null,microsecMinOriginal:null,hourMaxOriginal:null,minuteMaxOriginal:null,secondMaxOriginal:null,millisecMaxOriginal:null,microsecMaxOriginal:null,ampm:"",formattedDate:"",formattedTime:"",formattedDateTime:"",timezoneList:null,units:["hour","minute","second","millisec","microsec"],support:{},control:null,setDefaults:function(e){return t(this._defaults,e||{}),this},_newInst:function(t,i){var a,n,r,l,m,c,u=new o,d={},h={},_=0,f=null;for(r in this._defaults)Object.prototype.hasOwnProperty.call(this._defaults,r)&&(l=t.attr("data-"+r))&&(d[r]=l);a={beforeShow:function(e,i){if("function"==typeof u._defaults.evnts.beforeShow)return u._defaults.evnts.beforeShow.call(t[0],e,i,u)},onChangeMonthYear:function(e,i,s){"function"==typeof u._defaults.evnts.onChangeMonthYear&&u._defaults.evnts.onChangeMonthYear.call(t[0],e,i,s,u)},onClose:function(e,i){!0===u.timeDefined&&""!==t.val()&&u._updateDateTime(i),"function"==typeof u._defaults.evnts.onClose&&u._defaults.evnts.onClose.call(t[0],e,i,u)}};for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(h[n]=i[n]||this._defaults[n]||null);if(u._defaults=e.extend({},this._defaults,d,i,a,{evnts:h,tm_timepicker:u}),u.amNames=e.map(u._defaults.amNames,function(e){return e.toUpperCase()}),u.pmNames=e.map(u._defaults.pmNames,function(e){return e.toUpperCase()}),u.support=s(u._defaults.timeFormat+(u._defaults.pickerTimeFormat?u._defaults.pickerTimeFormat:"")+(u._defaults.altTimeFormat?u._defaults.altTimeFormat:"")),"string"==typeof u._defaults.controlType?("slider"===u._defaults.controlType&&void 0===e.ui.slider&&(u._defaults.controlType="select"),u.control=u._controls[u._defaults.controlType]):u.control=u._defaults.controlType,m=[-720,-660,-600,-570,-540,-480,-420,-360,-300,-270,-240,-210,-180,-120,-60,0,60,120,180,210,240,270,300,330,345,360,390,420,480,525,540,570,600,630,660,690,720,765,780,840],null!==u._defaults.timezoneList&&(m=u._defaults.timezoneList),(c=m.length)>0&&"object"!=typeof m[0])for(;_<c;_+=1)f=m[_],m[_]={value:f,label:e.tm_timepicker.timezoneOffsetString(f,u.support.iso8601)};return u._defaults.timezoneList=m,u.timezone=null!==u._defaults.timezone?e.tm_timepicker.timezoneOffsetNumber(u._defaults.timezone):-1*(new Date).getTimezoneOffset(),u.hour=u._defaults.hour<u._defaults.hourMin?u._defaults.hourMin:u._defaults.hour>u._defaults.hourMax?u._defaults.hourMax:u._defaults.hour,u.minute=u._defaults.minute<u._defaults.minuteMin?u._defaults.minuteMin:u._defaults.minute>u._defaults.minuteMax?u._defaults.minuteMax:u._defaults.minute,u.second=u._defaults.second<u._defaults.secondMin?u._defaults.secondMin:u._defaults.second>u._defaults.secondMax?u._defaults.secondMax:u._defaults.second,u.millisec=u._defaults.millisec<u._defaults.millisecMin?u._defaults.millisecMin:u._defaults.millisec>u._defaults.millisecMax?u._defaults.millisecMax:u._defaults.millisec,u.microsec=u._defaults.microsec<u._defaults.microsecMin?u._defaults.microsecMin:u._defaults.microsec>u._defaults.microsecMax?u._defaults.microsecMax:u._defaults.microsec,u.ampm="",u.$input=t,u._defaults.altField&&(u.$altInput=e(u._defaults.altField),!0===u._defaults.altRedirectFocus&&u.$altInput.css({cursor:"pointer"}).focus(function(){t.trigger("focus")})),0!==u._defaults.minDate&&0!==u._defaults.minDateTime||(u._defaults.minDate=new Date),0!==u._defaults.maxDate&&0!==u._defaults.maxDateTime||(u._defaults.maxDate=new Date),void 0!==u._defaults.minDate&&u._defaults.minDate instanceof Date&&(u._defaults.minDateTime=new Date(u._defaults.minDate.getTime())),void 0!==u._defaults.minDateTime&&u._defaults.minDateTime instanceof Date&&(u._defaults.minDate=new Date(u._defaults.minDateTime.getTime())),void 0!==u._defaults.maxDate&&u._defaults.maxDate instanceof Date&&(u._defaults.maxDateTime=new Date(u._defaults.maxDate.getTime())),void 0!==u._defaults.maxDateTime&&u._defaults.maxDateTime instanceof Date&&(u._defaults.maxDate=new Date(u._defaults.maxDateTime.getTime())),u.$input.on("focus",function(){u._onFocus()}),u.$input.next(".ui-tm-timepicker-trigger").on("click",function(){return u._onFocus(),!1}),u},_addTimePicker:function(t){var i=e.epoAPI.util.trim(this.$altInput&&this._defaults.altFieldTimeOnly?this.$input.val()+" "+this.$altInput.val():this.$input.val());this.timeDefined=this._parseTime(i),this._limitMinMaxDateTime(t,!1),this._injectTimePicker(),this._afterInject()},_parseTime:function(t,i){var s,a,n;if(this.inst||(this.inst=e.tm_datepicker._getInst(this.$input[0])),i||!this._defaults.timeOnly){s=e.tm_datepicker._get(this.inst,"dateFormat");try{if(!(a=l(s,this._defaults.timeFormat,t,e.tm_datepicker._getFormatConfig(this.inst),this._defaults)).timeObj)return!1;e.extend(this,a.timeObj)}catch(i){return e.tm_timepicker.log("Error parsing the date/time string: "+i+"\ndate/time string = "+t+"\ntimeFormat = "+this._defaults.timeFormat+"\ndateFormat = "+s),!1}return!0}return!!(n=e.tm_datepicker.parseTime(this._defaults.timeFormat,t,this._defaults))&&(e.extend(this,n),!0)},_afterInject:function(){var e=this.inst.settings;"function"==typeof e.afterInject&&e.afterInject.call(this)},_ui_tpicker_onclick:function(t){var i=e(t.target),s=i.html(),a=parseInt(s.replace(/[^0-9]/g),10),n=s.replace(/[^apm]/gi),r=i.data("for");"hour"===r&&(-1!==n.indexOf("p")&&a<12?a+=12:-1!==n.indexOf("a")&&12===a&&(a=0)),t.data.tp_inst.control.value(t.data.tp_inst,t.data.tp_inst[r+"_slider"],t.data.litem,a),t.data.tp_inst._onTimeChange(),t.data.tp_inst._onSelectHandler()},_injectTimePicker:function(){var t,i,s,a,n,r,l,o,c,u,d=this.inst.dpDiv,h=this.inst.settings,_=this,f="",p="",g=null,M={},k={},T=null,D=0,x=0;if(0===d.find("div.ui-tm-timepicker-div").length&&h.showTimepicker){for(t=" ui_tpicker_unit_hide",i='<div class="ui-tm-timepicker-div'+(h.isRTL?" ui-tm-timepicker-rtl":"")+(h.oneLine&&"select"===h.controlType?" ui-tm-timepicker-oneLine":"")+'"><dl><dt class="ui_tpicker_time_label'+(h.showTime?"":t)+'">'+h.timeText+'</dt><dd class="ui_tpicker_time '+(h.showTime?"":t)+'"><input class="ui_tpicker_time_input" '+(h.timeInput?"":"disabled")+"/></dd>",D=0,x=this.units.length;D<x;D+=1){if(f=this.units[D],p=f.substr(0,1).toUpperCase()+f.substr(1),g=null!==h["show"+p]?h["show"+p]:this.support[f],M[f]=parseInt(h[f+"Max"]-(h[f+"Max"]-h[f+"Min"])%h["step"+p],10),k[f]=0,i+='<dt class="ui_tpicker_'+f+"_label"+(g?"":t)+'">'+h[f+"Text"]+'</dt><dd class="ui_tpicker_'+f+(g?"":t)+'"><div class="ui_tpicker_'+f+"_slider"+(g?"":t)+'"></div>',g&&h[f+"Grid"]>0){if(i+='<div><table class="ui-tpicker-grid-label"><tr>',"hour"===f)for(s=h[f+"Min"];s<=M[f];s+=parseInt(h[f+"Grid"],10))k[f]+=1,i+='<td data-for="'+f+'">'+e.tm_datepicker.formatTime(this.support.ampm?"hht":"HH",{hour:s},h)+"</td>";else for(a=h[f+"Min"];a<=M[f];a+=parseInt(h[f+"Grid"],10))k[f]+=1,i+='<td data-for="'+f+'">'+(a<10?"0":"")+a+"</td>";i+="</tr></table></div>"}i+="</dd>"}for(i+='<dt class="ui_tpicker_timezone_label'+((n=null!==h.showTimezone?h.showTimezone:this.support.timezone)?"":t)+'">'+h.timezoneText+"</dt>",i+='<dd class="ui_tpicker_timezone'+(n?"":t)+'"></dd>',r=e(i+="</dl></div>"),!0===h.timeOnly&&(r.prepend('<div class="tm-ui-widget-header"><div class="tm-ui-tp-title">'+h.timeOnlyTitle+"</div></div>"),d.find(".tm-ui-dp-inner-container").hide()),D=0,x=_.units.length;D<x;D+=1)g=null!==h["show"+(p=(f=_.units[D]).substr(0,1).toUpperCase()+f.substr(1))]?h["show"+p]:this.support[f],_[f+"_slider"]=_.control.create(_,r.find(".ui_tpicker_"+f+"_slider"),f,_[f],h[f+"Min"],M[f],h["step"+p]),g&&h[f+"Grid"]>0&&(T=100*k[f]*h[f+"Grid"]/(M[f]-h[f+"Min"]),r.find(".ui_tpicker_"+f+" table").css({width:T+"%",marginLeft:h.isRTL?"0":T/(-2*k[f])+"%",marginRight:h.isRTL?T/(-2*k[f])+"%":"0",borderCollapse:"collapse"}).find("td").on("click",{that:this,tp_inst:_,litem:f},this._ui_tpicker_onclick).css({cursor:"pointer",width:100/k[f]+"%",textAlign:"center",overflow:"hidden"}));this.timezone_select=r.find(".ui_tpicker_timezone").append("<select></select>").find("select"),e.fn.append.apply(this.timezone_select,e.map(h.timezoneList,function(t){return e("<option />").val("object"==typeof t?t.value:t).text("object"==typeof t?t.label:t)})),void 0!==this.timezone&&null!==this.timezone&&""!==this.timezone?-1*new Date(this.inst.selectedYear,this.inst.selectedMonth,this.inst.selectedDay,12).getTimezoneOffset()===this.timezone?m(_):this.timezone_select.val(this.timezone):void 0!==this.hour&&null!==this.hour&&""!==this.hour?this.timezone_select.val(h.timezone):m(_),this.timezone_select.on("change",function(){_._onTimeChange(),_._onSelectHandler(),_._afterInject()}),(l=d.find(".tm-ui-dp-buttonpane")).length?l.before(r):d.append(r),this.$timeObj=r.find(".ui_tpicker_time_input"),this.$timeObj.on("change",function(){var t=_.inst.settings.timeFormat,i=e.tm_datepicker.parseTime(t,this.value),s=new Date;i?(s.setHours(i.hour),s.setMinutes(i.minute),s.setSeconds(i.second),e.datepicker._setTime(_.inst,s)):(this.value=_.formattedTime,this.blur())}),null!==this.inst&&(o=this.timeDefined,this._onTimeChange(),this.timeDefined=o),this._defaults.addSliderAccess&&(c=this._defaults.sliderAccessArgs,u=this._defaults.isRTL,c.isRTL=u,setTimeout(function(){var t;0===r.find(".ui-slider-access").length&&(r.find(".ui-slider:visible").sliderAccess(c),(t=r.find(".ui-slider-access:eq(0)").outerWidth(!0))&&r.find("table:visible").each(function(){var i=e(this),s=i.outerWidth(),a=i.css(u?"marginRight":"marginLeft").toString().replace("%",""),n=s-t,r=a*n/s+"%",l={width:n,marginRight:0,marginLeft:0};l[u?"marginRight":"marginLeft"]=r,i.css(l)}))},10)),_._limitMinMaxDateTime(this.inst,!0)}},_limitMinMaxDateTime:function(t,i){var s,a,n,r,l,m,o,c,u,d,h,_=this._defaults,f=new Date(t.selectedYear,t.selectedMonth,t.selectedDay);this._defaults.showTimepicker&&(null!==e.tm_datepicker._get(t,"minDateTime")&&void 0!==e.tm_datepicker._get(t,"minDateTime")&&f&&(s=e.tm_datepicker._get(t,"minDateTime"),a=new Date(s.getFullYear(),s.getMonth(),s.getDate(),0,0,0,0),null!==this.hourMinOriginal&&null!==this.minuteMinOriginal&&null!==this.secondMinOriginal&&null!==this.millisecMinOriginal&&null!==this.microsecMinOriginal||(this.hourMinOriginal=_.hourMin,this.minuteMinOriginal=_.minuteMin,this.secondMinOriginal=_.secondMin,this.millisecMinOriginal=_.millisecMin,this.microsecMinOriginal=_.microsecMin),t.settings.timeOnly||a.getTime()===f.getTime()?(this._defaults.hourMin=s.getHours(),this.hour<=this._defaults.hourMin?(this.hour=this._defaults.hourMin,this._defaults.minuteMin=s.getMinutes(),this.minute<=this._defaults.minuteMin?(this.minute=this._defaults.minuteMin,this._defaults.secondMin=s.getSeconds(),this.second<=this._defaults.secondMin?(this.second=this._defaults.secondMin,this._defaults.millisecMin=s.getMilliseconds(),this.millisec<=this._defaults.millisecMin?(this.millisec=this._defaults.millisecMin,this._defaults.microsecMin=s.getMicroseconds()):(this.microsec<this._defaults.microsecMin&&(this.microsec=this._defaults.microsecMin),this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.hourMin=this.hourMinOriginal,this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)),null!==e.tm_datepicker._get(t,"maxDateTime")&&void 0!==e.tm_datepicker._get(t,"maxDateTime")&&f&&(n=e.tm_datepicker._get(t,"maxDateTime"),r=new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0,0),null!==this.hourMaxOriginal&&null!==this.minuteMaxOriginal&&null!==this.secondMaxOriginal&&null!==this.millisecMaxOriginal||(this.hourMaxOriginal=_.hourMax,this.minuteMaxOriginal=_.minuteMax,this.secondMaxOriginal=_.secondMax,this.millisecMaxOriginal=_.millisecMax,this.microsecMaxOriginal=_.microsecMax),t.settings.timeOnly||r.getTime()===f.getTime()?(this._defaults.hourMax=n.getHours(),this.hour>=this._defaults.hourMax?(this.hour=this._defaults.hourMax,this._defaults.minuteMax=n.getMinutes(),this.minute>=this._defaults.minuteMax?(this.minute=this._defaults.minuteMax,this._defaults.secondMax=n.getSeconds(),this.second>=this._defaults.secondMax?(this.second=this._defaults.secondMax,this._defaults.millisecMax=n.getMilliseconds(),this.millisec>=this._defaults.millisecMax?(this.millisec=this._defaults.millisecMax,this._defaults.microsecMax=n.getMicroseconds()):(this.microsec>this._defaults.microsecMax&&(this.microsec=this._defaults.microsecMax),this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.hourMax=this.hourMaxOriginal,this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)),null!==t.settings.minTime&&(l=new Date("01/01/1970 "+t.settings.minTime),parseFloat(t.settings.minTime).toString()===t.settings.minTime&&(l=new Date(Date.now()+parseFloat(t.settings.minTime))),this.hour<l.getHours()?(this._defaults.hourMin=l.getHours(),this.hour=this._defaults.hourMin,this._defaults.minuteMin=l.getMinutes(),this.minute=this._defaults.minuteMin):this.hour===l.getHours()&&this.minute<l.getMinutes()?(this._defaults.minuteMin=l.getMinutes(),this.minute=this._defaults.minuteMin):this._defaults.hourMin<l.getHours()?(this._defaults.hourMin=l.getHours(),this._defaults.minuteMin=l.getMinutes()):this._defaults.hourMin===l.getHours()===this.hour&&this._defaults.minuteMin<l.getMinutes()?this._defaults.minuteMin=l.getMinutes():this._defaults.minuteMin=0),null!==t.settings.maxTime&&(m=new Date("01/01/1970 "+t.settings.maxTime),this.hour>m.getHours()?(this._defaults.hourMax=m.getHours(),this.hour=this._defaults.hourMax,this._defaults.minuteMax=m.getMinutes(),this.minute=this._defaults.minuteMax):this.hour===m.getHours()&&this.minute>m.getMinutes()?(this._defaults.minuteMax=m.getMinutes(),this.minute=this._defaults.minuteMax):this._defaults.hourMax>m.getHours()?(this._defaults.hourMax=m.getHours(),this._defaults.minuteMax=m.getMinutes()):this._defaults.hourMax===m.getHours()===this.hour&&this._defaults.minuteMax>m.getMinutes()?this._defaults.minuteMax=m.getMinutes():this._defaults.minuteMax=59),void 0!==i&&!0===i&&(o=parseInt(this._defaults.hourMax-(this._defaults.hourMax-this._defaults.hourMin)%this._defaults.stepHour,10),c=parseInt(this._defaults.minuteMax-(this._defaults.minuteMax-this._defaults.minuteMin)%this._defaults.stepMinute,10),u=parseInt(this._defaults.secondMax-(this._defaults.secondMax-this._defaults.secondMin)%this._defaults.stepSecond,10),d=parseInt(this._defaults.millisecMax-(this._defaults.millisecMax-this._defaults.millisecMin)%this._defaults.stepMillisec,10),h=parseInt(this._defaults.microsecMax-(this._defaults.microsecMax-this._defaults.microsecMin)%this._defaults.stepMicrosec,10),this.hour_slider&&(this.control.options(this,this.hour_slider,"hour",{min:this._defaults.hourMin,max:o,step:this._defaults.stepHour}),this.control.value(this,this.hour_slider,"hour",this.hour-this.hour%this._defaults.stepHour)),this.minute_slider&&(this.control.options(this,this.minute_slider,"minute",{min:this._defaults.minuteMin,max:c,step:this._defaults.stepMinute}),this.control.value(this,this.minute_slider,"minute",this.minute-this.minute%this._defaults.stepMinute)),this.second_slider&&(this.control.options(this,this.second_slider,"second",{min:this._defaults.secondMin,max:u,step:this._defaults.stepSecond}),this.control.value(this,this.second_slider,"second",this.second-this.second%this._defaults.stepSecond)),this.millisec_slider&&(this.control.options(this,this.millisec_slider,"millisec",{min:this._defaults.millisecMin,max:d,step:this._defaults.stepMillisec}),this.control.value(this,this.millisec_slider,"millisec",this.millisec-this.millisec%this._defaults.stepMillisec)),this.microsec_slider&&(this.control.options(this,this.microsec_slider,"microsec",{min:this._defaults.microsecMin,max:h,step:this._defaults.stepMicrosec}),this.control.value(this,this.microsec_slider,"microsec",this.microsec-this.microsec%this._defaults.stepMicrosec))))},_onTimeChange:function(){var t,i,s,a,n=!!this.hour_slider&&this.control.value(this,this.hour_slider,"hour"),r=!!this.minute_slider&&this.control.value(this,this.minute_slider,"minute"),l=!!this.second_slider&&this.control.value(this,this.second_slider,"second"),m=!!this.millisec_slider&&this.control.value(this,this.millisec_slider,"millisec"),o=!!this.microsec_slider&&this.control.value(this,this.microsec_slider,"microsec"),c=!!this.timezone_select&&this.timezone_select.val(),u=this._defaults,d=u.pickerTimeFormat||u.timeFormat,h=u.pickerTimeSuffix||u.timeSuffix;this._defaults.showTimepicker&&("object"==typeof n&&(n=!1),"object"==typeof r&&(r=!1),"object"==typeof l&&(l=!1),"object"==typeof m&&(m=!1),"object"==typeof o&&(o=!1),"object"==typeof c&&(c=!1),!1!==n&&(n=parseInt(n,10)),!1!==r&&(r=parseInt(r,10)),!1!==l&&(l=parseInt(l,10)),!1!==m&&(m=parseInt(m,10)),!1!==o&&(o=parseInt(o,10)),!1!==c&&(c=c.toString()),t=u[n<12?"amNames":"pmNames"][0],(i=n!==parseInt(this.hour,10)||r!==parseInt(this.minute,10)||l!==parseInt(this.second,10)||m!==parseInt(this.millisec,10)||o!==parseInt(this.microsec,10)||this.ampm.length>0&&n<12!=(-1!==e.inArray(this.ampm.toUpperCase(),this.amNames))||null!==this.timezone&&c!==this.timezone.toString())&&(!1!==n&&(this.hour=n),!1!==r&&(this.minute=r),!1!==l&&(this.second=l),!1!==m&&(this.millisec=m),!1!==o&&(this.microsec=o),!1!==c&&(this.timezone=c),this.inst||(this.inst=e.tm_datepicker._getInst(this.$input[0])),this._limitMinMaxDateTime(this.inst,!0)),this.support.ampm&&(this.ampm=t),this.formattedTime=e.tm_datepicker.formatTime(u.timeFormat,this,u),this.$timeObj&&(d===u.timeFormat?this.$timeObj.val(this.formattedTime+h):this.$timeObj.val(e.tm_datepicker.formatTime(d,this,u)+h),this.$timeObj[0].setSelectionRange&&(s=this.$timeObj[0].selectionStart,a=this.$timeObj[0].selectionEnd,this.$timeObj[0].setSelectionRange(s,a))),this.timeDefined=!0,i&&this._updateDateTime())},_onSelectHandler:function(){var e=this._defaults.onSelect||this.inst.settings.onSelect,t=this.$input?this.$input[0]:null;e&&t&&e.apply(t,[this.formattedDateTime,this])},_updateDateTime:function(t){var i,s,a,n,r,l,m,o,c="";i=(t=this.inst||t).currentYear>0?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(t.selectedYear,t.selectedMonth,t.selectedDay),s=e.tm_datepicker._daylightSavingAdjust(i),a=e.tm_datepicker._get(t,"dateFormat"),n=e.tm_datepicker._getFormatConfig(t),r=null!==s&&this.timeDefined,this.formattedDate=e.tm_datepicker.formatDate(a,null===s?new Date:s,n),l=this.formattedDate,""===t.lastVal&&(t.currentYear=t.selectedYear,t.currentMonth=t.selectedMonth,t.currentDay=t.selectedDay),!0===this._defaults.timeOnly&&!1===this._defaults.timeOnlyShowDate?l=this.formattedTime:(!0!==this._defaults.timeOnly&&(this._defaults.alwaysSetTime||r)||!0===this._defaults.timeOnly&&!0===this._defaults.timeOnlyShowDate)&&(l+=this._defaults.separator+this.formattedTime+this._defaults.timeSuffix),this.formattedDateTime=l,this._defaults.showTimepicker?this.$altInput&&!1===this._defaults.timeOnly&&!0===this._defaults.altFieldTimeOnly?(this.$altInput.val(this.formattedTime),this.$input.val(this.formattedDate)):this.$altInput?(this.$input.val(l),c="",m=null!==this._defaults.altSeparator?this._defaults.altSeparator:this._defaults.separator,o=null!==this._defaults.altTimeSuffix?this._defaults.altTimeSuffix:this._defaults.timeSuffix,this._defaults.timeOnly||(c=this._defaults.altFormat?e.tm_datepicker.formatDate(this._defaults.altFormat,null===s?new Date:s,n):this.formattedDate)&&(c+=m),null!==this._defaults.altTimeFormat?c+=e.tm_datepicker.formatTime(this._defaults.altTimeFormat,this,this._defaults)+o:c+=this.formattedTime+o,this.$altInput.val(c)):this.$input.val(l):this.$input.val(this.formattedDate),this.$input.trigger("change")},_onFocus:function(){var t,i;if(!this.$input.val()&&this._defaults.defaultValue&&(this.$input.val(this._defaults.defaultValue),t=e.tm_datepicker._getInst(this.$input.get(0)),(i=e.tm_datepicker._get(t,"tm_timepicker"))&&i._defaults.timeOnly&&t.input.val()!==t.lastVal))try{e.tm_datepicker._updateDatepicker(t)}catch(t){e.tm_timepicker.log(t)}},_controls:{slider:{create:function(t,i,s,a,n,r,l){var m=t._defaults.isRTL;return i.prop("slide",null).slider({orientation:"horizontal",value:m?-1*a:a,min:m?-1*r:n,max:m?-1*n:r,step:l,slide:function(i,a){t.control.value(t,e(this),s,m?-1*a.value:a.value),t._onTimeChange()},stop:function(){t._onSelectHandler()}})},options:function(e,t,i,s,a){var n,r;return e._defaults.isRTL?"string"==typeof s?"min"===s||"max"===s?void 0!==a?t.slider(s,-1*a):Math.abs(t.slider(s)):t.slider(s):(n=s.min,r=s.max,s.max=null,s.min=null,void 0!==n&&(s.max=-1*n),void 0!==r&&(s.min=-1*r),t.slider(s)):"string"==typeof s&&void 0!==a?t.slider(s,a):t.slider(s)},value:function(e,t,i,s){return e._defaults.isRTL?void 0!==s?t.slider("value",-1*s):Math.abs(t.slider("value")):void 0!==s?t.slider("value",s):t.slider("value")}},select:{create:function(t,i,s,a,n,r,l){var m,o='<select class="ui-tm-timepicker-select ui-state-default ui-corner-all" data-unit="'+s+'" data-min="'+n+'" data-max="'+r+'" data-step="'+l+'">',c=t._defaults.pickerTimeFormat||t._defaults.timeFormat;for(m=n;m<=r;m+=l)o+='<option value="'+m+'"'+(m===a?" selected":"")+">",o+="hour"===s?e.tm_datepicker.formatTime(e.epoAPI.util.trim(c.replace(/[^ht ]/gi,"")),{hour:m},t._defaults):"millisec"===s||"microsec"===s||m>=10?m:"0"+m.toString(),o+="</option>";return o+="</select>",i.children("select").remove(),e(o).appendTo(i).on("change",function(){t._onTimeChange(),t._onSelectHandler(),t._afterInject()}),i},options:function(e,t,i,s,a){var n={},r=t.children("select");if("string"==typeof s){if(void 0===a)return r.data(s);n[s]=a}else n=s;return e.control.create(e,t,r.data("unit"),r.val(),n.min>=0?n.min:r.data("min"),n.max||r.data("max"),n.step||r.data("step"))},value:function(e,t,i,s){var a=t.children("select");return void 0!==s?a.val(s):a.val()}}}}),e.fn.extend({tm_timepicker:function(t){var i=Array.prototype.slice.call(arguments);return"object"==typeof(t=t||{})&&(i[0]=e.extend(t,{timeOnly:!0})),e(this).each(function(){e.fn.tm_datetimepicker.apply(e(this),i)})},tm_datetimepicker:function(t){var i=arguments;return"string"==typeof(t=t||{})?"getDate"===t||"option"===t&&2===i.length&&"string"==typeof i[1]?e.fn.tm_datepicker.apply(e(this[0]),i):this.each(function(){var t=e(this);t.tm_datepicker.apply(t,i)}):this.each(function(){var i=e(this);i.tm_datepicker(e.tm_timepicker._newInst(i,t)._defaults)})}}),e.tm_datepicker.parseDateTime=function(e,t,i,s,a){var n,r=l(e,t,i,s,a);return r.timeObj&&(n=r.timeObj,r.date.setHours(n.hour,n.minute,n.second,n.millisec),r.date.setMicroseconds(n.microsec)),r.date},e.tm_datepicker.parseTime=function(i,s,a){var n=t(t({},e.tm_timepicker._defaults),a||{}),r=function(t,i,s){var a,n=function(t,i){var s=[];return t&&e.merge(s,t),i&&e.merge(s,i),"("+(s=e.map(s,function(e){return e.replace(/[.*+?|()[\]{}\\]/g,"\\$&")})).join("|")+")?"},r="^"+t.toString().replace(/([hH]{1,2}|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g,function(e){var t=e.length;switch(e.charAt(0).toLowerCase()){case"h":case"m":case"s":return 1===t?"(\\d?\\d)":"(\\d{"+t+"})";case"l":case"c":return"(\\d?\\d?\\d)";case"z":return"(z|[-+]\\d\\d:?\\d\\d|\\S+)?";case"t":return n(s.amNames,s.pmNames);default:return"("+e.replace(/'/g,"").replace(/(\.|\$|\^|\\|\/|\(|\)|\[|\]|\?|\+|\*)/g,function(e){return"\\"+e})+")?"}}).replace(/\s/g,"\\s?")+s.timeSuffix+"$",l=function(e){var t,i=e.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|c{1}|t{1,2}|z|'.*?')/g),s={h:-1,m:-1,s:-1,l:-1,c:-1,t:-1,z:-1};if(i)for(t=0;t<i.length;t+=1)-1===s[i[t].toString().charAt(0)]&&(s[i[t].toString().charAt(0)]=t+1);return s}(t),m="",o={hour:0,minute:0,second:0,millisec:0,microsec:0};return!!(a=i.match(new RegExp(r,"i")))&&(-1!==l.t&&(void 0===a[l.t]||0===a[l.t].length?(m="",o.ampm=""):(m=-1!==e.inArray(a[l.t].toUpperCase(),e.map(s.amNames,function(e){return e.toUpperCase()}))?"AM":"PM",o.ampm=s["AM"===m?"amNames":"pmNames"][0])),-1!==l.h&&("AM"===m&&"12"===a[l.h]?o.hour=0:"PM"===m&&"12"!==a[l.h]?o.hour=parseInt(a[l.h],10)+12:o.hour=Number(a[l.h])),-1!==l.m&&(o.minute=Number(a[l.m])),-1!==l.s&&(o.second=Number(a[l.s])),-1!==l.l&&(o.millisec=Number(a[l.l])),-1!==l.c&&(o.microsec=Number(a[l.c])),-1!==l.z&&void 0!==a[l.z]&&(o.timezone=e.tm_timepicker.timezoneOffsetNumber(a[l.z])),o)};return"function"==typeof n.parse?n.parse(i,s,n):"loose"===n.parse?function(t,i,s){var a;try{if(a=new Date("2012-01-01 "+i),isNaN(a.getTime())&&(a=new Date("2012-01-01T"+i),isNaN(a.getTime())&&(a=new Date("01/01/2012 "+i),isNaN(a.getTime()))))throw"Unable to parse time with native Date: "+i;return{hour:a.getHours(),minute:a.getMinutes(),second:a.getSeconds(),millisec:a.getMilliseconds(),microsec:a.getMicroseconds(),timezone:-1*a.getTimezoneOffset()}}catch(a){try{return r(t,i,s)}catch(s){e.tm_timepicker.log("Unable to parse \ntimeString: "+i+"\ntimeFormat: "+t)}}return!1}(i,s,n):r(i,s,n)},e.tm_datepicker.formatTime=function(t,i,s){var n,r,l;return s=s||{},s=e.extend({},e.tm_timepicker._defaults,s),i=e.extend({hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null},i),n=t,r=s.amNames[0],(l=parseInt(i.hour,10))>11&&(r=s.pmNames[0]),n=n.replace(/(?:HH?|hh?|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g,function(t){switch(t){case"HH":return("0"+l).slice(-2);case"H":return l;case"hh":return("0"+a(l)).slice(-2);case"h":return a(l);case"mm":return("0"+i.minute).slice(-2);case"m":return i.minute;case"ss":return("0"+i.second).slice(-2);case"s":return i.second;case"l":return("00"+i.millisec).slice(-3);case"c":return("00"+i.microsec).slice(-3);case"z":return e.tm_timepicker.timezoneOffsetString(null===i.timezone?s.timezone:i.timezone,!1);case"Z":return e.tm_timepicker.timezoneOffsetString(null===i.timezone?s.timezone:i.timezone,!0);case"T":return r.charAt(0).toUpperCase();case"TT":return r.toUpperCase();case"t":return r.charAt(0).toLowerCase();case"tt":return r.toLowerCase();default:return t.replace(/'/g,"")}})},e.tm_datepicker._base_selectDate=e.tm_datepicker._selectDate,e.tm_datepicker._selectDate=function(t,i){var s,a=this._getInst(e(t)[0]),n=this._get(a,"tm_timepicker");n&&a.settings.showTimepicker?(n._limitMinMaxDateTime(a,!0),s=a.inline,a.stay_open=!0,a.inline=!0,this._base_selectDate(t,i),a.inline=s,a.stay_open=!1,this._notifyChange(a),this._updateDatepicker(a)):this._base_selectDate(t,i)},e.tm_datepicker._base_updateDatepicker=e.tm_datepicker._updateDatepicker,e.tm_datepicker._updateDatepicker=function(t){var i,s=t.input[0];e.tm_datepicker._curInst&&e.tm_datepicker._curInst!==t&&e.tm_datepicker._datepickerShowing&&e.tm_datepicker._lastInput!==s||"boolean"==typeof t.stay_open&&!1!==t.stay_open||(this._base_updateDatepicker(t),(i=this._get(t,"tm_timepicker"))&&i._addTimePicker(t))},e.tm_datepicker._base_doKeyPress=e.tm_datepicker._doKeyPress,e.tm_datepicker._doKeyPress=function(t){var i,s,a,n,r,l=e.tm_datepicker._getInst(t.target),m=e.tm_datepicker._get(l,"tm_timepicker");return m&&e.tm_datepicker._get(l,"constrainInput")?(i=m.support.ampm,s=null!==m._defaults.showTimezone?m._defaults.showTimezone:m.support.timezone,a=e.tm_datepicker._possibleChars(e.tm_datepicker._get(l,"dateFormat")),n=m._defaults.timeFormat.toString().replace(/[hms]/g,"").replace(/TT/g,i?"APM":"").replace(/Tt/g,i?"AaPpMm":"").replace(/tT/g,i?"AaPpMm":"").replace(/T/g,i?"AP":"").replace(/tt/g,i?"apm":"").replace(/t/g,i?"ap":"")+" "+m._defaults.separator+m._defaults.timeSuffix+(s?m._defaults.timezoneList.join(""):"")+m._defaults.amNames.join("")+m._defaults.pmNames.join("")+a,r=String.fromCharCode(void 0===t.charCode?t.keyCode:t.charCode),t.ctrlKey||r<" "||!a||n.indexOf(r)>-1):e.tm_datepicker._base_doKeyPress(t)},e.tm_datepicker._base_updateAlternate=e.tm_datepicker._updateAlternate,e.tm_datepicker._updateAlternate=function(t){var i,s,a,n,r,l,m,o=this._get(t,"tm_timepicker");o?(i=o._defaults.altField)&&(s=this._getDate(t),a=e.tm_datepicker._getFormatConfig(t),n="",r=o._defaults.altSeparator?o._defaults.altSeparator:o._defaults.separator,l=o._defaults.altTimeSuffix?o._defaults.altTimeSuffix:o._defaults.timeSuffix,m=null!==o._defaults.altTimeFormat?o._defaults.altTimeFormat:o._defaults.timeFormat,n+=e.tm_datepicker.formatTime(m,o,o._defaults)+l,o._defaults.timeOnly||o._defaults.altFieldTimeOnly||null===s||(n=o._defaults.altFormat?e.tm_datepicker.formatDate(o._defaults.altFormat,s,a)+r+n:o.formattedDate+r+n),e(i).val(t.input.val()?n:"")):e.tm_datepicker._base_updateAlternate(t)},e.tm_datepicker._base_doKeyUp=e.tm_datepicker._doKeyUp,e.tm_datepicker._doKeyUp=function(t){var i=e.tm_datepicker._getInst(t.target),s=e.tm_datepicker._get(i,"tm_timepicker");if(s&&s._defaults.timeOnly&&i.input.val()!==i.lastVal)try{e.tm_datepicker._updateDatepicker(i)}catch(t){e.tm_timepicker.log(t)}return e.tm_datepicker._base_doKeyUp(t)},e.tm_datepicker._base_gotoToday=e.tm_datepicker._gotoToday,e.tm_datepicker._gotoToday=function(t){var i,s,a,n=this._getInst(e(t)[0]);this._base_gotoToday(t),(i=this._get(n,"timepicker"))&&(s=e.tm_timepicker.timezoneOffsetNumber(i.timezone),(a=new Date).setMinutes(a.getMinutes()+a.getTimezoneOffset()+parseInt(s,10)),this._setTime(n,a),this._setDate(n,a),i._onSelectHandler())},e.tm_datepicker._disableTimepickerDatepicker=function(t){var i,s=this._getInst(t);s&&(i=this._get(s,"tm_timepicker"),e(t).tm_datepicker("getDate"),i&&(s.settings.showTimepicker=!1,i._defaults.showTimepicker=!1,i._updateDateTime(s)))},e.tm_datepicker._enableTimepickerDatepicker=function(t){var i,s=this._getInst(t);s&&(i=this._get(s,"tm_timepicker"),e(t).tm_datepicker("getDate"),i&&(s.settings.showTimepicker=!0,i._defaults.showTimepicker=!0,i._addTimePicker(s),i._updateDateTime(s)))},e.tm_datepicker._setTime=function(e,t){var i,s=this._get(e,"tm_timepicker");s&&(i=s._defaults,s.hour=t?t.getHours():i.hour,s.minute=t?t.getMinutes():i.minute,s.second=t?t.getSeconds():i.second,s.millisec=t?t.getMilliseconds():i.millisec,s.microsec=t?t.getMicroseconds():i.microsec,s._limitMinMaxDateTime(e,!0),s._onTimeChange(),s._updateDateTime(e))},e.tm_datepicker._setTimeDatepicker=function(e,t,i){var s,a,n=this._getInst(e);n&&(s=this._get(n,"tm_timepicker"))&&(this._setDateFromField(n),t&&("string"==typeof t?(s._parseTime(t,i),(a=new Date).setHours(s.hour,s.minute,s.second,s.millisec),a.setMicroseconds(s.microsec)):(a=new Date(t.getTime())).setMicroseconds(t.getMicroseconds()),"Invalid Date"===a.toString()&&(a=void 0),this._setTime(n,a)))},e.tm_datepicker._base_setDateDatepicker=e.tm_datepicker._setDateDatepicker,e.tm_datepicker._setDateDatepicker=function(t,i){var s,a,n=this._getInst(t),r=i;n&&("string"==typeof i&&((r=new Date(i)).getTime()||(this._base_setDateDatepicker.apply(this,arguments),r=e(t).tm_datepicker("getDate"))),s=this._get(n,"tm_timepicker"),r instanceof Date?(a=new Date(r.getTime())).setMicroseconds(r.getMicroseconds()):a=r,s&&a&&(s.support.timezone||null!==s._defaults.timezone||(s.timezone=-1*a.getTimezoneOffset()),r=e.tm_timepicker.timezoneAdjust(r,e.tm_timepicker.timezoneOffsetString(-r.getTimezoneOffset()),s.timezone),a=e.tm_timepicker.timezoneAdjust(a,e.tm_timepicker.timezoneOffsetString(-a.getTimezoneOffset()),s.timezone)),this._updateDatepicker(n),this._base_setDateDatepicker.apply(this,arguments),this._setTimeDatepicker(t,a,!0))},e.tm_datepicker._base_getDateDatepicker=e.tm_datepicker._getDateDatepicker,e.tm_datepicker._getDateDatepicker=function(t,i){var s,a,n,r=this._getInst(t);if(r)return(s=this._get(r,"tm_timepicker"))?(void 0===r.lastVal&&this._setDateFromField(r,i),a=this._getDate(r),n=null,n=s.$altInput&&s._defaults.altFieldTimeOnly?s.$input.val()+" "+s.$altInput.val():"INPUT"!==s.$input.get(0).tagName&&s.$altInput?s.$altInput.val():s.$input.val(),a&&s._parseTime(n,!r.settings.timeOnly)&&(a.setHours(s.hour,s.minute,s.second,s.millisec),a.setMicroseconds(s.microsec),null!==s.timezone&&(s.support.timezone||null!==s._defaults.timezone||(s.timezone=-1*a.getTimezoneOffset()),a=e.tm_timepicker.timezoneAdjust(a,s.timezone,e.tm_timepicker.timezoneOffsetString(-a.getTimezoneOffset())))),a):this._base_getDateDatepicker(t,i)},e.tm_datepicker._base_parseDate=e.tm_datepicker.parseDate,e.tm_datepicker.parseDate=function(t,i,s){var a;try{a=this._base_parseDate(t,i,s)}catch(n){if(!(n.indexOf(":")>=0))throw n;a=this._base_parseDate(t,i.substring(0,i.length-(n.length-n.indexOf(":")-2)),s),e.tm_timepicker.log("Error parsing the date string: "+n+"\ndate string = "+i+"\ndate format = "+t)}return a},e.tm_datepicker._base_formatDate=e.tm_datepicker._formatDate,e.tm_datepicker._formatDate=function(e){var t=this._get(e,"tm_timepicker");return t?(t._updateDateTime(e),t.$input.val()):this._base_formatDate(e)},e.tm_datepicker._base_optionDatepicker=e.tm_datepicker._optionDatepicker,e.tm_datepicker._optionDatepicker=function(t,s,a){var n,r,l,m,o,c,u,d,h,_,f,p=this._getInst(t);if(!p)return null;if(r=this._get(p,"tm_timepicker")){if(l=null,m=null,o=null,c=r._defaults.evnts,u={},"string"==typeof s){if("minDate"===s||"minDateTime"===s)l=a;else if("maxDate"===s||"maxDateTime"===s)m=a;else if("onSelect"===s)o=a;else if(Object.prototype.hasOwnProperty.call(c,s)){if(void 0===a)return c[s];u[s]=a,n={}}}else if("object"==typeof s){s.minDate?l=s.minDate:s.minDateTime?l=s.minDateTime:s.maxDate?m=s.maxDate:s.maxDateTime&&(m=s.maxDateTime);for(d in c)Object.prototype.hasOwnProperty.call(c,d)&&s[d]&&(u[d]=s[d])}for(d in u)Object.prototype.hasOwnProperty.call(u,d)&&(c[d]=u[d],n||(n=e.extend({},s)),delete n[d]);if(n&&i(n))return;if(l?(l=0===l?new Date:new Date(l),r._defaults.minDate=l,r._defaults.minDateTime=l):m?(m=0===m?new Date:new Date(m),r._defaults.maxDate=m,r._defaults.maxDateTime=m):o&&(r._defaults.onSelect=o),l||m)return f=e(t),_=f.tm_datetimepicker("getDate"),h=this._base_optionDatepicker.call(e.tm_datepicker,t,n||s,a),f.tm_datetimepicker("setDate",_),h}return void 0===a?this._base_optionDatepicker.call(e.tm_datepicker,t,s):this._base_optionDatepicker.call(e.tm_datepicker,t,n||s,a)},e.tm_timepicker=new o,e.tm_timepicker.timezoneOffsetString=function(e,t){var i,s,a,n,r;return isNaN(e)||e>840||e<-720?e:(i=e,s=i%60,a=(i-s)/60,n=t?":":"","+00:00"===(r=(i>=0?"+":"-")+("0"+Math.abs(a)).slice(-2)+n+("0"+Math.abs(s)).slice(-2))?"Z":r)},e.tm_timepicker.timezoneOffsetNumber=function(e){var t=e.toString().replace(":","");return"Z"===t.toUpperCase()?0:/^(-|\+)\d{4}$/.test(t)?("-"===t.substr(0,1)?-1:1)*(60*parseInt(t.substr(1,2),10)+parseInt(t.substr(3,2),10)):parseInt(e,10)},e.tm_timepicker.timezoneAdjust=function(t,i,s){var a=e.timepicker.timezoneOffsetNumber(i),n=e.tm_timepicker.timezoneOffsetNumber(s);return isNaN(n)||t.setMinutes(t.getMinutes()+-a- -n),t},e.tm_timepicker.timeRange=function(t,i,s){return e.tm_timepicker.handleRange("tm_timepicker",t,i,s)},e.tm_timepicker.datetimeRange=function(t,i,s){e.tm_timepicker.handleRange("tm_datetimepicker",t,i,s)},e.tm_timepicker.dateRange=function(t,i,s){e.tm_timepicker.handleRange("tm_datepicker",t,i,s)},e.tm_timepicker.handleRange=function(t,i,s,a){function n(e,n){var r,l,m=i[t]("getDate"),o=s[t]("getDate"),c=e[t]("getDate");null!==m&&(r=new Date(m.getTime()),l=new Date(m.getTime()),r.setMilliseconds(r.getMilliseconds()+a.minInterval),l.setMilliseconds(l.getMilliseconds()+a.maxInterval),a.minInterval>0&&r>o?s[t]("setDate",r):a.maxInterval>0&&l<o?s[t]("setDate",l):m>o&&n[t]("setDate",c))}function r(e,i,s){var n;e.val()&&(null!==(n=e[t].call(e,"getDate"))&&a.minInterval>0&&("minDate"===s&&n.setMilliseconds(n.getMilliseconds()+a.minInterval),"maxDate"===s&&n.setMilliseconds(n.getMilliseconds()-a.minInterval)),n.getTime&&i[t].call(i,"option",s,n))}var l=!1;return a=e.extend({},{minInterval:0,maxInterval:0,start:{},end:{}},a),"tm_timepicker"===t&&(l=!0,t="tm_datetimepicker"),e.fn[t].call(i,e.extend({timeOnly:l,onClose:function(){n(e(this),s)},onSelect:function(){r(e(this),s,"minDate")}},a,a.start)),e.fn[t].call(s,e.extend({timeOnly:l,onClose:function(){n(e(this),i)},onSelect:function(){r(e(this),i,"maxDate")}},a,a.end)),n(i,s),r(i,s,"minDate"),r(s,i,"maxDate"),e([i.get(0),s.get(0)])},e.tm_timepicker.log=function(){window.console&&window.console.log&&window.console.log.apply&&window.console.log.apply(window.console,Array.prototype.slice.call(arguments))},e.tm_timepicker._util={_extendRemove:t,_isEmptyObject:i,_convert24to12:a,_detectSupport:s,_selectLocalTimezone:m,_computeEffectiveSetting:n,_splitDateTime:r,_parseDateTimeInternal:l},Date.prototype.getMicroseconds||(Object.defineProperty(Date.prototype,"microseconds",{value:0,writable:!0}),Object.defineProperty(Date.prototype,"getMicroseconds",{value:function(){return this.microseconds}}),Object.defineProperty(Date.prototype,"setMicroseconds",{value:function(e){return this.setMilliseconds(this.getMilliseconds()+Math.floor(e/1e3)),this.microseconds=e%1e3,this}})),e.tm_timepicker.version="1.6.3")});!function(t,e,i){"use strict";function s(e,i){this.settings=null,this.options=t.extend({},s.Defaults,i),this.$element=t(e),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},t.each(["onResize","onThrottledResize"],t.proxy(function(e,i){this._handlers[i]=t.proxy(this[i],this)},this)),t.each(s.Plugins,t.proxy(function(t,e){this._plugins[t.charAt(0).toLowerCase()+t.slice(1)]=new e(this)},this)),t.each(s.Workers,t.proxy(function(e,i){this._pipe.push({filter:i.filter,run:t.proxy(i.run,this)})},this)),this.setup(),this.initialize()}s.Defaults={items:3,loop:!1,center:!1,rewind:!1,checkVisibility:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:e,fallbackEasing:"linear",slideTransition:"",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},s.Width={Default:"default",Inner:"inner",Outer:"outer"},s.Type={Event:"event",State:"state"},s.Plugins={},s.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(t){t.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(t){var e=this.settings.margin||"",i=!this.settings.autoWidth,s=this.settings.rtl,n={width:"auto","margin-left":s?e:"","margin-right":s?"":e};i||this.$stage.children().css(n),t.css=n}},{filter:["width","items","settings"],run:function(t){var e=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,i=null,s=this._items.length,n=!this.settings.autoWidth,o=[];for(t.items={merge:!1,width:e};s>0;)s-=1,i=this._mergers[s],i=this.settings.mergeFit&&Math.min(i,this.settings.items)||i,t.items.merge=i>1||t.items.merge,o[s]=n?e*i:this._items[s].width();this._widths=o}},{filter:["items","settings"],run:function(){var e=[],i=this._items,s=this.settings,n=Math.max(2*s.items,4),o=2*Math.ceil(i.length/2),r=s.loop&&i.length?s.rewind?n:Math.max(n,o):0,a="",h="";for(r/=2;r>0;)e.push(this.normalize(e.length/2,!0)),a+=i[e[e.length-1]][0].outerHTML,e.push(this.normalize(i.length-1-(e.length-1)/2,!0)),h=i[e[e.length-1]][0].outerHTML+h,r-=1;this._clones=e,t(a).addClass("cloned").appendTo(this.$stage),t(h).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var t=this.settings.rtl?1:-1,e=this._clones.length+this._items.length,i=0,s=0,n=0,o=[];i<e;)s=o[i-1]||0,n=this._widths[this.relative(i)]+this.settings.margin,o.push(s+n*t),i+=1;this._coordinates=o}},{filter:["width","items","settings"],run:function(){var t=this.settings.stagePadding,e=this._coordinates,i={width:Math.ceil(Math.abs(e[e.length-1]))+2*t,"padding-left":t||"","padding-right":t||""};this.$stage.css(i)}},{filter:["width","items","settings"],run:function(t){var e=this._coordinates.length,i=!this.settings.autoWidth,s=this.$stage.children();if(i&&t.items.merge)for(;e>0;)e-=1,t.css.width=this._widths[this.relative(e)],s.eq(e).css(t.css);else i&&(t.css.width=t.items.width,s.css(t.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(t){t.current=t.current?this.$stage.children().index(t.current):0,t.current=Math.max(this.minimum(),Math.min(this.maximum(),t.current)),this.reset(t.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var t,e,i,s,n=this.settings.rtl?1:-1,o=2*this.settings.stagePadding,r=this.coordinates(this.current())+o,a=r+this.width()*n,h=[];for(i=0,s=this._coordinates.length;i<s;i+=1)t=this._coordinates[i-1]||0,e=Math.abs(this._coordinates[i])+o*n,(this.op(t,"<=",r)&&this.op(t,">",a)||this.op(e,"<",r)&&this.op(e,">",a))&&h.push(i);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+h.join("), :eq(")+")").addClass("active"),this.$stage.children(".center").removeClass("center"),this.settings.center&&this.$stage.children().eq(this.current()).addClass("center")}}],s.prototype.initializeStage=function(){this.$stage=this.$element.find("."+this.settings.stageClass),this.$stage.length||(this.$element.addClass(this.options.loadingClass),this.$stage=t("<"+this.settings.stageElement+">",{class:this.settings.stageClass}).wrap(t("<div/>",{class:this.settings.stageOuterClass})),this.$element.append(this.$stage.parent()))},s.prototype.initializeItems=function(){var e=this.$element.find(".owl-item");if(e.length)return this._items=e.get().map(function(e){return t(e)}),this._mergers=this._items.map(function(){return 1}),void this.refresh();this.replace(this.$element.children().not(this.$stage.parent())),this.isVisible()?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass)},s.prototype.initialize=function(){var t,e,i;this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")&&(t=this.$element.find("img"),e=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:void 0,i=this.$element.children(e).width(),t.length&&i<=0&&this.preloadAutoWidthImages(t)),this.initializeStage(),this.initializeItems(),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},s.prototype.isVisible=function(){return!this.settings.checkVisibility||this.$element.is(":visible")},s.prototype.setup=function(){var e=this.viewport(),i=this.options.responsive,s=-1,n=null;i?(t.each(i,function(t){t<=e&&t>s&&(s=Number(t))}),"function"==typeof(n=t.extend({},this.options,i[s])).stagePadding&&(n.stagePadding=n.stagePadding()),delete n.responsive,n.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+s))):n=t.extend({},this.options),this.trigger("change",{property:{name:"settings",value:n}}),this._breakpoint=s,this.settings=n,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},s.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},s.prototype.prepare=function(e){var i=this.trigger("prepare",{content:e});return i.data||(i.data=t("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(e)),this.trigger("prepared",{content:i.data}),i.data},s.prototype.update=function(){for(var e=0,i=this._pipe.length,s=t.proxy(function(t){return this[t]},this._invalidated),n={};e<i;)(this._invalidated.all||t.grep(this._pipe[e].filter,s).length>0)&&this._pipe[e].run(n),e+=1;this._invalidated={},this.is("valid")||this.enter("valid")},s.prototype.width=function(t){switch(t=t||s.Width.Default){case s.Width.Inner:case s.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},s.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},s.prototype.onThrottledResize=function(){e.clearTimeout(this.resizeTimer),this.resizeTimer=e.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},s.prototype.onResize=function(){return!!this._items.length&&(this._width!==this.$element.width()&&(!!this.isVisible()&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))))},s.prototype.registerEventHandlers=function(){t.support.transition&&this.$stage.on(t.support.transition.end+".owl.core",t.proxy(this.onTransitionEnd,this)),!1!==this.settings.responsive&&this.on(e,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",t.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",t.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",t.proxy(this.onDragEnd,this)))},s.prototype.onDragStart=function(e){var s=null;3!==e.which&&(t.support.transform?s={x:(s=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","))[16===s.length?12:4],y:s[16===s.length?13:5]}:(s=this.$stage.position(),s={x:this.settings.rtl?s.left+this.$stage.width()-this.width()+this.settings.margin:s.left,y:s.top}),this.is("animating")&&(t.support.transform?this.animate(s.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===e.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=t(e.target),this._drag.stage.start=s,this._drag.stage.current=s,this._drag.pointer=this.pointer(e),t(i).on("mouseup.owl.core touchend.owl.core",t.proxy(this.onDragEnd,this)),t(i).one("mousemove.owl.core touchmove.owl.core",t.proxy(function(e){var s=this.difference(this._drag.pointer,this.pointer(e));t(i).on("mousemove.owl.core touchmove.owl.core",t.proxy(this.onDragMove,this)),Math.abs(s.x)<Math.abs(s.y)&&this.is("valid")||(e.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},s.prototype.onDragMove=function(t){var e=null,i=null,s=null,n=this.difference(this._drag.pointer,this.pointer(t)),o=this.difference(this._drag.stage.start,n);this.is("dragging")&&(t.preventDefault(),this.settings.loop?(e=this.coordinates(this.minimum()),i=this.coordinates(this.maximum()+1)-e,o.x=((o.x-e)%i+i)%i+e):(e=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),i=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),s=this.settings.pullDrag?-1*n.x/5:0,o.x=Math.max(Math.min(o.x,e+s),i+s)),this._drag.stage.current=o,this.animate(o.x))},s.prototype.onDragEnd=function(e){var s,n=this.difference(this._drag.pointer,this.pointer(e)),o=this._drag.stage.current,r=n.x>0;s=r&&!this.settings.rtl||this.settings.rtl&&!r?"left":"right",t(i).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==n.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(o.x,0!==n.x?s:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=s,(Math.abs(n.x)>3||(new Date).getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},s.prototype.closest=function(e,i){var s=-1,n=this.width(),o=this.coordinates();return this.settings.freeDrag||t.each(o,t.proxy(function(t,r){return"left"===i&&e>r-30&&e<r+30?s=t:"right"===i&&e>r-n-30&&e<r-n+30?s=t+1:this.op(e,"<",r)&&this.op(e,">",void 0!==o[t+1]?o[t+1]:r-n)&&(s="left"===i?t+1:t),-1===s},this)),this.settings.loop||(this.op(e,">",o[this.minimum()])?(e=this.minimum(),s=e):this.op(e,"<",o[this.maximum()])&&(e=this.maximum(),s=e)),s},s.prototype.animate=function(e){var i=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),i&&(this.enter("animating"),this.trigger("translate")),t.support.transform3d&&t.support.transition?this.$stage.css({transform:"translate3d("+e+"px,0px,0px)",transition:this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}):i?this.$stage.animate({left:e+"px"},this.speed(),this.settings.fallbackEasing,t.proxy(this.onTransitionEnd,this)):this.$stage.css({left:e+"px"})},s.prototype.is=function(t){return this._states.current[t]&&this._states.current[t]>0},s.prototype.current=function(t){var e;if(void 0===t)return this._current;if(0!==this._items.length)return t=this.normalize(t),this._current!==t&&(void 0!==(e=this.trigger("change",{property:{name:"position",value:t}})).data&&(t=this.normalize(e.data)),this._current=t,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})),this._current},s.prototype.invalidate=function(e){return"string"===t.type(e)&&(this._invalidated[e]=!0,this.is("valid")&&this.leave("valid")),t.map(this._invalidated,function(t,e){return e})},s.prototype.reset=function(t){void 0!==(t=this.normalize(t))&&(this._speed=0,this._current=t,this.suppress(["translate","translated"]),this.animate(this.coordinates(t)),this.release(["translate","translated"]))},s.prototype.normalize=function(t,e){var i=this._items.length,s=e?0:this._clones.length;return!this.isNumeric(t)||i<1?t=void 0:(t<0||t>=i+s)&&(t=((t-s/2)%i+i)%i+s/2),t},s.prototype.relative=function(t){return t-=this._clones.length/2,this.normalize(t,!0)},s.prototype.maximum=function(t){var e,i,s,n=this.settings,o=this._coordinates.length;if(n.loop)o=this._clones.length/2+this._items.length-1;else if(n.autoWidth||n.merge){if(e=this._items.length)for(e-=1,i=this._items[e].width(),s=this.$element.width();e>0&&!((i+=this._items[e].width()+this.settings.margin)>s);)e-=1;o=e+1}else o=n.center?this._items.length-1:this._items.length-n.items;return t&&(o-=this._clones.length/2),Math.max(o,0)},s.prototype.minimum=function(t){return t?0:this._clones.length/2},s.prototype.items=function(t){return void 0===t?this._items.slice():(t=this.normalize(t,!0),this._items[t])},s.prototype.mergers=function(t){return void 0===t?this._mergers.slice():(t=this.normalize(t,!0),this._mergers[t])},s.prototype.clones=function(e){var i=this._clones.length/2,s=i+this._items.length,n=function(t){return t%2==0?s+t/2:i-(t+1)/2};return void 0===e?t.map(this._clones,function(t,e){return n(e)}):t.map(this._clones,function(t,i){return t===e?n(i):null})},s.prototype.speed=function(t){return void 0!==t&&(this._speed=t),this._speed},s.prototype.coordinates=function(e){var i,s=1,n=e-1;return void 0===e?t.map(this._coordinates,t.proxy(function(t,e){return this.coordinates(e)},this)):(this.settings.center?(this.settings.rtl&&(s=-1,n=e+1),i=this._coordinates[e],i+=(this.width()-i+(this._coordinates[n]||0))/2*s):i=this._coordinates[n]||0,i=Math.ceil(i))},s.prototype.duration=function(t,e,i){return 0===i?0:Math.min(Math.max(Math.abs(e-t),1),6)*Math.abs(i||this.settings.smartSpeed)},s.prototype.to=function(t,e){var i=this.current(),s=null,n=t-this.relative(i),o=(n>0)-(n<0),r=this._items.length,a=this.minimum(),h=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(n)>r/2&&(n+=-1*o*r),(s=(((t=i+n)-a)%r+r)%r+a)!==t&&s-n<=h&&s-n>0&&(i=s-n,t=s,this.reset(i))):t=this.settings.rewind?(t%(h+=1)+h)%h:Math.max(a,Math.min(h,t)),this.speed(this.duration(i,t,e)),this.current(t),this.isVisible()&&this.update()},s.prototype.next=function(t){t=t||!1,this.to(this.relative(this.current())+1,t)},s.prototype.prev=function(t){t=t||!1,this.to(this.relative(this.current())-1,t)},s.prototype.onTransitionEnd=function(t){if(void 0!==t&&(t.stopPropagation(),(t.target||t.srcElement||t.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated")},s.prototype.viewport=function(){var s;if(this.options.responsiveBaseElement!==e)s=t(this.options.responsiveBaseElement).width();else if(e.innerWidth)s=e.innerWidth;else{if(!i.documentElement||!i.documentElement.clientWidth)return s;s=i.documentElement.clientWidth}return s},s.prototype.replace=function(i){this.$stage.empty(),this._items=[],i&&(i=i instanceof e.jQuery?i:t(i)),this.settings.nestedItemSelector&&(i=i.find("."+this.settings.nestedItemSelector)),i.filter(function(){return 1===this.nodeType}).each(t.proxy(function(t,e){e=this.prepare(e),this.$stage.append(e),this._items.push(e),this._mergers.push(1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},s.prototype.add=function(i,s){var n=this.relative(this._current);s=void 0===s?this._items.length:this.normalize(s,!0),i=i instanceof e.jQuery?i:t(i),this.trigger("add",{content:i,position:s}),i=this.prepare(i),0===this._items.length||s===this._items.length?(0===this._items.length&&this.$stage.append(i),0!==this._items.length&&this._items[s-1].after(i),this._items.push(i),this._mergers.push(1*i.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[s].before(i),this._items.splice(s,0,i),this._mergers.splice(s,0,1*i.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[n]&&this.reset(this._items[n].index()),this.invalidate("items"),this.trigger("added",{content:i,position:s})},s.prototype.remove=function(t){void 0!==(t=this.normalize(t,!0))&&(this.trigger("remove",{content:this._items[t],position:t}),this._items[t].remove(),this._items.splice(t,1),this._mergers.splice(t,1),this.invalidate("items"),this.trigger("removed",{content:null,position:t}))},s.prototype.preloadAutoWidthImages=function(e){e.each(t.proxy(function(e,i){this.enter("pre-loading"),i=t(i),t(new Image).one("load",t.proxy(function(t){i.attr("src",t.target.src),i.css("opacity",1),this.leave("pre-loading"),this.is("pre-loading")||this.is("initializing")||this.refresh()},this)).attr("src",i.attr("src")||i.attr("data-src")||i.attr("data-src-retina"))},this))},s.prototype.destroy=function(){this.$element.off(".owl.core"),this.$stage.off(".owl.core"),t(i).off(".owl.core"),!1!==this.settings.responsive&&(e.clearTimeout(this.resizeTimer),this.off(e,"resize",this._handlers.onThrottledResize)),t.map(this._plugins,function(t){return t}).forEach(function(t){t&&t.destroy()}),this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.remove(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},s.prototype.op=function(t,e,i){var s=this.settings.rtl;switch(e){case"<":return s?t>i:t<i;case">":return s?t<i:t>i;case">=":return s?t<=i:t>=i;case"<=":return s?t>=i:t<=i}},s.prototype.on=function(t,e,i,s){t.addEventListener?t.addEventListener(e,i,s):t.attachEvent&&t.attachEvent("on"+e,i)},s.prototype.off=function(t,e,i,s){t.removeEventListener?t.removeEventListener(e,i,s):t.detachEvent&&t.detachEvent("on"+e,i)},s.prototype.trigger=function(e,i,n){var o={item:{count:this._items.length,index:this.current()}},r=t.camelCase(t.grep(["on",e,n],function(t){return t}).join("-").toLowerCase()),a=t.Event([e,"owl",n||"carousel"].join(".").toLowerCase(),t.extend({relatedTarget:this},o,i));return this._supress[e]||(t.each(this._plugins,function(t,e){e.onTrigger&&e.onTrigger(a)}),this.register({type:s.Type.Event,name:e}),this.$element.trigger(a),this.settings&&"function"==typeof this.settings[r]&&this.settings[r].call(this,a)),a},s.prototype.enter=function(e){t.each([e].concat(this._states.tags[e]||[]),t.proxy(function(t,e){void 0===this._states.current[e]&&(this._states.current[e]=0),this._states.current[e]+=1},this))},s.prototype.leave=function(e){t.each([e].concat(this._states.tags[e]||[]),t.proxy(function(t,e){this._states.current[e]-=1},this))},s.prototype.register=function(e){var i;e.type===s.Type.Event?(t.event.special[e.name]||(t.event.special[e.name]={}),t.event.special[e.name].owl||(i=t.event.special[e.name]._default,t.event.special[e.name]._default=function(t){return!i||!i.apply||t.namespace&&-1!==t.namespace.indexOf("owl")?t.namespace&&t.namespace.indexOf("owl")>-1:i.apply(this,arguments)},t.event.special[e.name].owl=!0)):e.type===s.Type.State&&(this._states.tags[e.name]?this._states.tags[e.name]=this._states.tags[e.name].concat(e.tags):this._states.tags[e.name]=e.tags,this._states.tags[e.name]=t.grep(this._states.tags[e.name],t.proxy(function(i,s){return t.inArray(i,this._states.tags[e.name])===s},this)))},s.prototype.suppress=function(e){t.each(e,t.proxy(function(t,e){this._supress[e]=!0},this))},s.prototype.release=function(e){t.each(e,t.proxy(function(t,e){delete this._supress[e]},this))},s.prototype.pointer=function(t){var i={x:null,y:null};return t=t.originalEvent||t||e.event,(t=t.touches&&t.touches.length?t.touches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t).pageX?(i.x=t.pageX,i.y=t.pageY):(i.x=t.clientX,i.y=t.clientY),i},s.prototype.isNumeric=function(t){return!isNaN(parseFloat(t))},s.prototype.difference=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},t.fn.tmowlCarousel=function(e){var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=t(this),o=n.data("owl.carousel");o||(o=new s(this,"object"==typeof e&&e),n.data("owl.carousel",o),t.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(e,i){o.register({type:s.Type.Event,name:i}),o.$element.on(i+".owl.carousel.core",t.proxy(function(t){t.namespace&&t.relatedTarget!==this&&(this.suppress([i]),o[i].apply(this,[].slice.call(arguments,1)),this.release([i]))},o))})),"string"==typeof e&&"_"!==e.charAt(0)&&o[e].apply(o,i)})},t.fn.tmowlCarousel.Constructor=s}(window.Zepto||window.jQuery,window,document),function(t,e){"use strict";var i=function(e){this._core=e,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=t.extend({},i.Defaults,this._core.options),this._core.$element.on(this._handlers)};i.Defaults={autoRefresh:!0,autoRefreshInterval:500},i.prototype.watch=function(){this._interval||(this._visible=this._core.isVisible(),this._interval=e.setInterval(t.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},i.prototype.refresh=function(){this._core.isVisible()!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},i.prototype.destroy=function(){var t,i;e.clearInterval(this._interval);for(t in this._handlers)t&&this._core.$element.off(t,this._handlers[t]);for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},t.fn.tmowlCarousel.Constructor.Plugins.AutoRefresh=i}(window.Zepto||window.jQuery,window),function(t,e){"use strict";var i=function(e){this._core=e,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":t.proxy(function(e){var i,s,n,o,r,a;if(e.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(e.property&&"position"===e.property.name||"initialized"===e.type))for(s=(i=this._core.settings).center&&Math.ceil(i.items/2)||i.items,n=i.center&&-1*s||0,o=(e.property&&void 0!==e.property.value?e.property.value:this._core.current())+n,r=this._core.clones().length,a=t.proxy(function(t,e){this.load(e)},this),i.lazyLoadEager>0&&(s+=i.lazyLoadEager,i.loop&&(o-=i.lazyLoadEager,s+=1));n<s;)n+=1,this.load(r/2+this._core.relative(o)),r&&t.each(this._core.clones(this._core.relative(o)),a),o+=1},this)},this._core.options=t.extend({},i.Defaults,this._core.options),this._core.$element.on(this._handlers)};i.Defaults={lazyLoad:!1,lazyLoadEager:0},i.prototype.load=function(i){var s=this._core.$stage.children().eq(i),n=s&&s.find(".owl-lazy");!n||t.inArray(s.get(0),this._loaded)>-1||(n.each(t.proxy(function(i,s){var n,o=t(s),r=e.devicePixelRatio>1&&o.attr("data-src-retina")||o.attr("data-src")||o.attr("data-srcset");this._core.trigger("load",{element:o,url:r},"lazy"),o.is("img")?o.one("load.owl.lazy",t.proxy(function(){o.css("opacity",1),this._core.trigger("loaded",{element:o,url:r},"lazy")},this)).attr("src",r):o.is("source")?o.one("load.owl.lazy",t.proxy(function(){this._core.trigger("loaded",{element:o,url:r},"lazy")},this)).attr("srcset",r):((n=new Image).onload=t.proxy(function(){o.css({"background-image":'url("'+r+'")',opacity:"1"}),this._core.trigger("loaded",{element:o,url:r},"lazy")},this),n.src=r)},this)),this._loaded.push(s.get(0)))},i.prototype.destroy=function(){var t,e;for(t in this.handlers)t&&this._core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.tmowlCarousel.Constructor.Plugins.Lazy=i}(window.Zepto||window.jQuery,window),function(t,e){"use strict";var i=function(e){var s=this;this._core=e,this._previousHeight=null,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&"position"===t.property.name&&this.update()},this),"loaded.owl.lazy":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&t.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=t.extend({},i.Defaults,this._core.options),this._core.$element.on(this._handlers),this._intervalId=null,t(void 0).on("load",function(){s._core.settings.autoHeight&&s.update()}),t(void 0).resize(function(){s._core.settings.autoHeight&&(null!==s._intervalId&&clearTimeout(s._intervalId),s._intervalId=setTimeout(function(){s.update()},250))})};i.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},i.prototype.update=function(){var e=this._core._current,i=e+this._core.settings.items,s=this._core.settings.lazyLoad,n=this._core.$stage.children().toArray().slice(e,i),o=[],r=0;t.each(n,function(e,i){o.push(t(i).height())}),(r=Math.max.apply(null,o))<=1&&s&&this._previousHeight&&(r=this._previousHeight),this._previousHeight=r,this._core.$stage.parent().height(r).addClass(this._core.settings.autoHeightClass)},i.prototype.destroy=function(){var t,e;for(t in this._handlers)t&&this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.tmowlCarousel.Constructor.Plugins.AutoHeight=i}(window.Zepto||window.jQuery),function(t,e,i){"use strict";var s=function(e){this._core=e,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.video&&this.isInFullScreen()&&t.preventDefault()},this),"refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&"position"===t.property.name&&this._playing&&this.stop()},this),"prepared.owl.carousel":t.proxy(function(e){var i;e.namespace&&(i=t(e.content).find(".owl-video")).length&&(i.css("display","none"),this.fetch(i,t(e.content)))},this)},this._core.options=t.extend({},s.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",t.proxy(function(t){this.play(t)},this))};s.Defaults={video:!1,videoHeight:!1,videoWidth:!1},s.prototype.fetch=function(t,e){var i=t.attr("data-vimeo-id")?"vimeo":t.attr("data-vzaar-id")?"vzaar":"youtube",s=t.attr("data-vimeo-id")||t.attr("data-youtube-id")||t.attr("data-vzaar-id"),n=t.attr("data-width")||this._core.settings.videoWidth,o=t.attr("data-height")||this._core.settings.videoHeight,r=t.attr("href");if(!r)throw new Error("Missing video URL.");if((s=r.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com|be\-nocookie\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/))[3].indexOf("youtu")>-1)i="youtube";else if(s[3].indexOf("vimeo")>-1)i="vimeo";else{if(!(s[3].indexOf("vzaar")>-1))throw new Error("Video URL not supported.");i="vzaar"}s=s[6],this._videos[r]={type:i,id:s,width:n,height:o},e.attr("data-video",r),this.thumbnail(t,this._videos[r])},s.prototype.thumbnail=function(e,i){var s,n,o,r=i.width&&i.height?"width:"+i.width+"px;height:"+i.height+"px;":"",a=e.find("img"),h="src",l="",c=this._core.settings,p=function(i){n='<div class="owl-video-play-icon"></div>',s=c.lazyLoad?t("<div/>",{class:"owl-video-tn "+l,srcType:i}):t("<div/>",{class:"owl-video-tn",style:"opacity:1;background-image:url("+i+")"}),e.after(s),e.after(n)};if(e.wrap(t("<div/>",{class:"owl-video-wrapper",style:r})),this._core.settings.lazyLoad&&(h="data-src",l="owl-lazy"),a.length)return p(a.attr(h)),a.remove(),!1;"youtube"===i.type?(o="//img.youtube.com/vi/"+i.id+"/hqdefault.jpg",p(o)):"vimeo"===i.type?t.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+i.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){o=t[0].thumbnail_large,p(o)}}):"vzaar"===i.type&&t.ajax({type:"GET",url:"//vzaar.com/api/videos/"+i.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){o=t.framegrab_url,p(o)}})},s.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},s.prototype.play=function(e){var i,s=t(e.target).closest("."+this._core.settings.itemClass),n=this._videos[s.attr("data-video")],o=n.width||"100%",r=n.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),s=this._core.items(this._core.relative(s.index())),this._core.reset(s.index()),(i=t('<iframe frameborder="0" allowfullscreen mozallowfullscreen webkitAllowFullScreen ></iframe>')).attr("height",r),i.attr("width",o),"youtube"===n.type?i.attr("src","//www.youtube.com/embed/"+n.id+"?autoplay=1&rel=0&v="+n.id):"vimeo"===n.type?i.attr("src","//player.vimeo.com/video/"+n.id+"?autoplay=1"):"vzaar"===n.type&&i.attr("src","//view.vzaar.com/"+n.id+"/player?autoplay=true"),t(i).wrap('<div class="owl-video-frame" />').insertAfter(s.find(".owl-video")),this._playing=s.addClass("owl-video-playing"))},s.prototype.isInFullScreen=function(){var e=i.fullscreenElement||i.mozFullScreenElement||i.webkitFullscreenElement;return e&&t(e).parent().hasClass("owl-video-frame")},s.prototype.destroy=function(){var t,e;this._core.$element.off("click.owl.video");for(t in this._handlers)t&&this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.tmowlCarousel.Constructor.Plugins.Video=s}(window.Zepto||window.jQuery,window,document),function(t){"use strict";var e=function(i){this.core=i,this.core.options=t.extend({},e.Defaults,this.core.options),this.swapping=!0,this.previous=void 0,this.next=void 0,this.handlers={"change.owl.carousel":t.proxy(function(t){t.namespace&&"position"===t.property.name&&(this.previous=this.core.current(),this.next=t.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":t.proxy(function(t){t.namespace&&(this.swapping="translated"===t.type)},this),"translate.owl.carousel":t.proxy(function(t){t.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};e.Defaults={animateOut:!1,animateIn:!1},e.prototype.swap=function(){var e,i,s,n,o,r;1===this.core.settings.items&&t.support.animation&&t.support.transition&&(this.core.speed(0),i=t.proxy(this.clear,this),s=this.core.$stage.children().eq(this.previous),n=this.core.$stage.children().eq(this.next),o=this.core.settings.animateIn,r=this.core.settings.animateOut,this.core.current()!==this.previous&&(r&&(e=this.core.coordinates(this.previous)-this.core.coordinates(this.next),s.one(t.support.animation.end,i).css({left:e+"px"}).addClass("animated owl-animated-out").addClass(r)),o&&n.one(t.support.animation.end,i).addClass("animated owl-animated-in").addClass(o)))},e.prototype.clear=function(e){t(e.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},e.prototype.destroy=function(){var t,e;for(t in this.handlers)t&&this.core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.tmowlCarousel.Constructor.Plugins.Animate=e}(window.Zepto||window.jQuery),function(t,e,i){"use strict";var s=function(e){this._core=e,this._call=null,this._time=0,this._timeout=0,this._paused=!0,this._handlers={"changed.owl.carousel":t.proxy(function(t){t.namespace&&"settings"===t.property.name?this._core.settings.autoplay?this.play():this.stop():t.namespace&&"position"===t.property.name&&this._paused&&(this._time=0)},this),"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":t.proxy(function(t,e,i){t.namespace&&this.play(e,i)},this),"stop.owl.autoplay":t.proxy(function(t){t.namespace&&this.stop()},this),"mouseover.owl.autoplay":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":t.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=t.extend({},s.Defaults,this._core.options)};s.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},s.prototype._next=function(s){this._call=e.setTimeout(t.proxy(this._next,this,s),this._timeout*(Math.round(this.read()/this._timeout)+1)-this.read()),this._core.is("interacting")||i.hidden||this._core.next(s||this._core.settings.autoplaySpeed)},s.prototype.read=function(){return(new Date).getTime()-this._time},s.prototype.play=function(i,s){var n;this._core.is("rotating")||this._core.enter("rotating"),i=i||this._core.settings.autoplayTimeout,n=Math.min(this._time%(this._timeout||i),i),this._paused?(this._time=this.read(),this._paused=!1):e.clearTimeout(this._call),this._time+=this.read()%i-n,this._timeout=i,this._call=e.setTimeout(t.proxy(this._next,this,s),i-n)},s.prototype.stop=function(){this._core.is("rotating")&&(this._time=0,this._paused=!0,e.clearTimeout(this._call),this._core.leave("rotating"))},s.prototype.pause=function(){this._core.is("rotating")&&!this._paused&&(this._time=this.read(),this._paused=!0,e.clearTimeout(this._call))},s.prototype.destroy=function(){var t,e;this.stop();for(t in this._handlers)t&&this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.tmowlCarousel.Constructor.Plugins.autoplay=s}(window.Zepto||window.jQuery,window,document),function(t){"use strict";var e=function(i){this._core=i,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":t.proxy(function(e){e.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+t(e.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,0,this._templates.pop())},this),"remove.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,1)},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&"position"===t.property.name&&this.draw()},this),"initialized.owl.carousel":t.proxy(function(t){t.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=t.extend({},e.Defaults,this._core.options),this.$element.on(this._handlers)};e.Defaults={nav:!1,navText:['<span aria-label="Previous">&#x2039;</span>','<span aria-label="Next">&#x203a;</span>'],navSpeed:!1,navElement:'button type="button" role="presentation"',navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},e.prototype.initialize=function(){var e,i=this._core.settings;this._controls.$relative=(i.navContainer?t(i.navContainer):t("<div>").addClass(i.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=t("<"+i.navElement+">").addClass(i.navClass[0]).html(i.navText[0]).prependTo(this._controls.$relative).on("click",t.proxy(function(){this.prev(i.navSpeed)},this)),this._controls.$next=t("<"+i.navElement+">").addClass(i.navClass[1]).html(i.navText[1]).appendTo(this._controls.$relative).on("click",t.proxy(function(){this.next(i.navSpeed)},this)),i.dotsData||(this._templates=[t('<button role="button">').addClass(i.dotClass).append(t("<span>")).prop("outerHTML")]),this._controls.$absolute=(i.dotsContainer?t(i.dotsContainer):t("<div>").addClass(i.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","button",t.proxy(function(e){var s=t(e.target).parent().is(this._controls.$absolute)?t(e.target).index():t(e.target).parent().index();e.preventDefault(),this.to(s,i.dotsSpeed)},this));for(e in this._overrides)e&&(this._core[e]=t.proxy(this[e],this))},e.prototype.destroy=function(){var t,e,i,s,n;n=this._core.settings;for(t in this._handlers)t&&this.$element.off(t,this._handlers[t]);for(e in this._controls)"$relative"===e&&n.navContainer?this._controls[e].html(""):this._controls[e].remove();for(s in this.overides)s&&(this._core[s]=this._overrides[s]);for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},e.prototype.update=function(){var t,e,i=this._core.clones().length/2,s=i+this._core.items().length,n=this._core.maximum(!0),o=this._core.settings,r=o.center||o.autoWidth||o.dotsData?1:o.dotsEach||o.items;if("page"!==o.slideBy&&(o.slideBy=Math.min(o.slideBy,o.items)),o.dots||"page"===o.slideBy)for(this._pages=[],t=i,e=0;t<s;t+=1){if(e>=r||0===e){if(this._pages.push({start:Math.min(n,t-i),end:t-i+r-1}),Math.min(n,t-i)===n)break;e=0}e+=this._core.mergers(this._core.relative(t))}},e.prototype.draw=function(){var e,i=this._core.settings,s=this._core.items().length<=i.items,n=this._core.relative(this._core.current()),o=i.loop||i.rewind;this._controls.$relative.toggleClass("disabled",!i.nav||s),i.nav&&(this._controls.$previous.toggleClass("disabled",!o&&n<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!o&&n>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!i.dots||s),i.dots&&(e=this._pages.length-this._controls.$absolute.children().length,i.dotsData&&0!==e?this._controls.$absolute.html(this._templates.join("")):e>0?this._controls.$absolute.append(new Array(e+1).join(this._templates[0])):e<0&&this._controls.$absolute.children().slice(e).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(t.inArray(this.current(),this._pages)).addClass("active"))},e.prototype.onTrigger=function(e){var i=this._core.settings;e.page={index:t.inArray(this.current(),this._pages),count:this._pages.length,size:i&&(i.center||i.autoWidth||i.dotsData?1:i.dotsEach||i.items)}},e.prototype.current=function(){var e=this._core.relative(this._core.current());return t.grep(this._pages,t.proxy(function(t){return t.start<=e&&t.end>=e},this)).pop()},e.prototype.getPosition=function(e){var i,s,n=this._core.settings;return"page"===n.slideBy?(i=t.inArray(this.current(),this._pages),s=this._pages.length,e?i+=1:i-=1,i=this._pages[(i%s+s)%s].start):(i=this._core.relative(this._core.current()),s=this._core.items().length,e?i+=n.slideBy:i-=n.slideBy),i},e.prototype.next=function(e){t.proxy(this._overrides.to,this._core)(this.getPosition(!0),e)},e.prototype.prev=function(e){t.proxy(this._overrides.to,this._core)(this.getPosition(!1),e)},e.prototype.to=function(e,i,s){var n;!s&&this._pages.length?(n=this._pages.length,t.proxy(this._overrides.to,this._core)(this._pages[(e%n+n)%n].start,i)):t.proxy(this._overrides.to,this._core)(e,i)},t.fn.tmowlCarousel.Constructor.Plugins.Navigation=e}(window.Zepto||window.jQuery),function(t,e){"use strict";var i=function(s){this._core=s,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":t.proxy(function(i){i.namespace&&"URLHash"===this._core.settings.startPosition&&t(e).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":t.proxy(function(e){var i;if(e.namespace){if(!(i=t(e.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash")))return;this._hashes[i]=e.content}},this),"changed.owl.carousel":t.proxy(function(i){var s,n;if(i.namespace&&"position"===i.property.name){if(s=this._core.items(this._core.relative(this._core.current())),!(n=t.map(this._hashes,function(t,e){return t===s?e:null}).join())||e.location.hash.slice(1)===n)return;e.location.hash=n}},this)},this._core.options=t.extend({},i.Defaults,this._core.options),this.$element.on(this._handlers),t(e).on("hashchange.owl.navigation",t.proxy(function(){var t=e.location.hash.substring(1),i=this._core.$stage.children(),s=this._hashes[t]&&i.index(this._hashes[t]);void 0!==s&&s!==this._core.current()&&this._core.to(this._core.relative(s),!1,!0)},this))};i.Defaults={URLhashListener:!1},i.prototype.destroy=function(){var i,s;t(e).off("hashchange.owl.navigation");for(i in this._handlers)i&&this._core.$element.off(i,this._handlers[i]);for(s in Object.getOwnPropertyNames(this))"function"!=typeof this[s]&&(this[s]=null)},t.fn.tmowlCarousel.Constructor.Plugins.Hash=i}(window.Zepto||window.jQuery,window),function(t){"use strict";function e(e,i){var s=!1,r=e.charAt(0).toUpperCase()+e.slice(1);return t.each((e+" "+o.join(r+" ")+r).split(" "),function(t,e){if(void 0!==n[e])return s=!i||e,!1}),s}function i(t){return e(t,!0)}var s,n=t("<support>").get(0).style,o="Webkit Moz O ms".split(" "),r={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}};(s={csstransforms:function(){return!!e("transform")},csstransforms3d:function(){return!!e("perspective")},csstransitions:function(){return!!e("transition")},cssanimations:function(){return!!e("animation")}}).csstransitions()&&(t.support.transition=new String(i("transition")),t.support.transition.end=r.transition.end[t.support.transition]),s.cssanimations()&&(t.support.animation=new String(i("animation")),t.support.animation.end=r.animation.end[t.support.animation]),s.csstransforms()&&(t.support.transform=new String(i("transform")),t.support.transform3d=s.csstransforms3d())}(window.Zepto||window.jQuery);!function(t,e,o){"use strict";function n(t,e){return void 0===t[e]?g[e]:t[e]}function a(){var t=e.pageYOffset;return void 0===t?h.scrollTop:t}function r(){T>1?(T=1,d(),setTimeout(r,g.throttle)):T=0}function i(t){C.length&&(t&&"scroll"===t.type&&t.currentTarget===e&&E>=a()||(T||setTimeout(r,0),T=2))}function l(t,e){var o=g["on"+t];o&&(p(o)?o.call(e[0]):(o.addClass&&e.addClass(o.addClass),o.removeClass&&e.removeClass(o.removeClass))),e.trigger("lazy"+t,[e]),i()}function s(e){l(e.type,t(e.currentTarget).off(A,s))}function d(o){var n,r,i,d,c,u,y,m,w,T,b,L,I,X,k,B;if(C.length){for(o=o||g.forceLoad,E=1/0,n=a(),r=e.innerHeight||h.clientHeight,i=e.innerWidth||h.clientWidth,d=0,c=C.length;d<c;d+=1)y=(u=C[d])[0],m=u[f],w=!1,T=o||z(y,v)<0,t.contains(h,y)?(o||!m.visibleOnly||y.offsetWidth||y.offsetHeight)&&(T||(L=y.getBoundingClientRect(),I=m.edgeX,X=m.edgeY,T=(b=L.top+n-X-r)<=n&&L.bottom>-X&&L.left<=i+I&&L.right>-I),T?(u.on(A,s),l("show",u),k=m.srcAttr,(B=p(k)?k(u):y.getAttribute(k))&&(y.src=B),w=!0):b<E&&(E=b)):w=!0,w&&(z(y,v,0),C.splice(d,1),d-=1,c-=1);c||l("complete",t(h))}}function c(){m.lazyLoadXT()}function u(){d(!0)}var f="lazyLoadXT",v="lazied",A="load error",h=o.documentElement||o.body,g={autoInit:!0,selector:"img[data-src]",blankImage:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",throttle:99,forceLoad:void 0===e.onscroll||!!e.operamini||!h.getBoundingClientRect,loadEvent:"pageshow",updateEvent:"load orientationchange resize scroll touchmove focus",forceEvent:"lazyloadall",oninit:{removeClass:"lazy"},onshow:{addClass:"lazy-hidden"},onload:{removeClass:"lazy-hidden",addClass:"lazy-loaded"},onerror:{removeClass:"lazy-hidden"},checkDuplicates:!0},y={srcAttr:"data-src",edgeX:0,edgeY:0,visibleOnly:!0},m=t(e),p=t.isFunction,w=t.extend,z=t.data||function(e,o){return t(e).data(o)},C=[],E=0,T=0;t[f]=w(g,y,t[f]),t.fn[f]=function(o){var a,r,s,d,c={};return o=o||{},a=n(o,"blankImage"),r=n(o,"checkDuplicates"),s=n(o,"scrollContainer"),d=n(o,"show"),t(s).on("scroll",i),Object.keys(y).forEach(function(t){c[t]=n(o,t)}),this.each(function(n,s){var u,A;if(s===e)t(g.selector).lazyLoadXT(o);else{if(u=r&&z(s,v),A=t(s).data(v,d?-1:1),u)return void i();a&&"IMG"===s.tagName&&!s.src&&(s.src=a),A[f]=w({},c),l("init",A),C.push(A),i()}})},t(o).ready(function(){l("start",m),m.on(g.updateEvent,i).on(g.forceEvent,u),t(o).on(g.updateEvent,i),g.autoInit&&(m.on(g.loadEvent,c),c())})}(window.jQuery||window.Zepto||window.$,window,document),function(t){"use strict";var e=t.lazyLoadXT;e.selector+=",video,iframe[data-src]",e.videoPoster="data-poster",t(document).on("lazyshow","video",function(o,n){var a=n.lazyLoadXT.srcAttr,r=t.isFunction(a),i=!1;n.attr("poster",n.attr(e.videoPoster)),n.children("source,track").each(function(e,o){var n=t(o),l=r?a(n):n.attr(a);l&&(n.attr("src",l),i=!0)}),i&&this.load()})}(window.jQuery||window.Zepto||window.$);!function(t,a,e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?window.module.exports=t(window.require("jquery")):t(a||e)}(function(t){"use strict";var a,e=window.JSON,n=function(a,e,n){var s,o,r=this,i={invalid:[],getCaret:function(){var t,e,n,s,o=0;try{return e=a.get(0),n=document.selection,s=e.selectionStart,n&&-1===navigator.appVersion.indexOf("MSIE 10")?((t=n.createRange()).moveStart("character",-i.val().length),o=t.text.length):(s||"0"===s)&&(o=s),o}catch(t){window.console.log(t)}},setCaret:function(t){var e,n;try{a.is(":focus")&&((n=a.get(0)).setSelectionRange?n.setSelectionRange(t,t):((e=n.createTextRange()).collapse(!0),e.moveEnd("character",t),e.moveStart("character",t),e.select()))}catch(t){window.console.log(t)}},events:function(){a.on("keydown.mask",function(t){a.data("mask-keycode",t.keyCode||t.which),a.data("mask-previus-value",a.val()),a.data("mask-previus-caret-pos",i.getCaret()),i.maskDigitPosMapOld=i.maskDigitPosMap}).on(t.jMaskGlobals.useInput?"input.mask":"keyup.mask",i.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){a.keydown().keyup()},100)}).on("change.mask",function(){a.data("changed",!0)}).on("blur.mask",function(){o===i.val()||a.data("changed")||a.trigger("change"),a.data("changed",!1)}).on("blur.mask",function(){o=i.val()}).on("focus.mask",function(a){!0===n.selectOnFocus&&t(a.target).select()}).on("focusout.mask",function(){n.clearIfNotMatch&&!s.test(i.val())&&i.val("")})},getRegexMask:function(){var t,a,n,s,o,i,l,c=[];for(l=0;l<e.length;l+=1)(t=r.translation[e.charAt(l)])?(a=t.pattern.toString().replace(/.{1}$|^.{1}/g,""),n=t.optional,(s=t.recursive)?(c.push(e.charAt(l)),o={digit:e.charAt(l),pattern:a}):c.push(n||s?a+"?":a)):c.push(e.charAt(l).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return i=c.join(""),o&&(i=i.replace(new RegExp("("+o.digit+"(.*"+o.digit+")?)"),"($1)?").replace(new RegExp(o.digit,"g"),o.pattern)),new RegExp(i)},destroyEvents:function(){a.off(["input","keydown","keyup","paste","drop","blur","focusout",""].join(".mask "))},val:function(t){var e,n=a.is("input")?"val":"text";return arguments.length>0?(a[n]()!==t&&a[n](t),e=a):e=a[n](),e},calculateCaretPosition:function(){var t,e,n,s,o=a.data("mask-previus-value")||"",r=i.getMasked(),l=i.getCaret(),c=0,u=0,k=0,d=0,p=0;if(o!==r){for(t=a.data("mask-previus-caret-pos")||0,e=r.length,n=o.length,p=l;p<e&&i.maskDigitPosMap[p];p+=1)u+=1;for(p=l-1;p>=0&&i.maskDigitPosMap[p];p-=1)c+=1;for(p=l-1;p>=0;p-=1)i.maskDigitPosMap[p]&&(k+=1);for(p=t-1;p>=0;p-=1)i.maskDigitPosMapOld[p]&&(d+=1);l>n?l=10*e:t>=l&&t!==n?i.maskDigitPosMapOld[l]||(s=l,l-=d-k,l-=c,i.maskDigitPosMap[l]&&(l=s)):l>t&&(l+=k-d,l+=u)}return l},behaviour:function(e){var n,s,o=a.data("mask-keycode");if(e=e||window.event,i.invalid=[],-1===t.inArray(o,r.byPassKeys))return n=i.getMasked(),s=i.getCaret(),setTimeout(function(){i.setCaret(i.calculateCaretPosition())},t.jMaskGlobals.keyStrokeCompensation),i.val(n),i.setCaret(s),i.callbacks(e)},getMasked:function(t,a){var s,o,l,c,u,k,d,p,f=[],h=void 0===a?i.val():a+"",g=0,v=e.length,m=0,M=h.length,y=1,w="push",b=-1,C=0,j=[];for(n.reverse?(w="unshift",y=-1,s=0,g=v-1,m=M-1,o=function(){return g>-1&&m>-1}):(s=v-1,o=function(){return g<v&&m<M});o();)c=e.charAt(g),u=h.charAt(m),(k=r.translation[c])?(u.match(k.pattern)?(f[w](u),k.recursive&&(-1===b?b=g:g===s&&g!==b&&(g=b-y),s===b&&(g-=y)),g+=y):u===l?(C-=1,l=void 0):k.optional?(g+=y,m-=y):k.fallback?(f[w](k.fallback),g+=y,m-=y):i.invalid.push({p:m,v:u,e:k.pattern}),m+=y):(t||f[w](c),u===c?(j.push(m),m+=y):(l=c,j.push(m+C),C+=1),g+=y);return d=e.charAt(s),v!==M+1||r.translation[d]||f.push(d),p=f.join(""),i.mapMaskdigitPositions(p,j,M),p},mapMaskdigitPositions:function(t,a,e){var s,o=n.reverse?t.length-e:0;for(i.maskDigitPosMap={},s=0;s<a.length;s+=1)i.maskDigitPosMap[a[s]+o]=1},callbacks:function(t){var s=i.val(),r=s!==o,l=[s,t,a,n],c=function(t,a,e){"function"==typeof n[t]&&a&&n[t].apply(this,e)};c("onChange",!0===r,l),c("onKeyPress",!0===r,l),c("onComplete",s.length===e.length,l),c("onInvalid",i.invalid.length>0,[s,t,a,i.invalid,n])}};a=t(a),o=i.val(),e="function"==typeof e?e(i.val(),void 0,a,n):e,r.mask=e,r.options=n,r.remove=function(){var t=i.getCaret();return r.options.placeholder&&a.removeAttr("placeholder"),a.data("mask-maxlength")&&a.removeAttr("maxlength"),i.destroyEvents(),i.val(r.getCleanVal()),i.setCaret(t),a},r.getCleanVal=function(){return i.getMasked(!0)},r.getMaskedVal=function(t){return i.getMasked(!1,t)},r.init=function(o){var l,c,u,k;if(o=o||!1,n=n||{},r.clearIfNotMatch=t.jMaskGlobals.clearIfNotMatch,r.byPassKeys=t.jMaskGlobals.byPassKeys,r.translation=t.extend({},t.jMaskGlobals.translation,n.translation),r=t.extend(!0,{},r,n),s=i.getRegexMask(),o)i.events(),i.val(i.getMasked());else{for(n.placeholder&&a.attr("placeholder",n.placeholder),a.data("mask")&&a.attr("autocomplete","off"),l=0,k=!0;l<e.length;l+=1)if((c=r.translation[e.charAt(l)])&&c.recursive){k=!1;break}k&&a.attr("maxlength",e.length).data("mask-maxlength",!0),i.destroyEvents(),i.events(),u=i.getCaret(),i.val(i.getMasked()),i.setCaret(u)}},r.init(!a.is("input"))},s=function(a,n,s){var o=t(a).data("mask"),r=e.stringify,i=t(a).val()||t(a).text();s=s||{};try{return"function"==typeof n&&(n=n(i)),"object"!=typeof o||r(o.options)!==r(s)||o.mask!==n}catch(t){window.console.log(t)}},o=function(){var a=t(this),e={},o=a.attr("data-mask");if(a.attr("data-mask-reverse")&&(e.reverse=!0),a.attr("data-mask-clearifnotmatch")&&(e.clearIfNotMatch=!0),"true"===a.attr("data-mask-selectonfocus")&&(e.selectOnFocus=!0),s(a,o,e))return a.data("mask",new n(this,o,e))};t.maskWatchers={},t.fn.mask=function(a,e){var o,r,i=this.selector,l=t.jMaskGlobals,c=l.watchInterval;return e=e||{},o=e.watchInputs||l.watchInputs,r=function(){if(s(this,a,e))return t(this).data("mask",new n(this,a,e))},t(this).each(r),i&&""!==i&&o&&(clearInterval(t.maskWatchers[i]),t.maskWatchers[i]=setInterval(function(){t(document).find(i).each(r)},c)),this},t.fn.masked=function(t){return this.data("mask").getMaskedVal(t)},t.fn.unmask=function(){return clearInterval(t.maskWatchers[this.selector]),delete t.maskWatchers[this.selector],this.each(function(){var a=t(this).data("mask");a&&a.remove().removeData("mask")})},t.fn.cleanVal=function(){return this.data("mask").getCleanVal()},t.applyDataMask=function(a){((a=a||t.jMaskGlobals.maskElements)instanceof t?a:t(a)).filter(t.jMaskGlobals.dataMaskAttr).each(o)},a={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,keyStrokeCompensation:10,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&function(t){var a,e=document.createElement("div");return t="on"+t,(a=t in e)||(e.setAttribute(t,"return;"),a="function"==typeof e[t]),e=null,a}("input"),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}},t.jMaskGlobals=t.jMaskGlobals||{},(a=t.jMaskGlobals=t.extend(!0,{},a,t.jMaskGlobals)).dataMask&&t.applyDataMask(),setInterval(function(){t.jMaskGlobals.watchDataMask&&t.applyDataMask()},a.watchInterval)},window.jQuery,window.Zepto);!function(t){"use strict";"function"==typeof window.define&&window.define.amd?window.define([],t):"object"==typeof exports?window.module.exports=t():window.noUiSlider=t()}(function(){"use strict";function t(t){return"object"==typeof t&&"function"==typeof t.to&&"function"==typeof t.from}function e(t){t.parentElement.removeChild(t)}function r(t){return null!==t&&void 0!==t}function n(t){t.preventDefault()}function i(t){return t.filter(function(t){return!this[t]&&(this[t]=!0)},{})}function o(t,e){return Math.round(t/e)*e}function s(t,e){var r=t.getBoundingClientRect(),n=t.ownerDocument,i=n.documentElement,o=m(n);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(o.x=0),e?r.top+o.y-i.clientTop:r.left+o.x-i.clientLeft}function a(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function l(t,e,r){r>0&&(f(t,e),setTimeout(function(){d(t,e)},r))}function u(t){return Math.max(Math.min(t,100),0)}function c(t){return Array.isArray(t)?t:[t]}function p(t){var e;return t=String(t),(e=t.split(".")).length>1?e[1].length:0}function f(t,e){t.classList&&!/\s/.test(e)?t.classList.add(e):t.className+=" "+e}function d(t,e){t.classList&&!/\s/.test(e)?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function h(t,e){return t.classList?t.classList.contains(e):new RegExp("\\b"+e+"\\b").test(t.className)}function m(t){var e=void 0!==window.pageXOffset,r="CSS1Compat"===(t.compatMode||"");return{x:e?window.pageXOffset:r?t.documentElement.scrollLeft:t.body.scrollLeft,y:e?window.pageYOffset:r?t.documentElement.scrollTop:t.body.scrollTop}}function g(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function v(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}function b(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}function x(t,e){return 100/(e-t)}function S(t,e,r){return 100*e/(t[r+1]-t[r])}function w(t,e){return S(t,t[0]<0?e+Math.abs(t[0]):e-t[0],0)}function y(t,e){return e*(t[1]-t[0])/100+t[0]}function E(t,e){for(var r=1;t>=e[r];)r+=1;return r}function C(t,e,r){var n,i,o,s,a;return r>=t.slice(-1)[0]?100:(n=E(r,t),i=t[n-1],o=t[n],s=e[n-1],a=e[n],s+w([i,o],r)/x(s,a))}function P(t,e,r){var n,i,o,s,a;return r>=100?t.slice(-1)[0]:(n=E(r,e),i=t[n-1],o=t[n],s=e[n-1],a=e[n],y([i,o],(r-s)*x(s,a)))}function N(t,e,r,n){var i,s,a;return 100===n?n:(i=E(n,t),s=t[i-1],a=t[i],r?n-s>(a-s)/2?a:s:e[i-1]?t[i-1]+o(n-t[i-1],e[i-1]):n)}function k(t,e,r){var n;if("number"==typeof e&&(e=[e]),!Array.isArray(e))throw new Error("noUiSlider ("+et+"): 'range' contains invalid value.");if(n="min"===t?0:"max"===t?100:parseFloat(t),!a(n)||!a(e[0]))throw new Error("noUiSlider ("+et+"): 'range' value isn't numeric.");r.xPct.push(n),r.xVal.push(e[0]),n?r.xSteps.push(!isNaN(e[1])&&e[1]):isNaN(e[1])||(r.xSteps[0]=e[1]),r.xHighestCompleteStep.push(0)}function U(t,e,r){var n,i,o;e&&(r.xVal[t]!==r.xVal[t+1]?(r.xSteps[t]=S([r.xVal[t],r.xVal[t+1]],e,0)/x(r.xPct[t],r.xPct[t+1]),n=(r.xVal[t+1]-r.xVal[t])/r.xNumSteps[t],i=Math.ceil(Number(n.toFixed(3))-1),o=r.xVal[t]+r.xNumSteps[t]*i,r.xHighestCompleteStep[t]=o):r.xSteps[t]=r.xHighestCompleteStep[t]=r.xVal[t])}function A(t,e,r){var n,i=[];this.xPct=[],this.xVal=[],this.xSteps=[r||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=e;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&i.push([t[n],n]);for(i.length&&"object"==typeof i[0][0]?i.sort(function(t,e){return t[0][0]-e[0][0]}):i.sort(function(t,e){return t[0]-e[0]}),n=0;n<i.length;n++)k(i[n][1],i[n][0],this);for(this.xNumSteps=this.xSteps.slice(0),n=0;n<this.xNumSteps.length;n++)U(n,this.xNumSteps[n],this)}function V(e){if(t(e))return!0;throw new Error("noUiSlider ("+et+"): 'format' requires 'to' and 'from' methods.")}function D(t,e){if(!a(e))throw new Error("noUiSlider ("+et+"): 'step' is not numeric.");t.singleStep=e}function M(t,e){if(!a(e))throw new Error("noUiSlider ("+et+"): 'keyboardPageMultiplier' is not numeric.");t.keyboardPageMultiplier=e}function O(t,e){if(!a(e))throw new Error("noUiSlider ("+et+"): 'keyboardDefaultStep' is not numeric.");t.keyboardDefaultStep=e}function L(t,e){if("object"!=typeof e||Array.isArray(e))throw new Error("noUiSlider ("+et+"): 'range' is not an object.");if(void 0===e.min||void 0===e.max)throw new Error("noUiSlider ("+et+"): Missing 'min' or 'max' in 'range'.");if(e.min===e.max)throw new Error("noUiSlider ("+et+"): 'range' 'min' and 'max' cannot be equal.");t.spectrum=new A(e,t.snap,t.singleStep)}function j(t,e){if(e=c(e),!Array.isArray(e)||!e.length)throw new Error("noUiSlider ("+et+"): 'start' option is incorrect.");t.handles=e.length,t.start=e}function z(t,e){if(t.snap=e,"boolean"!=typeof e)throw new Error("noUiSlider ("+et+"): 'snap' option must be a boolean.")}function H(t,e){if(t.animate=e,"boolean"!=typeof e)throw new Error("noUiSlider ("+et+"): 'animate' option must be a boolean.")}function F(t,e){if(t.animationDuration=e,"number"!=typeof e)throw new Error("noUiSlider ("+et+"): 'animationDuration' option must be a number.")}function R(t,e){var r,n=[!1];if("lower"===e?e=[!0,!1]:"upper"===e&&(e=[!1,!0]),!0===e||!1===e){for(r=1;r<t.handles;r++)n.push(e);n.push(!1)}else{if(!Array.isArray(e)||!e.length||e.length!==t.handles+1)throw new Error("noUiSlider ("+et+"): 'connect' option doesn't match handle count.");n=e}t.connect=n}function T(t,e){switch(e){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw new Error("noUiSlider ("+et+"): 'orientation' option is invalid.")}}function B(t,e){if(!a(e))throw new Error("noUiSlider ("+et+"): 'margin' option must be numeric.");0!==e&&(t.margin=t.spectrum.getDistance(e))}function q(t,e){if(!a(e))throw new Error("noUiSlider ("+et+"): 'limit' option must be numeric.");if(t.limit=t.spectrum.getDistance(e),!t.limit||t.handles<2)throw new Error("noUiSlider ("+et+"): 'limit' option is only supported on linear sliders with 2 or more handles.")}function X(t,e){var r,n,i,o;if(!a(e)&&!Array.isArray(e))throw new Error("noUiSlider ("+et+"): 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(e)&&2!==e.length&&!a(e[0])&&!a(e[1]))throw new Error("noUiSlider ("+et+"): 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==e){for(Array.isArray(e)||(e=[e,e]),t.padding=[t.spectrum.getDistance(e[0]),t.spectrum.getDistance(e[1])],r=0;r<t.spectrum.xNumSteps.length-1;r++)if(t.padding[0][r]<0||t.padding[1][r]<0)throw new Error("noUiSlider ("+et+"): 'padding' option must be a positive number(s).");if(n=e[0]+e[1],i=t.spectrum.xVal[0],o=t.spectrum.xVal[t.spectrum.xVal.length-1],n/(o-i)>1)throw new Error("noUiSlider ("+et+"): 'padding' option must not exceed 100% of the range.")}}function Y(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1;break;default:throw new Error("noUiSlider ("+et+"): 'direction' option was not recognized.")}}function _(t,e){var r,n,i,o,s,a;if("string"!=typeof e)throw new Error("noUiSlider ("+et+"): 'behaviour' must be a string containing options.");if(r=e.indexOf("tap")>=0,n=e.indexOf("drag")>=0,i=e.indexOf("fixed")>=0,o=e.indexOf("snap")>=0,s=e.indexOf("hover")>=0,a=e.indexOf("unconstrained")>=0,i){if(2!==t.handles)throw new Error("noUiSlider ("+et+"): 'fixed' behaviour must be used with 2 handles");B(t,t.start[1]-t.start[0])}if(a&&(t.margin||t.limit))throw new Error("noUiSlider ("+et+"): 'unconstrained' behaviour cannot be used with margin or limit");t.events={tap:r||o,drag:n,fixed:i,snap:o,hover:s,unconstrained:a}}function I(t,e){var r;if(!1!==e)if(!0===e)for(t.tooltips=[],r=0;r<t.handles;r++)t.tooltips.push(!0);else{if(t.tooltips=c(e),t.tooltips.length!==t.handles)throw new Error("noUiSlider ("+et+"): must pass a formatter for all handles.");t.tooltips.forEach(function(t){if("boolean"!=typeof t&&("object"!=typeof t||"function"!=typeof t.to))throw new Error("noUiSlider ("+et+"): 'tooltips' must be passed a formatter or 'false'.")})}}function W(t,e){t.ariaFormat=e,V(e)}function $(t,e){t.format=e,V(e)}function G(t,e){if(t.keyboardSupport=e,"boolean"!=typeof e)throw new Error("noUiSlider ("+et+"): 'keyboardSupport' option must be a boolean.")}function J(t,e){t.documentElement=e}function K(t,e){if("string"!=typeof e&&!1!==e)throw new Error("noUiSlider ("+et+"): 'cssPrefix' must be a string or `false`.");t.cssPrefix=e}function Q(t,e){var r;if("object"!=typeof e)throw new Error("noUiSlider ("+et+"): 'cssClasses' must be an object.");if("string"==typeof t.cssPrefix){t.cssClasses={};for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t.cssClasses[r]=t.cssPrefix+e[r])}else t.cssClasses=e}function Z(t){var e,n,i,o,s={margin:0,limit:0,padding:0,animate:!0,animationDuration:300,ariaFormat:rt,format:rt},a={step:{r:!1,t:D},keyboardPageMultiplier:{r:!1,t:M},keyboardDefaultStep:{r:!1,t:O},start:{r:!0,t:j},connect:{r:!0,t:R},direction:{r:!0,t:Y},snap:{r:!1,t:z},animate:{r:!1,t:H},animationDuration:{r:!1,t:F},range:{r:!0,t:L},orientation:{r:!1,t:T},margin:{r:!1,t:B},limit:{r:!1,t:q},padding:{r:!1,t:X},behaviour:{r:!0,t:_},ariaFormat:{r:!1,t:W},format:{r:!1,t:$},tooltips:{r:!1,t:I},keyboardSupport:{r:!0,t:G},documentElement:{r:!1,t:J},cssPrefix:{r:!0,t:K},cssClasses:{r:!0,t:Q}},l={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:nt,keyboardPageMultiplier:5,keyboardDefaultStep:10};return t.format&&!t.ariaFormat&&(t.ariaFormat=t.format),Object.keys(a).forEach(function(e){if(!r(t[e])&&void 0===l[e]){if(a[e].r)throw new Error("noUiSlider ("+et+"): '"+e+"' is required.");return!0}a[e].t(s,r(t[e])?t[e]:l[e])}),s.pips=t.pips,e=document.createElement("div"),n=void 0!==e.style.msTransform,i=void 0!==e.style.transform,s.transformRule=i?"transform":n?"msTransform":"webkitTransform",o=[["left","top"],["right","bottom"]],s.style=o[s.dir][s.ort],s}function tt(t,r,o){function a(t,e){var r=Pt.createElement("div");return e&&f(r,e),t.appendChild(r),r}function p(t,e){var n=a(t,r.cssClasses.origin),i=a(n,r.cssClasses.handle);return a(i,r.cssClasses.touchArea),i.setAttribute("data-handle",e),r.keyboardSupport&&(i.setAttribute("tabindex","0"),i.addEventListener("keydown",function(t){return Y(t,e)})),i.setAttribute("role","slider"),i.setAttribute("aria-orientation",r.ort?"vertical":"horizontal"),0===e?f(i,r.cssClasses.handleLower):e===r.handles-1&&f(i,r.cssClasses.handleUpper),n}function x(t,e){return!!e&&a(t,r.cssClasses.connect)}function S(t,e){var n,i=a(e,r.cssClasses.connects);for(pt=[],(ft=[]).push(x(i,t[0])),n=0;n<r.handles;n++)pt.push(p(e,n)),yt[n]=n,ft.push(x(i,t[n+1]))}function w(t){return f(t,r.cssClasses.target),0===r.dir?f(t,r.cssClasses.ltr):f(t,r.cssClasses.rtl),0===r.ort?f(t,r.cssClasses.horizontal):f(t,r.cssClasses.vertical),"rtl"===getComputedStyle(t).direction?f(t,r.cssClasses.textDirectionRtl):f(t,r.cssClasses.textDirectionLtr),a(t,r.cssClasses.base)}function y(t,e){return!!r.tooltips[e]&&a(t.firstChild,r.cssClasses.tooltip)}function E(){return bt.hasAttribute("disabled")}function C(t){return pt[t].hasAttribute("disabled")}function P(){ht&&(W("update.tooltips"),ht.forEach(function(t){t&&e(t)}),ht=null)}function N(){var t;P(),ht=pt.map(y),I("update.tooltips",function(e,n,i){ht[n]&&(t=e[n],!0!==r.tooltips[n]&&(t=r.tooltips[n].to(i[n])),ht[n].innerHTML=t)})}function k(){I("update",function(t,e,n,i,o){yt.forEach(function(t){var e=pt[t],i=G(wt,t,0,!0,!0,!0),s=G(wt,t,100,!0,!0,!0),a=o[t],l=r.ariaFormat.to(n[t]);i=xt.fromStepping(i).toFixed(1),s=xt.fromStepping(s).toFixed(1),a=xt.fromStepping(a).toFixed(1),e.children[0].setAttribute("aria-valuemin",i),e.children[0].setAttribute("aria-valuemax",s),e.children[0].setAttribute("aria-valuenow",a),e.children[0].setAttribute("aria-valuetext",l)})})}function U(t,e,r){var n,i;if("range"===t||"steps"===t)return xt.xVal;if("count"===t){if(e<2)throw new Error("noUiSlider ("+et+"): 'values' (>= 2) required for mode 'count'.");for(i=100/(n=e-1),e=[];n--;)e[n]=n*i;e.push(100),t="positions"}return"positions"===t?e.map(function(t){return xt.fromStepping(r?xt.getStep(t):t)}):"values"===t?r?e.map(function(t){return xt.fromStepping(xt.getStep(xt.toStepping(t)))}):e:void 0}function A(t,e,r){function n(t,e){return(t+e).toFixed(7)/1}var o={},s=xt.xVal[0],a=xt.xVal[xt.xVal.length-1],l=!1,u=!1,c=0;return(r=i(r.slice().sort(function(t,e){return t-e})))[0]!==s&&(r.unshift(s),l=!0),r[r.length-1]!==a&&(r.push(a),u=!0),r.forEach(function(i,s){var a,p,f,d,h,m,g,v,b,x,S=i,w=r[s+1],y="steps"===e;if(y&&(a=xt.xNumSteps[s]),a||(a=w-S),!1!==S&&void 0!==w)for(a=Math.max(a,1e-7),p=S;p<=w;p=n(p,a)){for(v=(h=(d=xt.toStepping(p))-c)/t,x=h/(b=Math.round(v)),f=1;f<=b;f+=1)o[(m=c+f*x).toFixed(5)]=[xt.fromStepping(m),0];g=r.indexOf(p)>-1?Vt:y?Dt:At,!s&&l&&p!==w&&(g=0),p===w&&u||(o[d.toFixed(5)]=[p,g]),c=d}}),o}function V(t,e,n){function i(t,e){var n=e===r.cssClasses.value,i=n?s:l,o=n?c:p;return e+" "+i[r.ort]+" "+o[t]}function o(t,o,s){var l;(s=e?e(o,s):s)!==Ut&&((l=a(u,!1)).className=i(s,r.cssClasses.marker),l.style[r.style]=t+"%",s>At&&((l=a(u,!1)).className=i(s,r.cssClasses.value),l.setAttribute("data-value",o),l.style[r.style]=t+"%",l.innerHTML=n.to(o)))}var s,l,u=Pt.createElement("div"),c=[],p=[];return c[At]=r.cssClasses.valueNormal,c[Vt]=r.cssClasses.valueLarge,c[Dt]=r.cssClasses.valueSub,p[At]=r.cssClasses.markerNormal,p[Vt]=r.cssClasses.markerLarge,p[Dt]=r.cssClasses.markerSub,s=[r.cssClasses.valueHorizontal,r.cssClasses.valueVertical],l=[r.cssClasses.markerHorizontal,r.cssClasses.markerVertical],f(u,r.cssClasses.pips),f(u,0===r.ort?r.cssClasses.pipsHorizontal:r.cssClasses.pipsVertical),Object.keys(t).forEach(function(e){o(e,t[e][0],t[e][1])}),u}function D(){dt&&(e(dt),dt=null)}function M(t){var e,r,n,i,o,s,a,l;return D(),e=t.mode,r=t.density||1,n=t.filter||!1,i=t.values||!1,o=t.stepped||!1,s=U(e,i,o),a=A(r,e,s),l=t.format||{to:Math.round},dt=bt.appendChild(V(a,n,l))}function O(){var t=ct.getBoundingClientRect(),e="offset"+["Width","Height"][r.ort];return 0===r.ort?t.width||ct[e]:t.height||ct[e]}function L(t,e,n,i){var o=function(o){return!!(o=j(o,i.pageOffset,i.target||e))&&(!(E()&&!i.doNotReject)&&(!(h(bt,r.cssClasses.tap)&&!i.doNotReject)&&(!(t===gt.start&&void 0!==o.buttons&&o.buttons>1)&&((!i.hover||!o.buttons)&&(vt||o.preventDefault(),o.calcPoint=o.points[r.ort],void n(o,i))))))},s=[];return t.split(" ").forEach(function(t){e.addEventListener(t,o,!!vt&&{passive:!0}),s.push([t,o])}),s}function j(t,e,r){var n,i,o,s,a,l=0===t.type.indexOf("touch"),u=0===t.type.indexOf("mouse"),c=0===t.type.indexOf("pointer");if(0===t.type.indexOf("MSPointer")&&(c=!0),l)if(o=function(t){return t.target===r||r.contains(t.target)||t.target.shadowRoot&&t.target.shadowRoot.contains(r)},"touchstart"===t.type){if((s=Array.prototype.filter.call(t.touches,o)).length>1)return!1;n=s[0].pageX,i=s[0].pageY}else{if(!(a=Array.prototype.find.call(t.changedTouches,o)))return!1;n=a.pageX,i=a.pageY}return e=e||m(Pt),(u||c)&&(n=t.clientX+e.x,i=t.clientY+e.y),t.pageOffset=e,t.points=[n,i],t.cursor=u||c,t}function z(t){var e=100*(t-s(ct,r.ort))/O();return e=u(e),r.dir?100-e:e}function H(t){var e=100,r=!1;return pt.forEach(function(n,i){var o,s,a,l,u;C(i)||(o=wt[i],a=100===(s=Math.abs(o-t))&&100===e,l=s<e,u=s<=e&&t>o,(l||u||a)&&(r=i,e=s))}),r}function F(t,e){"mouseout"===t.type&&"HTML"===t.target.nodeName&&null===t.relatedTarget&&T(t,e)}function R(t,e){var n;if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===t.buttons&&0!==e.buttonsProperty)return T(t,e);K((n=(r.dir?-1:1)*(t.calcPoint-e.startCalcPoint))>0,100*n/e.baseSize,e.locations,e.handleNumbers)}function T(t,e){e.handle&&(d(e.handle,r.cssClasses.active),Et-=1),e.listeners.forEach(function(t){Nt.removeEventListener(t[0],t[1])}),0===Et&&(d(bt,r.cssClasses.drag),rt(),t.cursor&&(kt.style.cursor="",kt.removeEventListener("selectstart",n))),e.handleNumbers.forEach(function(t){$("change",t),$("set",t),$("end",t)})}function B(t,e){var i,o,s,a,l;if(e.handleNumbers.some(C))return!1;1===e.handleNumbers.length&&(i=pt[e.handleNumbers[0]].children[0],Et+=1,f(i,r.cssClasses.active)),t.stopPropagation(),o=[],s=L(gt.move,Nt,R,{target:t.target,handle:i,listeners:o,startCalcPoint:t.calcPoint,baseSize:O(),pageOffset:t.pageOffset,handleNumbers:e.handleNumbers,buttonsProperty:t.buttons,locations:wt.slice()}),a=L(gt.end,Nt,T,{target:t.target,handle:i,listeners:o,doNotReject:!0,handleNumbers:e.handleNumbers}),l=L("mouseout",Nt,F,{target:t.target,handle:i,listeners:o,doNotReject:!0,handleNumbers:e.handleNumbers}),o.push.apply(o,s.concat(a,l)),t.cursor&&(kt.style.cursor=getComputedStyle(t.target).cursor,pt.length>1&&f(bt,r.cssClasses.drag),kt.addEventListener("selectstart",n,!1)),e.handleNumbers.forEach(function(t){$("start",t)})}function q(t){var e,n;return!(!t.buttons&&!t.touches)&&(t.stopPropagation(),e=z(t.calcPoint),!1!==(n=H(e))&&(r.events.snap||l(bt,r.cssClasses.tap,r.animationDuration),nt(n,e,!0,!0),rt(),$("slide",n,!0),$("update",n,!0),$("change",n,!0),$("set",n,!0),void(r.events.snap&&B(t,{handleNumbers:[n]}))))}function X(t){var e=z(t.calcPoint),r=xt.getStep(e),n=xt.fromStepping(r);Object.keys(Ct).forEach(function(t){"hover"===t.split(".")[0]&&Ct[t].forEach(function(t){t.call(mt,n)})})}function Y(t,e){var n,i,o,s,a,l,u,c,p,f,d,h,m,g,v,b;if(E()||C(e))return!1;if(n=["Left","Right"],i=["Down","Up"],o=["PageDown","PageUp"],s=["Home","End"],r.dir&&!r.ort?n.reverse():r.ort&&!r.dir&&(i.reverse(),o.reverse()),a=t.key.replace("Arrow",""),l=a===o[0],u=a===o[1],c=a===i[0]||a===n[0]||l,p=a===i[1]||a===n[1]||u,f=a===s[0],d=a===s[1],!(c||p||f||d))return!0;if(t.preventDefault(),p||c){if(m=r.keyboardPageMultiplier,g=c?0:1,v=ut(e),null===(b=v[g]))return!1;!1===b&&(b=xt.getDefaultStep(wt[e],c,r.keyboardDefaultStep)),(u||l)&&(b*=m),b=Math.max(b,1e-7),b*=c?-1:1,h=St[e]+b}else h=d?r.spectrum.xVal[r.spectrum.xVal.length-1]:r.spectrum.xVal[0];return nt(e,xt.toStepping(h),!0,!0),$("slide",e),$("update",e),$("change",e),$("set",e),!1}function _(t){var e,n,i;t.fixed||pt.forEach(function(t,e){L(gt.start,t.children[0],B,{handleNumbers:[e]})}),t.tap&&L(gt.start,ct,q,{}),t.hover&&L(gt.move,ct,X,{hover:!0}),t.drag&&ft.forEach(function(o,s){!1!==o&&0!==s&&s!==ft.length-1&&(e=pt[s-1],n=pt[s],i=[o],f(o,r.cssClasses.draggable),t.fixed&&(i.push(e.children[0]),i.push(n.children[0])),i.forEach(function(t){L(gt.start,t,B,{handles:[e,n],handleNumbers:[s-1,s]})}))})}function I(t,e){Ct[t]=Ct[t]||[],Ct[t].push(e),"update"===t.split(".")[0]&&pt.forEach(function(t,e){$("update",e)})}function W(t){var e=t&&t.split(".")[0],r=e&&t.substring(e.length);Object.keys(Ct).forEach(function(t){var n=t.split(".")[0],i=t.substring(n.length);e&&e!==n||r&&r!==i||delete Ct[t]})}function $(t,e,n){Object.keys(Ct).forEach(function(i){var o=i.split(".")[0];t===o&&Ct[i].forEach(function(t){t.call(mt,St.map(r.format.to),e,St.slice(),n||!1,wt.slice(),mt)})})}function G(t,e,n,i,o,s){var a;return pt.length>1&&!r.events.unconstrained&&(i&&e>0&&(a=xt.getAbsoluteDistance(t[e-1],r.margin,0),n=Math.max(n,a)),o&&e<pt.length-1&&(a=xt.getAbsoluteDistance(t[e+1],r.margin,1),n=Math.min(n,a))),pt.length>1&&r.limit&&(i&&e>0&&(a=xt.getAbsoluteDistance(t[e-1],r.limit,0),n=Math.min(n,a)),o&&e<pt.length-1&&(a=xt.getAbsoluteDistance(t[e+1],r.limit,1),n=Math.max(n,a))),r.padding&&(0===e&&(a=xt.getAbsoluteDistance(0,r.padding[0],0),n=Math.max(n,a)),e===pt.length-1&&(a=xt.getAbsoluteDistance(100,r.padding[1],1),n=Math.min(n,a))),n=xt.getStep(n),!((n=u(n))===t[e]&&!s)&&n}function J(t,e){var n=r.ort;return(n?e:t)+", "+(n?t:e)}function K(t,e,r,n){var i=r.slice(),o=[!t,t],s=[t,!t],a=!1;n=n.slice(),t&&n.reverse(),n.length>1?n.forEach(function(t,r){var n=G(i,t,i[t]+e,o[r],s[r],!1);!1===n?e=0:(e=n-i[t],i[t]=n)}):o=s=[!0],n.forEach(function(t,n){a=nt(t,r[t]+e,o[n],s[n])||a}),a&&n.forEach(function(t){$("update",t),$("slide",t)})}function Q(t,e){return r.dir?100-t-e:t}function tt(t,e){var n;wt[t]=e,St[t]=xt.fromStepping(e),n="translate("+J(10*(Q(e,0)-Mt)+"%","0")+")",pt[t].style[r.transformRule]=n,ot(t),ot(t+1)}function rt(){yt.forEach(function(t){var e=wt[t]>50?-1:1,r=3+(pt.length+e*t);pt[t].style.zIndex=r})}function nt(t,e,r,n){return!1!==(e=G(wt,t,e,r,n,!1))&&(tt(t,e),!0)}function it(t){nt(t,wt[t],!0,!0)}function ot(t){var e,n,i,o,s;ft[t]&&(e=0,n=100,0!==t&&(e=wt[t-1]),t!==ft.length-1&&(n=wt[t]),o="translate("+J(Q(e,i=n-e)+"%","0")+")",s="scale("+J(i/100,"1")+")",ft[t].style[r.transformRule]=o+" "+s)}function st(t,e){return null===t||!1===t||void 0===t?wt[e]:("number"==typeof t&&(t=String(t)),t=r.format.from(t),!1===(t=xt.toStepping(t))||isNaN(t)?wt[e]:t)}function at(t,e){var n,i=c(t),o=void 0===wt[0];for(e=void 0===e||!!e,r.animate&&!o&&l(bt,r.cssClasses.tap,r.animationDuration),yt.forEach(function(t){nt(t,st(i[t],t),!0,!1)}),n=1===yt.length?0:1;n<yt.length;++n)yt.forEach(it);rt(),yt.forEach(function(t){$("update",t),null!==i[t]&&e&&$("set",t)})}function lt(){var t=St.map(r.format.to);return 1===t.length?t[0]:t}function ut(t){var e,n=wt[t],i=xt.getNearbySteps(n),o=St[t],s=i.thisStep.step,a=null;return r.snap?[o-i.stepBefore.startValue||null,i.stepAfter.startValue-o||null]:(!1!==s&&o+s>i.stepAfter.startValue&&(s=i.stepAfter.startValue-o),a=o>i.thisStep.startValue?i.thisStep.step:!1!==i.stepBefore.step&&o-i.stepBefore.highestStep,100===n?s=null:0===n&&(a=null),e=xt.countStepDecimals(),null!==s&&!1!==s&&(s=Number(s.toFixed(e))),null!==a&&!1!==a&&(a=Number(a.toFixed(e))),[a,s])}var ct,pt,ft,dt,ht,mt,gt=g(),vt=b()&&v(),bt=t,xt=r.spectrum,St=[],wt=[],yt=[],Et=0,Ct={},Pt=t.ownerDocument,Nt=r.documentElement||Pt.documentElement,kt=Pt.body,Ut=-1,At=0,Vt=1,Dt=2,Mt="rtl"===Pt.dir||1===r.ort?0:100;return ct=w(bt),S(r.connect,ct),_(r.events),at(r.start),r.pips&&M(r.pips),r.tooltips&&N(),k(),mt={destroy:function(){var t;for(t in r.cssClasses)Object.prototype.hasOwnProperty.call(r.cssClasses,t)&&d(bt,r.cssClasses[t]);for(;bt.firstChild;)bt.removeChild(bt.firstChild);delete bt.noUiSlider},steps:function(){return yt.map(ut)},on:I,off:W,get:lt,set:at,setHandle:function(t,e,r){if(!((t=Number(t))>=0&&t<yt.length))throw new Error("noUiSlider ("+et+"): invalid handle number, got: "+t);nt(t,st(e,t),!0,!0),$("update",t),r&&$("set",t)},reset:function(t){at(r.start,t)},__moveHandles:function(t,e,r){K(t,e,wt,r)},options:o,updateOptions:function(t,e){var n,i=lt(),s=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];s.forEach(function(e){void 0!==t[e]&&(o[e]=t[e])}),n=Z(o),s.forEach(function(e){void 0!==t[e]&&(r[e]=n[e])}),xt=n.spectrum,r.margin=n.margin,r.limit=n.limit,r.padding=n.padding,r.pips?M(r.pips):D(),r.tooltips?N():P(),wt=[],at(t.start||i,e)},target:bt,removePips:D,removeTooltips:P,getTooltips:function(){return ht},getOrigins:function(){return pt},pips:M}}var et="14.6.0",rt={to:function(t){return void 0!==t&&t.toFixed(2)},from:Number},nt={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"};return A.prototype.getDistance=function(t){var e,r,n=[];for(e=0;e<this.xNumSteps.length-1;e++){if((r=this.xNumSteps[e])&&t/r%1!=0)throw new Error("noUiSlider ("+et+"): 'limit', 'margin' and 'padding' of "+this.xPct[e]+"% range must be divisible by step.");n[e]=S(this.xVal,t,e)}return n},A.prototype.getAbsoluteDistance=function(t,e,r){var n,i,o=0,s=1,a=0,l=0,u=0,c=0;if(t<this.xPct[this.xPct.length-1])for(;t>this.xPct[o+1];)o++;else t===this.xPct[this.xPct.length-1]&&(o=this.xPct.length-2);for(r||t!==this.xPct[o+1]||o++,i=e[o],n=r?(t-this.xPct[o])/(this.xPct[o+1]-this.xPct[o]):(this.xPct[o+1]-t)/(this.xPct[o+1]-this.xPct[o]);i>0;)a=this.xPct[o+1+c]-this.xPct[o+c],e[o+c]*s+100-100*n>100?(l=a*n,s=(i-100*n)/e[o+c],n=1):(l=e[o+c]*a/100*s,s=0),r?(u-=l,this.xPct.length+c>=1&&c--):(u+=l,this.xPct.length-c>=1&&c++),i=e[o+c]*s;return t+u},A.prototype.toStepping=function(t){return t=C(this.xVal,this.xPct,t)},A.prototype.fromStepping=function(t){return P(this.xVal,this.xPct,t)},A.prototype.getStep=function(t){return t=N(this.xPct,this.xSteps,this.snap,t)},A.prototype.getDefaultStep=function(t,e,r){var n=E(t,this.xPct);return(100===t||e&&t===this.xPct[n-1])&&(n=Math.max(n-1,1)),(this.xVal[n]-this.xVal[n-1])/r},A.prototype.getNearbySteps=function(t){var e=E(t,this.xPct);return{stepBefore:{startValue:this.xVal[e-2],step:this.xNumSteps[e-2],highestStep:this.xHighestCompleteStep[e-2]},thisStep:{startValue:this.xVal[e-1],step:this.xNumSteps[e-1],highestStep:this.xHighestCompleteStep[e-1]},stepAfter:{startValue:this.xVal[e],step:this.xNumSteps[e],highestStep:this.xHighestCompleteStep[e]}}},A.prototype.countStepDecimals=function(){var t=this.xNumSteps.map(p);return Math.max.apply(null,t)},A.prototype.convert=function(t){return this.getStep(this.toStepping(t))},{__spectrum:A,version:et,cssClasses:nt,create:function(t,e){var r,n;if(!t||!t.nodeName)throw new Error("noUiSlider ("+et+"): create requires a single element, got: "+t);if(t.noUiSlider)throw new Error("noUiSlider ("+et+"): Slider was already initialized.");return r=Z(e,t),n=tt(t,r,e),t.noUiSlider=n,n}}});!function(t){"use strict";function e(t){return!!V.CSS_UNIT.exec(t)}function n(t){return parseInt(t,16)}function a(t){return n(t)/255}function r(t){var e,r=!1;if(t=t.replace(E,"").replace(I,"").toLowerCase(),$[t])t=$[t],r=!0;else if("transparent"===t)return{r:0,g:0,b:0,a:0,format:"name"};return(e=V.rgb.exec(t))?{r:e[1],g:e[2],b:e[3]}:(e=V.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=V.hsl.exec(t))?{h:e[1],s:e[2],l:e[3]}:(e=V.hsla.exec(t))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=V.hsv.exec(t))?{h:e[1],s:e[2],v:e[3]}:(e=V.hsva.exec(t))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=V.hex8.exec(t))?{r:n(e[1]),g:n(e[2]),b:n(e[3]),a:a(e[4]),format:r?"name":"hex8"}:(e=V.hex6.exec(t))?{r:n(e[1]),g:n(e[2]),b:n(e[3]),format:r?"name":"hex"}:(e=V.hex4.exec(t))?{r:n(e[1]+""+e[1]),g:n(e[2]+""+e[2]),b:n(e[3]+""+e[3]),a:a(e[4]+""+e[4]),format:r?"name":"hex8"}:!!(e=V.hex3.exec(t))&&{r:n(e[1]+""+e[1]),g:n(e[2]+""+e[2]),b:n(e[3]+""+e[3]),format:r?"name":"hex"}}function o(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:e,size:n}}function i(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function s(t){return"string"==typeof t&&-1!==t.indexOf("%")}function l(t){return"string"==typeof t&&-1!==t.indexOf(".")&&1===parseFloat(t)}function c(e,n){var a;return l(e)&&(e="100%"),a=s(e),e=D(n,L(0,parseFloat(e))),a&&(e=parseInt(e*n,10)/100),t.abs(e-n)<1e-6?1:e%n/parseFloat(n)}function f(t){return D(1,L(0,t))}function u(t){return 1===t.length?"0"+t:""+t}function d(t){return t<=1&&(t=100*t+"%"),t}function h(e){return t.round(255*parseFloat(e)).toString(16)}function p(t,e,n){return{r:255*c(t,255),g:255*c(e,255),b:255*c(n,255)}}function g(t,e,n){var a,r,o,i,s,l;if(t=c(t,255),e=c(e,255),n=c(n,255),a=L(t,e,n),r=D(t,e,n),s=(a+r)/2,a===r)o=i=0;else{switch(l=a-r,i=s>.5?l/(2-a-r):l/(a+r),a){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4}o/=6}return{h:o,s:i,l:s}}function b(t,e,n){function a(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}var r,o,i,s,l;return t=c(t,360),e=c(e,100),n=c(n,100),0===e?r=o=i=n:(r=a(l=2*n-(s=n<.5?n*(1+e):n+e-n*e),s,t+1/3),o=a(l,s,t),i=a(l,s,t-1/3)),{r:255*r,g:255*o,b:255*i}}function m(t,e,n){var a,r,o,i,s,l;if(t=c(t,255),e=c(e,255),n=c(n,255),a=L(t,e,n),r=D(t,e,n),s=a,l=a-r,i=0===a?0:l/a,a===r)o=0;else{switch(a){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4}o/=6}return{h:o,s:i,v:s}}function v(e,n,a){var r,o,i,s,l,f,u,d,h;return e=6*c(e,360),n=c(n,100),a=c(a,100),r=t.floor(e),o=e-r,i=a*(1-n),s=a*(1-o*n),l=a*(1-(1-o)*n),f=r%6,u=[a,s,i,i,l,a][f],d=[l,a,a,s,i,i][f],h=[i,i,l,a,a,s][f],{r:255*u,g:255*d,b:255*h}}function w(t,e,n,a){var r=[u(q(t).toString(16)),u(q(e).toString(16)),u(q(n).toString(16))];return a&&r[0].charAt(0)===r[0].charAt(1)&&r[1].charAt(0)===r[1].charAt(1)&&r[2].charAt(0)===r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function y(t,e,n,a,r){var o=[u(q(t).toString(16)),u(q(e).toString(16)),u(q(n).toString(16)),u(h(a))];return r&&o[0].charAt(0)===o[0].charAt(1)&&o[1].charAt(0)===o[1].charAt(1)&&o[2].charAt(0)===o[2].charAt(1)&&o[3].charAt(0)===o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function _(t,e,n,a){return[u(h(a)),u(q(t).toString(16)),u(q(e).toString(16)),u(q(n).toString(16))].join("")}function x(t){var n={r:0,g:0,b:0},a=1,o=null,s=null,l=null,c=!1,f=!1;return"string"==typeof t&&(t=r(t)),"object"==typeof t&&(e(t.r)&&e(t.g)&&e(t.b)?(n=p(t.r,t.g,t.b),c=!0,f="%"===String(t.r).substr(-1)?"prgb":"rgb"):e(t.h)&&e(t.s)&&e(t.v)?(o=d(t.s),s=d(t.v),n=v(t.h,o,s),c=!0,f="hsv"):e(t.h)&&e(t.s)&&e(t.l)&&(o=d(t.s),l=d(t.l),n=b(t.h,o,l),c=!0,f="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(a=t.a)),a=i(a),{ok:c,format:t.format||f,r:D(255,L(n.r,0)),g:D(255,L(n.g,0)),b:D(255,L(n.b,0)),a:a}}function k(t,e){var n;return t=t||"",e=e||{},t instanceof k?t:this instanceof k?(n=x(t),this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=q(100*this._a)/100,e.format?this._format=e.format:this._format=n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=q(this._r)),this._g<1&&(this._g=q(this._g)),this._b<1&&(this._b=q(this._b)),this._ok=n.ok,N+=1,void(this._tc_id=N)):new k(t,e)}function A(t,e){return new k(t,e)}function S(t,e){var n;return e=0===e?0:e||10,n=A(t).toHsl(),n.s-=e/100,n.s=f(n.s),A(n)}function C(t,e){var n;return e=0===e?0:e||10,n=A(t).toHsl(),n.s+=e/100,n.s=f(n.s),A(n)}function P(t){return A(t).desaturate(100)}function R(t,e){var n;return e=0===e?0:e||10,n=A(t).toHsl(),n.l+=e/100,n.l=f(n.l),A(n)}function F(t,e){var n;return e=0===e?0:e||10,n=A(t).toRgb(),n.r=L(0,D(255,n.r-q(-e/100*255))),n.g=L(0,D(255,n.g-q(-e/100*255))),n.b=L(0,D(255,n.b-q(-e/100*255))),A(n)}function H(t,e){var n;return e=0===e?0:e||10,n=A(t).toHsl(),n.l-=e/100,n.l=f(n.l),A(n)}function T(t,e){var n=A(t).toHsl(),a=(n.h+e)%360;return n.h=a<0?360+a:a,A(n)}function M(t){var e=A(t).toHsl();return e.h=(e.h+180)%360,A(e)}function O(t){var e=A(t).toHsl(),n=e.h;return[A(t),A({h:(n+120)%360,s:e.s,l:e.l}),A({h:(n+240)%360,s:e.s,l:e.l})]}function z(t){var e=A(t).toHsl(),n=e.h;return[A(t),A({h:(n+90)%360,s:e.s,l:e.l}),A({h:(n+180)%360,s:e.s,l:e.l}),A({h:(n+270)%360,s:e.s,l:e.l})]}function j(t){var e=A(t).toHsl(),n=e.h;return[A(t),A({h:(n+72)%360,s:e.s,l:e.l}),A({h:(n+216)%360,s:e.s,l:e.l})]}var E=/^\s+/,I=/\s+$/,N=0,q=t.round,D=t.min,L=t.max,B=t.random,$={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},K=function(t){var e,n={};for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[t[e]]=e);return n}($),V=function(){var t="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",e="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",n="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";return{CSS_UNIT:new RegExp(t),rgb:new RegExp("rgb"+e),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+e),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+e),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();k.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var e,n,a,r,o,i,s=this.toRgb();return e=s.r/255,n=s.g/255,a=s.b/255,r=e<=.03928?e/12.92:t.pow((e+.055)/1.055,2.4),o=n<=.03928?n/12.92:t.pow((n+.055)/1.055,2.4),i=a<=.03928?a/12.92:t.pow((a+.055)/1.055,2.4),.2126*r+.7152*o+.0722*i},setAlpha:function(t){return this._a=i(t),this._roundA=q(100*this._a)/100,this},toHsv:function(){var t=m(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=m(this._r,this._g,this._b),e=q(360*t.h),n=q(100*t.s),a=q(100*t.v);return 1===this._a?"hsv("+e+", "+n+"%, "+a+"%)":"hsva("+e+", "+n+"%, "+a+"%, "+this._roundA+")"},toHsl:function(){var t=g(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=g(this._r,this._g,this._b),e=q(360*t.h),n=q(100*t.s),a=q(100*t.l);return 1===this._a?"hsl("+e+", "+n+"%, "+a+"%)":"hsla("+e+", "+n+"%, "+a+"%, "+this._roundA+")"},toHex:function(t){return w(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return y(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:q(this._r),g:q(this._g),b:q(this._b),a:this._a}},toRgbString:function(){return 1===this._a?"rgb("+q(this._r)+", "+q(this._g)+", "+q(this._b)+")":"rgba("+q(this._r)+", "+q(this._g)+", "+q(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:q(100*c(this._r,255))+"%",g:q(100*c(this._g,255))+"%",b:q(100*c(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1===this._a?"rgb("+q(100*c(this._r,255))+"%, "+q(100*c(this._g,255))+"%, "+q(100*c(this._b,255))+"%)":"rgba("+q(100*c(this._r,255))+"%, "+q(100*c(this._g,255))+"%, "+q(100*c(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(K[w(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e,n="#"+_(this._r,this._g,this._b,this._a),a=n,r=this._gradientType?"GradientType = 1, ":"";return t&&(a="#"+_((e=A(t))._r,e._g,e._b,e._a)),"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+n+",endColorstr="+a+")"},toString:function(t){var e,n,a=!!t;return t=t||this._format,e=!1,n=this._a<1&&this._a>=0,a||!n||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(e=this.toRgbString()),"prgb"===t&&(e=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(e=this.toHexString()),"hex3"===t&&(e=this.toHexString(!0)),"hex4"===t&&(e=this.toHex8String(!0)),"hex8"===t&&(e=this.toHex8String()),"name"===t&&(e=this.toName()),"hsl"===t&&(e=this.toHslString()),"hsv"===t&&(e=this.toHsvString()),e||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return A(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(R,arguments)},brighten:function(){return this._applyModification(F,arguments)},darken:function(){return this._applyModification(H,arguments)},desaturate:function(){return this._applyModification(S,arguments)},saturate:function(){return this._applyModification(C,arguments)},greyscale:function(){return this._applyModification(P,arguments)},spin:function(){return this._applyModification(T,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},complement:function(){return this._applyCombination(M,arguments)},splitcomplement:function(){return this._applyCombination(j,arguments)},triad:function(){return this._applyCombination(O,arguments)},tetrad:function(){return this._applyCombination(z,arguments)}},k.fromRatio=function(t,e){var n,a;if("object"==typeof t){n={};for(a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]="a"===a?t[a]:d(t[a]));t=n}return A(t,e)},k.equals=function(t,e){return!(!t||!e)&&A(t).toRgbString()===A(e).toRgbString()},k.random=function(){return k.fromRatio({r:B(),g:B(),b:B()})},k.mix=function(t,e,n){var a,r,o,i;return n=0===n?0:n||50,a=A(t).toRgb(),r=A(e).toRgb(),o=n/100,i={r:(r.r-a.r)*o+a.r,g:(r.g-a.g)*o+a.g,b:(r.b-a.b)*o+a.b,a:(r.a-a.a)*o+a.a},A(i)},k.readability=function(e,n){var a=A(e),r=A(n);return(t.max(a.getLuminance(),r.getLuminance())+.05)/(t.min(a.getLuminance(),r.getLuminance())+.05)},k.isReadable=function(t,e,n){var a,r,i=k.readability(t,e);switch(r=!1,(a=o(n)).level+a.size){case"AAsmall":case"AAAlarge":r=i>=4.5;break;case"AAlarge":r=i>=3;break;case"AAAsmall":r=i>=7}return r},k.mostReadable=function(t,e,n){var a,r,o,i,s,l=null,c=0;for(r=(n=n||{}).includeFallbackColors,o=n.level,i=n.size,s=0;s<e.length;s+=1)(a=k.readability(t,e[s]))>c&&(c=a,l=A(e[s]));return k.isReadable(t,l,{level:o,size:i})||!r?l:(n.includeFallbackColors=!1,k.mostReadable(t,["#fff","#000"],n))},k.names=$,k.hexNames=K,void 0!==window.module&&window.module.exports?window.module.exports=k:"function"==typeof window.define&&window.define.amd?window.define(function(){return k}):window.tinycolor=k}(Math),function(t){"use strict";"function"==typeof window.define&&window.define.amd?window.define(["jquery"],t):"object"==typeof exports&&"object"==typeof module?window.module.exports=t(window.require("jquery")):t(window.jQuery)}(function(t){"use strict";function e(t,e,n,a){var r,o,i,s,l,c,f=[];for(r=0;r<t.length;r++)(o=t[r])?(s=(i=d(o)).toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light",s+=d.equals(e,o)?" sp-thumb-active":"",l=i.toString(a.preferredFormat||"rgb"),c=b?"background-color:"+i.toRgbString():"filter:"+i.toFilter(),f.push('<span title="'+l+'" data-color="'+i.toRgbString()+'" class="'+s+'"><span class="sp-thumb-inner" style="'+c+';" /></span>')):f.push('<span class="sp-thumb-el sp-clear-display" ><span class="sp-clear-palette-only" style="background-color: transparent;" /></span>');return"<div class='sp-cf "+n+"'>"+f.join("")+"</div>"}function n(){var t;for(t=0;t<p.length;t++)p[t]&&p[t].hide()}function a(e,n){var a;return e.locale=e.locale||window.navigator.language,e.locale&&(e.locale=e.locale.split("-")[0].toLowerCase()),"en"!==e.locale&&t.spectrum.localization[e.locale]&&(e=t.extend({},t.spectrum.localization[e.locale],e)),a=t.extend({},h,e),a.callbacks={move:l(a.move,n),change:l(a.change,n),show:l(a.show,n),hide:l(a.hide,n),beforeShow:l(a.beforeShow,n)},a}function r(r,i){function l(){var e,n,a;if(B.showPaletteOnly&&(B.showPalette=!0),jt.text(B.showPaletteOnly?B.togglePaletteMoreText:B.togglePaletteLessText),B.palette){for(ct=B.palette.slice(0),ft=t.isArray(ct[0])?ct:[ct],ut={},e=0;e<ft.length;e++)for(n=0;n<ft[e].length;n++)a=d(ft[e][n]).toRgbString(),ut[a]=!0;B.showPaletteOnly&&!B.color&&(Lt=""===ct[0][0]?ct[0][0]:Object.keys(ut)[0])}yt.toggleClass("sp-flat",K),yt.toggleClass("sp-input-disabled",!B.showInput),yt.toggleClass("sp-alpha-enabled",B.showAlpha),yt.toggleClass("sp-clear-enabled",Ut),yt.toggleClass("sp-buttons-disabled",!B.showButtons),yt.toggleClass("sp-palette-buttons-disabled",!B.togglePaletteOnly),yt.toggleClass("sp-palette-disabled",!B.showPalette),yt.toggleClass("sp-palette-only",B.showPaletteOnly),yt.toggleClass("sp-initial-disabled",!B.showInitial),yt.addClass(B.className).addClass(B.containerClassName),N()}function u(){var e,n;if(U){try{(n=(e=window.localStorage)[U].split(",#")).length>1&&(delete e[U],t.each(n,function(t,e){h(e)}))}catch(t){window.console.log(t)}try{dt=window.localStorage[U].split(";")}catch(t){window.console.log(t)}}}function h(e){var n;if(V){if(n=d(e).toRgbString(),!ut[n]&&-1===t.inArray(n,dt))for(dt.push(n);dt.length>ht;)dt.shift();if(U)try{window.localStorage[U]=dt.join(";")}catch(t){window.console.log(t)}}}function w(){var t,e,n=[];if(B.showPalette)for(t=0;t<dt.length;t++)e=d(dt[t]).toRgbString(),ut[e]||n.push(dt[t]);return n.reverse().slice(0,B.maxSelectionSize)}function y(){var n=M(),a=t.map(ft,function(t,a){return e(t,n,"sp-palette-row sp-palette-row-"+a,B)});u(),dt&&a.push(e(w(),n,"sp-palette-row sp-palette-row-selection",B)),Ht.html(a.join(""))}function _(){var t,n;B.showInitial&&(t=Bt,n=M(),Tt.html(e([t,n],n,"sp-palette-row-initial",B)))}function x(){(Z<=0||J<=0||et<=0)&&N(),Q=!0,yt.addClass(pt),bt=null,vt.trigger("dragstart.spectrum",[M()])}function k(){Q=!1,yt.removeClass(pt),vt.trigger("dragstop.spectrum",[M()])}function A(t){var e;gt?gt=!1:null!==t&&""!==t||!Ut?(e=d(t)).isValid()?(T(e),z(),I()):Ft.addClass("sp-validation-error"):(T(null),z(),I())}function S(){G?F():C()}function C(){var e=t.Event("beforeShow.spectrum");G?N():(vt.trigger(e,[M()]),!1===X.beforeShow(M())||e.isDefaultPrevented()||(n(),G=!0,t(mt).on("keydown.spectrum",P),t(mt).on("click.spectrum",R),t(window).on("resize.spectrum",Y),Nt.addClass("sp-active"),yt.removeClass("sp-hidden"),N(),j(),Bt=M(),_(),X.show(Bt),vt.trigger("show.spectrum",[Bt])))}function P(t){27===t.keyCode&&F()}function R(t){2!==t.button&&(Q||(Kt?I(!0):H(),F()))}function F(){G&&!K&&(G=!1,t(mt).off("keydown.spectrum",P),t(mt).off("click.spectrum",R),t(window).off("resize.spectrum",Y),Nt.removeClass("sp-active"),yt.addClass("sp-hidden"),X.hide(M()),vt.trigger("hide.spectrum",[M()]))}function H(){T(Bt,!0),I(!0)}function T(t,e){var n,a;d.equals(t,M())?j():(t&&void 0!==t||!Ut?(Vt=!1,a=(n=d(t)).toHsv(),ot=a.h%360/360,it=a.s,st=a.v,lt=a.a):Vt=!0,j(),n&&n.isValid()&&!e&&($t=B.preferredFormat||n.getFormat()))}function M(t){return t=t||{},Ut&&Vt?null:d.fromRatio({h:ot,s:it,v:st,a:Math.round(1e3*lt)/1e3},{format:t.format||$t})}function O(){return!Ft.hasClass("sp-validation-error")}function z(){j(),X.move(M()),vt.trigger("move.spectrum",[M()])}function j(){var t,e,n,a,r,o,i,s,l,c,f;Ft.removeClass("sp-validation-error"),E(),t=d.fromRatio({h:ot,s:1,v:1}),xt.css("background-color",t.toHexString()),e=$t,lt<1&&(0!==lt||"name"!==e)&&("hex"!==e&&"hex3"!==e&&"hex6"!==e&&"name"!==e||(e="rgb")),n=M({format:e}),a="",Dt.removeClass("sp-clear-display"),Dt.css("background-color","transparent"),!n&&Ut?Dt.addClass("sp-clear-display"):(r=n.toHexString(),o=n.toRgbString(),b||1===n.alpha?Dt.css("background-color",o):(Dt.css("background-color","transparent"),Dt.css("filter",n.toFilter())),B.showAlpha&&((i=n.toRgb()).a=0,l="linear-gradient(left, "+(s=d(i).toRgbString())+", "+r+")",g?Ct.css("filter",d(s).toFilter({gradientType:1},r)):(Ct.css("background","-webkit-"+l),Ct.css("background","-moz-"+l),Ct.css("background","-ms-"+l),Ct.css("background","linear-gradient(to right, "+s+", "+r+")"))),a=n.toString(e)),B.showInput&&Ft.val(a),vt.val(a),"text"!==B.type&&"component"!==B.type||((c=n)&&Xt?(f=c.isLight()||c.getAlpha()<.4?"black":"white",Xt.css("background-color",c.toRgbString()).css("color",f)):Xt.css("background-color",Gt).css("color",Yt)),B.showPalette&&y(),_()}function E(){var t,e,n,a,r=it,o=st;Ut&&Vt?(Rt.hide(),St.hide(),kt.hide()):(Rt.show(),St.show(),kt.show(),t=r*J,e=Z-o*Z,t=Math.max(-tt,Math.min(J-tt,t-tt)),e=Math.max(-tt,Math.min(Z-tt,e-tt)),kt.css({top:e+"px",left:t+"px"}),n=lt*nt,Rt.css({left:n-at/2+"px"}),a=ot*et,St.css({top:a-rt+"px"}))}function I(t){var e=M(),n=!d.equals(e,Bt);e&&h(e),t&&n&&(X.change(e),gt=!0,vt.trigger("change",[e]))}function N(){G&&(J=xt.width(),Z=xt.height(),tt=kt.height(),et=At.height(),rt=St.height(),nt=Pt.width(),at=Rt.width(),K||(yt.css("position","absolute"),B.offset?yt.offset(B.offset):yt.offset(o(yt,qt))),E(),B.showPalette&&y(),vt.trigger("reflow.spectrum"))}function q(){F(),wt=!0,vt.attr("disabled",!0),qt.addClass("sp-disabled")}var D,L,B=a(i,r),$=B.type,K="flat"===$,V=B.showSelectionPalette,U=B.localStorageKey,W=B.theme,X=B.callbacks,Y=f(N,10),G=!1,Q=!1,J=0,Z=0,tt=0,et=0,nt=0,at=0,rt=0,ot=0,it=0,st=0,lt=1,ct=[],ft=[],ut={},dt=B.selectionPalette.slice(0),ht=B.maxSelectionSize,pt="sp-dragging",gt=!1,bt=null,mt=r.ownerDocument,vt=t(r),wt=!1,yt=t(v,mt).addClass(W),_t=yt.find(".sp-picker-container"),xt=yt.find(".sp-color"),kt=yt.find(".sp-dragger"),At=yt.find(".sp-hue"),St=yt.find(".sp-slider"),Ct=yt.find(".sp-alpha-inner"),Pt=yt.find(".sp-alpha"),Rt=yt.find(".sp-alpha-handle"),Ft=yt.find(".sp-input"),Ht=yt.find(".sp-palette"),Tt=yt.find(".sp-initial"),Mt=yt.find(".sp-cancel"),Ot=yt.find(".sp-clear"),zt=yt.find(".sp-choose"),jt=yt.find(".sp-palette-toggle"),Et=vt.is("input"),It=Et&&"color"===$,Nt=It?t(m).addClass(W).addClass(B.className).addClass(B.replacerClassName):t([]),qt=It?Nt:vt,Dt=Nt.find(".sp-preview-inner"),Lt=B.color||Et&&vt.val(),Bt=!1,$t=B.preferredFormat,Kt=!B.showButtons||B.clickoutFiresChange,Vt=!Lt,Ut=B.allowEmpty,Wt=null,Xt=null,Yt=null,Gt=null,Qt=vt.attr("id");return void 0!==Qt&&Qt.length>0&&(L=t('label[for="'+Qt+'"]')).length&&L.on("click",function(t){return t.preventDefault(),vt.spectrum("show"),!1}),function(){function e(e){return e.data&&e.data.ignore?(T(t(e.target).closest(".sp-thumb-el").data("color")),z()):(T(t(e.target).closest(".sp-thumb-el").data("color")),z(),B.hideAfterPaletteSelect?(I(!0),F()):I()),!1}var n,a,r;g&&yt.find("*:not(input)").attr("unselectable","on"),l(),Wt=t('<span class="sp-original-input-container"></span>'),["margin"].forEach(function(t){Wt.css(t,vt.css(t))}),"block"===vt.css("display")&&Wt.css("display","flex"),It?vt.after(Nt).hide():"text"===$?(Wt.addClass("sp-colorize-container"),vt.addClass("spectrum sp-colorize").wrap(Wt)):"component"===$&&(vt.addClass("spectrum").wrap(Wt),(n=t(["<div class='sp-colorize-container sp-add-on'>","<div class='sp-colorize'></div> ","</div>"].join(""))).width(vt.outerHeight()+"px").css("border-radius",vt.css("border-radius")).css("border",vt.css("border")),vt.addClass("with-add-on").before(n)),Xt=vt.parent().find(".sp-colorize"),Yt=Xt.css("color"),Gt=Xt.css("background-color"),Ut||Ot.hide(),K?vt.after(yt).hide():(1!==(a="parent"===B.appendTo?vt.parent():t(B.appendTo)).length&&(a=t("body")),a.append(yt)),u(),qt.on("click.spectrum touchstart.spectrum",function(e){wt||S(),e.stopPropagation(),t(e.target).is("input")||e.preventDefault()}),(vt.is(":disabled")||!0===B.disabled)&&q(),yt.click(s),[Ft,vt].forEach(function(e){e.change(function(){A(e.val())}),e.on("paste",function(){setTimeout(function(){A(e.val())},1)}),e.keydown(function(n){13===n.keyCode&&(A(t(e).val()),e==vt&&F())})}),Mt.text(B.cancelText),Mt.on("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),H(),F()}),Ot.attr("title",B.clearText),Ot.on("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),Vt=!0,z(),K&&I(!0)}),zt.text(B.chooseText),zt.on("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),g&&Ft.is(":focus")&&Ft.trigger("change"),O()&&(I(!0),F())}),jt.text(B.showPaletteOnly?B.togglePaletteMoreText:B.togglePaletteLessText),jt.on("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),B.showPaletteOnly=!B.showPaletteOnly,B.showPaletteOnly||K||yt.css("left","-="+(_t.outerWidth(!0)+5)),l()}),c(Pt,function(t,e,n){lt=t/nt,Vt=!1,n.shiftKey&&(lt=Math.round(10*lt)/10),z()},x,k),c(At,function(t,e){ot=parseFloat(e/et),Vt=!1,B.showAlpha||(lt=1),z()},x,k),c(xt,function(t,e,n){var a,r,o,i,s;n.shiftKey?bt||(a=it*J,r=Z-st*Z,o=Math.abs(t-a)>Math.abs(e-r),bt=o?"x":"y"):bt=null,i=!bt||"x"===bt,s=!bt||"y"===bt,i&&(it=parseFloat(t/J)),s&&(st=parseFloat((Z-e)/Z)),Vt=!1,B.showAlpha||(lt=1),z()},x,k),!1!==Lt&&""!==Lt?(T(Lt),j(),$t=d(Lt).format||B.preferredFormat,h(Lt)):""===Lt?(T(Lt),j()):j(),K&&C(),r=g?"mousedown.spectrum":"click.spectrum touchstart.spectrum",Ht.on(r,".sp-thumb-el",e),Tt.on(r,".sp-thumb-el:nth-child(1)",{ignore:!0},e)}(),D={show:C,hide:F,toggle:S,reflow:N,option:function(e,n){return void 0===e?t.extend({},B):void 0===n?B[e]:(B[e]=n,"preferredFormat"===e&&($t=B.preferredFormat),void l())},enable:function(){wt=!1,vt.attr("disabled",!1),qt.removeClass("sp-disabled")},disable:q,offset:function(t){B.offset=t,N()},set:function(t){T(t),I()},get:M,destroy:function(){var t;vt.show().removeClass("spectrum with-add-on sp-colorize"),qt.off("click.spectrum touchstart.spectrum"),yt.remove(),Nt.remove(),Xt&&Xt.css("background-color",Gt).css("color",Yt),(t=vt.closest(".sp-original-input-container")).length>0&&t.after(vt).remove(),p[D.id]=null},container:yt},D.id=p.push(D)-1,D}function o(e,n){var a=e.outerWidth(),r=e.outerHeight(),o=n.outerHeight(),i=e[0].ownerDocument,s=i.documentElement,l=s.clientWidth+t(i).scrollLeft(),c=s.clientHeight+t(i).scrollTop(),f=n.offset(),u=f.left,d=f.top;return d+=o,u-=Math.min(u,u+a>l&&l>a?Math.abs(u+a-l):0),d-=Math.min(d,d+r>c&&c>r?Math.abs(r+o-0):0),{top:d,bottom:f.bottom,left:u,right:f.right,width:f.width,height:f.height}}function i(){}function s(t){t.stopPropagation()}function l(t,e){var n=Array.prototype.slice,a=n.call(arguments,2);return function(){return t.apply(e,a.concat(n.call(arguments)))}}function c(e,n,a,r){function o(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.returnValue=!1}function i(t){var a,r,i,p,b;if(c){if(g&&l.documentMode<9&&!t.button)return s();r=(a=t.originalEvent&&t.originalEvent.touches&&t.originalEvent.touches[0])&&a.pageX||t.pageX,i=a&&a.pageY||t.pageY,p=Math.max(0,Math.min(r-f.left,d)),b=Math.max(0,Math.min(i-f.top,u)),h&&o(t),n.apply(e,[p,b,t])}}function s(){c&&(t(l).off(p),t(l.body).removeClass("sp-dragging"),setTimeout(function(){r.apply(e,arguments)},0)),c=!1}var l=document,c=!1,f={},u=0,d=0,h="ontouchstart"in window,p={};n=n||function(){},a=a||function(){},r=r||function(){},p.selectstart=o,p.dragstart=o,p["touchmove mousemove"]=i,p["touchend mouseup"]=s,t(e).on("touchstart mousedown",function(n){(n.which?3===n.which:2===n.button)||c||!1!==a.apply(e,arguments)&&(c=!0,u=t(e).height(),d=t(e).width(),f=t(e).offset(),t(l).on(p),t(l.body).addClass("sp-dragging"),i(n),o(n))})}function f(t,e,n){var a;return function(){var r=this,o=arguments;n&&clearTimeout(a),!n&&a||(a=setTimeout(function(){a=null,t.apply(r,o)},e))}}function u(){return t.fn.spectrum.inputTypeColorSupport()}var d=window.tinycolor,h={beforeShow:i,move:i,change:i,show:i,hide:i,color:!1,flat:!1,type:"color",showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:8,locale:"en",cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",preferredFormat:"hex",className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"epo",palette:[["#000000","#444444","#5b5b5b","#999999","#bcbcbc","#eeeeee","#f3f6f4","#ffffff"],["#f44336","#744700","#ce7e00","#8fce00","#2986cc","#16537e","#6a329f","#c90076"],["#f4cccc","#fce5cd","#fff2cc","#d9ead3","#d0e0e3","#cfe2f3","#d9d2e9","#ead1dc"],["#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#9fc5e8","#b4a7d6","#d5a6bd"],["#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6fa8dc","#8e7cc3","#c27ba0"],["#cc0000","#e69138","#f1c232","#6aa84f","#45818e","#3d85c6","#674ea7","#a64d79"],["#990000","#b45f06","#bf9000","#38761d","#134f5c","#0b5394","#351c75","#741b47"],["#660000","#783f04","#7f6000","#274e13","#0c343d","#073763","#20124d","#4c1130"]],selectionPalette:[],disabled:!1,offset:null},p=[],g=!!/msie/i.exec(window.navigator.userAgent),b=function(){var t=function(t,e){return 1!==(""+t).indexOf(e)},e=document.createElement("div").style;return e.cssText="background-color:rgba(0,0,0,.5)",t(e.backgroundColor,"rgba")||t(e.backgroundColor,"hsla")}(),m=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),v=function(){var t,e="";if(g)for(t=1;t<=6;t++)e+="<div class='sp-"+t+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",e,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<button class='sp-cancel' href='#'></button>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();t.fn.spectrum=function(e){var n,a,o,i;return"string"==typeof e?(n=this,a=Array.prototype.slice.call(arguments,1),this.each(function(){if(o=p[t(this).data("spectrum.id")]){if(!(i=o[e]))throw new Error("Spectrum: no such method: '"+e+"'");"get"===e?n=o.get():"container"===e?n=o.container:"option"===e?n=o.option.apply(o,a):"destroy"===e?(o.destroy(),t(this).removeData("spectrum.id")):i.apply(o,a)}}),n):this.spectrum("destroy").each(function(){var n,a=t.extend({},t(this).data(),e);t(this).is("input")?a.flat||"flat"===a.type?a.type="flat":"color"===t(this).attr("type")&&(a.type="color"):a.type="noInput",n=r(this,a),t(this).data("spectrum.id",n.id)})},t.fn.spectrum.load=!0,t.fn.spectrum.loadOpts={},t.fn.spectrum.draggable=c,t.fn.spectrum.defaults=h,t.fn.spectrum.inputTypeColorSupport=function(){var e;return void 0===u._cachedResult&&(e=t("<input type='color'/>")[0],u._cachedResult="color"===e.type&&""!==e.value),u._cachedResult},t.spectrum={},t.spectrum.localization={},t.spectrum.palettes={},t.fn.spectrum.processNativeColorInputs=function(){var e=t("input[type=color]");e.length&&!u()&&e.spectrum({preferredFormat:"hex6"})},t(function(){t.fn.spectrum.load&&t.fn.spectrum.processNativeColorInputs()})});!function(t,e,a){"use strict";function i(t,e,a,i){var o,r,n,c,l,d,s,p,m;return Number.isFinite(parseFloat(t))||(t=0),t*=1e4,e&&(o=e.attr("data-taxable"),r=e.attr("data-tax-rate"),n=e.attr("data-prices-include-tax"),c=e.attr("data-is-vat-exempt"),l=e.attr("data-non-base-location-prices"),d=e.attr("data-taxes-of-one"),s=e.attr("data-base-taxes-of-one"),p=e.attr("data-modded-taxes-of-one"),void 0!==e.data("current_variation")&&(o=(m=e.data("current_variation")).tc_is_taxable,r=m.tc_tax_rate,l=m.tc_non_base_location_prices,d=m.tc_taxes_of_one,s=m.tc_base_taxes_of_one,p=m.tc_modded_taxes_of_one),a&&a.data("tax-obj")&&("no"===(r=a.data("tax-obj")).has_fee?o=!1:"yes"===r.has_fee&&(o=!0),r=r.tax_rate),o&&("1"!==n||i?t=parseFloat(t)*(1+r/100):"1"===c?t="1"===l?parseFloat(t)-d*t:parseFloat(t)-s*t:"1"===l&&(t=parseFloat(t)-s*t+p*t))),t/=1e4}function o(t,e,a,i){var o,r,n,c,l;return Number.isFinite(parseFloat(t))||(t=0),t*=1e4,e&&(o=e.attr("data-taxable"),r=e.attr("data-tax-rate"),n=e.attr("data-base-taxes-of-one"),c=e.attr("data-prices-include-tax"),void 0!==e.data("current_variation")&&(o=(l=e.data("current_variation")).tc_is_taxable,r=l.tc_tax_rate,n=l.tc_base_taxes_of_one),a&&a.data("tax-obj")&&("no"===(r=a.data("tax-obj")).has_fee?o=!1:"yes"===r.has_fee&&(o=!0),r=r.tax_rate),(o&&"1"===c||i)&&(t=parseFloat(t)-parseFloat(n*t))),t/=1e4}function r(t,e,a){return Number.isFinite(parseFloat(t))||(t=0),e&&(t="incl"===e.attr("data-tax-display-mode")?i(t,e,a):o(t,e,a)),t}function n(t,e){var i;return e||(e={}),i=a.extend({symbol:"",format:"",decimal:$t.localDecimalSeparator,thousand:$t.localThousandSeparator,precision:Xt.currency_format_num_decimals},e),a.epoAPI.math.format(t,i)}function c(t,e,a){return e+n(t,{symbol:Xt.currency_format_symbol,format:Xt.currency_format})+a}function l(t,e,a,i,o){var n,l="",d=Xt.plus_sign+" ";return a||(t=r(t,e,o)),n=Math.abs(t),"minus"===Xt.tm_epo_global_options_price_sign&&(d=""),t<0&&(d=Xt.minus_sign+" "),e&&i&&(l=e.attr("data-tax-string")),void 0===l&&(l=""),c(n,d,l)}function d(t){var e,i,o,r,n=a(t);if(0!==n.length){if(n.is(".cpf-section"))return t.find(".tm-epo-field");if(e=n.attr("data-uniqid"),r=n.closest(".tc-extra-product-options"),i=r.attr("data-epo-id"),!r.is(".reactivate")&&$t.getElementFromFieldCache&&$t.getElementFromFieldCache[i]&&$t.getElementFromFieldCache[i][e])return $t.getElementFromFieldCache[i][e];if((o=n.attr("class").split(" ").map(function(t){return-1!==t.indexOf("cpf-type-",0)?t:null}).filter(function(t){return null!==t&&void 0!==t?t:null})).length>0)switch("cpf-type-product"===(o=o[0])&&(o=n.is(".cpf-type-product-mode-product")?"cpf-type-checkbox":n.is(".cpf-type-product-dropdown")?"cpf-type-select":"cpf-type-radio"),o){case"cpf-type-radio":return $t.getElementFromFieldCache[i]=[],$t.getElementFromFieldCache[i][e]=n.find(".tm-epo-field.tmcp-radio"),$t.getElementFromFieldCache[i][e];case"cpf-type-checkbox":return $t.getElementFromFieldCache[i]=[],$t.getElementFromFieldCache[i][e]=n.find(".tm-epo-field.tmcp-checkbox"),$t.getElementFromFieldCache[i][e];case"cpf-type-select":return $t.getElementFromFieldCache[i]=[],$t.getElementFromFieldCache[i][e]=n.find(".tm-epo-field.tmcp-select"),$t.getElementFromFieldCache[i][e];case"cpf-type-textarea":return $t.getElementFromFieldCache[i]=[],$t.getElementFromFieldCache[i][e]=n.find(".tm-epo-field.tmcp-textarea"),$t.getElementFromFieldCache[i][e];case"cpf-type-textfield":return $t.getElementFromFieldCache[i]=[],$t.getElementFromFieldCache[i][e]=n.find(".tm-epo-field.tmcp-textfield"),$t.getElementFromFieldCache[i][e];case"cpf-type-color":return $t.getElementFromFieldCache[i]=[],$t.getElementFromFieldCache[i][e]=n.find(".tm-epo-field.tm-color-picker"),$t.getElementFromFieldCache[i][e];case"cpf-type-range":return $t.getElementFromFieldCache[i]=[],$t.getElementFromFieldCache[i][e]=n.find(".tm-epo-field.tmcp-range"),$t.getElementFromFieldCache[i][e];case"cpf-type-date":return $t.getElementFromFieldCache[i]=[],$t.getElementFromFieldCache[i][e]=n.find(".tm-epo-field.tmcp-date"),$t.getElementFromFieldCache[i][e];case"cpf-type-variations":return $t.getElementFromFieldCache[i]=[],$t.getElementFromFieldCache[i][e]=n.closest(".cpf-section").find(".tm-epo-field.tm-epo-variation-element"),$t.getElementFromFieldCache[i][e]}}}function s(t){var e="input[name^='variation_id']";return t.find("input.variation_id").length>0&&(e="input.variation_id"),e}function p(t,e){var a=s(t),i=t.find(a);return e&&(i=i.not(e)),i}function m(t){return t.find(s(t)).val()||0}function _(t){return t.find($t.qtySelector).last()}function f(t){return parseFloat(_(t).val())}function u(t,e,a){ee[ee.length]={name:t,selector:e,func:a}}function g(t,e){var i,o;return(t=a(t)).is(".cpf_hide_element")?(i=t,t=t.find(".tmcp-field, .tmcp-fee-field")):i=t.closest(".cpf_hide_element"),!1!==i.data("isactive")&&!1!==i.closest(".cpf-section").data("isactive")?(o=t.first(),t.prop("disabled",!1),"yes"!==Xt.tm_epo_show_only_active_quantities?o.is(":radio, .cpf-type-radio")||o.is(":checkbox, .cpf-type-checkbox")?(t.filter(":checked").closest(".tmcp-field-wrap").find(".tm-qty").prop("disabled",!1),t.not(":checked").closest(".tmcp-field-wrap").find(".tm-qty").prop("disabled",!0)):(o.is("select, .cpf-type-select"),o.val()?i.find(".tm-qty").prop("disabled",!1):i.find(".tm-qty").prop("disabled",!0)):e||i.find(".tm-quantity").trigger("showhide.cpfcustom"),o.is(".cpf_hide_element")||(t.removeClass("tcdisabled").addClass("tcenabled"),t.is(".tmcp-upload")&&t.next(".tmcp-upload-hidden").length&&t.next(".tmcp-upload-hidden").removeClass("tcdisabled").addClass("tcenabled").prop("disabled",!1)),i.removeClass("tc-container-disabled").addClass("tc-container-enabled"),t.trigger({type:"tm-field-is-active",field:t,value:!0}),!0):(t.is(".cpf_hide_element")||(t.prop("disabled",!0).removeClass("tcenabled").addClass("tcdisabled"),i.find(".tm-qty").prop("disabled",!0),t.is(".tmcp-upload")&&t.next(".tmcp-upload-hidden").length&&t.next(".tmcp-upload-hidden").removeClass("tcenabled").addClass("tcdisabled").prop("disabled",!0)),i.removeClass("tc-container-enabled").addClass("tc-container-disabled"),t.trigger({type:"tm-field-is-active",field:t,value:!1}),!1)}function h(t,e,i){var o,r,n=a(t),c=n.attr("data-epo_id"),l=n.attr("data-product_id"),d=a(".variations_form[data-epo_id='"+c+"'][data-product_id='"+l+"']"),s="input[name^='variation_id']";if(0===(d=a.epoAPI.applyFilter("tm_variation_check_match_variationsForm",d,c,l,n)).length)return!1;switch(0===(r=d.find(s)).length&&(s="input.variation_id",0===(r=d.find(s)).length&&(r=d.closest(".tc-epo-element-product-li-container").find(".product-variation-id"))),null!==t&&null!==e&&void 0!==t&&void 0!==e&&!1!==t&&!1!==e&&(e=e?parseInt(e,10):-1),o=parseInt(r.val(),10),Number.isFinite(o)||(o=""),Number.isFinite(e)||(e=""),i){case"is":return""!==o&&o===e;case"isnot":return""!==o&&o!==e;case"isempty":return""===o||0===o;case"isnotempty":return""!==o&&0!==o;case"startswith":return o.toString().startsWith(e);case"endswith":return o.toString().endsWith(e);case"greaterthan":return parseFloat(o)>parseFloat(e);case"lessthan":return parseFloat(o)<parseFloat(e);case"greaterthanequal":return parseFloat(o)>=parseFloat(e);case"lessthanequal":return parseFloat(o)<=parseFloat(e)}return!1}function v(t,e,i){if(null===t||null===e)return!1;switch(t=encodeURIComponent(t),e=a.qtranxj_split?encodeURIComponent(a.qtranxj_split(decodeURIComponent(e))[Vt.language]):encodeURIComponent(decodeURIComponent(e)),t=t?t.toLowerCase():"",e=e?e.toLowerCase():"",t=t.toString(),e=e.toString(),i){case"is":return null!==t&&t===e;case"isnot":return null!==t&&t!==e;case"isempty":return!("undefined"!==t&&void 0!==t&&""!==t);case"isnotempty":return"undefined"!==t&&void 0!==t&&""!==t;case"startswith":return t.startsWith(e);case"endswith":return t.endsWith(e);case"greaterthan":return parseFloat(t)>parseFloat(e);case"lessthan":return parseFloat(t)<parseFloat(e);case"greaterthanequal":return parseFloat(t)>=parseFloat(e);case"lessthanequal":return parseFloat(t)<=parseFloat(e)}return!1}function y(t,e){var i,o,r,n=!0,c=t.find(".cpf_hide_element"),l=!1;if(t.is(".tc-hidden")){if("isnotempty"===e)return!1;if("isempty"===e)return!0}return a(c).each(function(t,c){var d;if(c=a(c),g(c))if((d=c.attr("class").split(" ").map(function(t){return-1!==t.indexOf("cpf-type-",0)?t:null}).filter(function(t){return null!==t&&void 0!==t?t:null})).length>0){switch("cpf-type-product"===(d=d[0])&&(l=!0,d=c.is(".cpf-type-product-mode-product")?"cpf-type-checkbox":c.is(".cpf-type-product-dropdown")?"cpf-type-select":"cpf-type-radio"),d){case"cpf-type-radio":o=c.find("input.tm-epo-field.tmcp-radio:checked"),"isnotempty"===e?(n=n&&o.length>0,o.length>0&&(i=o.length)):"isempty"===e&&(n=n&&0===o.length);break;case"cpf-type-checkbox":r=c.find("input.tm-epo-field.tmcp-checkbox:checked"),"isnotempty"===e?(n=n&&r.length>0,r.length>0&&(i=r.length)):"isempty"===e&&(n=n&&0===r.length);break;case"cpf-type-select":(i=c.find("select.tm-epo-field.tmcp-select").val())&&!l&&(i=i.slice(0,i.lastIndexOf("_")));break;case"cpf-type-textarea":i=c.find("textarea.tm-epo-field.tmcp-textarea").val();break;case"cpf-type-textfield":i=c.find("input.tm-epo-field.tmcp-textfield").val();break;case"cpf-type-color":i=c.find("input.tm-epo-field.tm-color-picker").val();break;case"cpf-type-range":i=c.find("input.tm-epo-field.tmcp-range").val()}n=n&&v(i,"",e)}else n=n&&!1}),n}function b(t){var e,i,o,r,n,c=a(t.element),l=t.operator,d=t.value,s=!1;if(!c.length)return!1;if(c.is(".cpf-section"))return y(c,l);if((n=c.attr("class").split(" ").map(function(t){return-1!==t.indexOf("cpf-type-",0)?t:null}).filter(function(t){return null!==t&&void 0!==t?t:null})).length>0){switch("cpf-type-product"===(n=n[0])&&(s=!0,n=c.is(".cpf-type-product-mode-product")?"cpf-type-checkbox":c.is(".cpf-type-product-dropdown")?"cpf-type-select":"cpf-type-radio"),n){case"cpf-type-radio":if(i=c.find("input.tm-epo-field.tmcp-radio:checked"),"is"===l||"isnot"===l){if(0===i.length)return!1;(e=c.find("input.tm-epo-field.tmcp-radio:checked").val())&&!s&&(e=e.slice(0,e.lastIndexOf("_")))}if("isnotempty"===l)return i.length>0;if("isempty"===l)return 0===i.length;break;case"cpf-type-checkbox":if(o=c.find("input.tm-epo-field.tmcp-checkbox:checked"),"is"===l||"isnot"===l)return 0!==o.length&&(r=!1,o.each(function(t,i){if((e=a(i).val())&&!s&&(e=e.slice(0,e.lastIndexOf("_"))),v(e,d,l))r=!0;else if("isnot"===l)return r=!1,!1}),r);if("isnotempty"===l)return o.length>0;if("isempty"===l)return 0===o.length;break;case"cpf-type-select":(e=c.find("select.tm-epo-field.tmcp-select").val())&&!s&&(e=e.slice(0,e.lastIndexOf("_")));break;case"cpf-type-textarea":e=c.find("textarea.tm-epo-field.tmcp-textarea").val();break;case"cpf-type-textfield":e=c.find("input.tm-epo-field.tmcp-textfield").val();break;case"cpf-type-color":e=c.find("input.tm-epo-field.tm-color-picker").val();break;case"cpf-type-range":e=c.find("input.tm-epo-field.tmcp-range").val();break;case"cpf-type-variations":return h(c,d,l)}return v(e,d,l)}return!1}function w(t,e){t.each(function(){var t=a(this),i=parseInt(t.data("matches"),10),o=t.data("toggle"),r=t.data("what"),n=t.data("fields"),c=0,l=!1;switch(o){case"show":l=!1;break;case"hide":l=!0}a.each(n,function(t,i){var o=!0;"cpflogic"===e&&(o=g(a(i.element))),o&&b(i)&&(c=parseInt(c,10)+1)}),"all"===r?i===c&&(l=!l):c>0&&(l=!l),l?("cpflogic"!==e||t.data("did_initial_activation")||(t.find(".tm-epo-field").each(function(e,i){(i=a(i)).data("initial_activation")||t.closest(".cpf-section").is(".tc-hidden")||!g(i)||(i.trigger("tc_element_epo_rules"),i.data("initial_activation",1))}),t.data("did_initial_activation",1)),t.removeClass("tc-hidden")):t.addClass("tc-hidden"),t.data("isactive",l)})}function x(t){var e,i=[];a(t).length||(t="body"),(e=(t=a(t)).find(".iscpfdependson")).each(function(t,e){a(e).each(function(t,e){w(a(e))})}),e.each(function(t,e){a(e).each(function(t,e){w(a(e),"cpflogic")})}),e.each(function(t,e){a(e).each(function(t,e){(e=a(e)).is(".cpf-section")&&(e=e.find(".cpf_hide_element")),e.each(function(t,e){g(a(e).find(".tm-epo-field"))})})}),a().selectric&&a(".tm-extra-product-options select").selectric("refresh"),setTimeout(function(){a(".tm-owl-slider").each(function(){a(this).trigger("refresh.owl.carousel")})},200),t.find(".tm-product-image:checked,select.tm-product-image").each(function(){var t=a(this);g(t)&&""!==t.val()&&i.push(t)}),i.length&&i[i.length-1].trigger("tm_trigger_product_image"),re.trigger("cpflogicrun"),re.trigger("tmlazy"),re.trigger("cpflogicdone")}function k(t){return"object"==typeof t&&"toggle"in t&&"what"in t&&"rules"in t&&t.rules.length>0}function F(t){var e,i,o,r,n,c,l,d,s,p,m,_,f=a(t),u=f.find(".cpf-section");e=!f.is(".cpf-section")&&u,f.each(function(t,u){(i=a(u).is(".cpf-section")?a(u):a(u).find(".cpf-section")).each(function(t,i){o=a(i),r=o.data("logic"),n=parseInt(o.data("haslogic"),10),c=[],1===n&&k(r)&&(a.each(r.rules,function(t,a){a&&(l=a.section,d=a.element,s=a.operator,p=a.value,e?(m=e.filter("[data-uniqid='"+l+"']"),_=d!==l?m.find(".cpf_hide_element").eq(d):m):_=d!==l?f.find(".cpf_hide_element").eq(d):m,c.push({element:_,operator:s,value:p}))}),o.data("iscpfdependson")?o.cpfdependson(o.data("cpfdependson-fields"),r.toggle,r.what,!0):(o.data("cpfdependson-fields",c),o.cpfdependson(c,r.toggle,r.what)))})})}function C(t){var e,i,o,r,n,c,l,d,s,p,m=a(t),_=m.find(".cpf-section");e=!m.is(".cpf-section")&&_,m.find(".cpf_hide_element").each(function(t,_){var f=[];i=a(_),o=i.data("logic"),1===(r=parseInt(i.data("haslogic"),10))&&k(o)&&(a.each(o.rules,function(t,a){a&&(n=a.section,c=a.element,l=a.operator,d=a.value,e?(s=e.filter("[data-uniqid='"+n+"']"),p=c!==n?s.find(".cpf_hide_element").eq(c):s):p=c!==n?m.find(".cpf_hide_element").eq(c):s,f.push({element:p,operator:l,value:d}))}),i.data("iscpfdependson")?i.cpfdependson(i.data("cpfdependson-fields"),o.toggle,o.what,!0):(i.data("cpfdependson-fields",f),i.cpfdependson(f,o.toggle,o.what)))})}function I(t,e){var a,i,o,r;return e&&(a=e.attr("data-taxable"),i=e.attr("data-tax-rate"),o=e.attr("data-tax-display-mode"),r=e.attr("data-prices-include-tax"),a&&"incl"===o&&"1"!==r&&(t=parseFloat(t)/(1+i/100))),t}function A(t,e,a,i,o){var n,l="",d="";return a||(t=r(t,e,o)),n=Math.abs(t),e&&i&&(l=e.attr("data-tax-string")),void 0===l&&(l=""),t<0&&(d=Xt.minus_sign+" "),c(n,d,l)}function P(t,e,a,i,o){S(t,e,a,i,o,!0)}function S(t,e,i,o,r,n){var c,l,d,s,p=a(t);0!==p.length&&(s=(c=p.closest(".tmcp-field-wrap")).find(".tm-epo-field"),!n&&"1"===s.attr("data-no-price-change")&&s.data("price-changed")||(e=a.epoAPI.applyFilter("tc_adjust_update_price_price",e),i=a.epoAPI.applyFilter("tc_adjust_update_price_formated_price",i,e),o=a.epoAPI.applyFilter("tc_adjust_update_price_original_price",o),r=a.epoAPI.applyFilter("tc_adjust_update_price_original_formated_price",r,o),Number.isFinite(parseFloat(o))||(o=0),Number.isFinite(parseFloat(e))||(e=0),l=c.find(".before-amount,.after-amount"),d={price:i,original_price:r},"yes"===Xt.tm_epo_auto_hide_price_if_zero&&!1===a.tmempty(e)||"yes"!==Xt.tm_epo_auto_hide_price_if_zero?!0===a.tmempty(e)||!n&&s.length>0&&("1"===s.attr("data-no-price")||"variable"===s.attr("data-type")&&!s.data("price")||s.is(".tmcp-select")&&!s.children("option:selected").data("price"))?(p.empty(),l.addClass("tm-hidden")):(o&&void 0!==o&&parseFloat(o)!==parseFloat(e)?p.html(a.epoAPI.template.html($t.templateEngine.sale_price,{price:d})):p.html(a.epoAPI.template.html($t.templateEngine.price,{price:d})),l.removeClass("tm-hidden")):(p.empty(),l.addClass("tm-hidden"))))}function q(t,e){var i={};return e.thisForm&&(t=e.thisForm),t.find(".variations select, .tc-epo-variable-product-selector").each(function(){var t,e;t=void 0!==a(this).data("attribute_name")?a(this).data("attribute_name"):a(this).attr("name"),e=a(this).val(),i[t]=e}),i}function E(t,e,i){var o=[],r=q(t,i),n=!0;t.find(".cpf-type-variations").each(function(i,n){var c,l,d=a(n).find(".tm-epo-variation-element"),s=!1;o[i]=!0,d.is("select")?(c=a.epoAPI.dom.id(d.attr("data-tm-for-variation")),(l=d.val())&&(o[i]=!1),d.children("option").each(function(e,i){s=!1,t.find("[data-attribute_name='attribute_"+c+"']").children("option").each(function(){if(a(this).attr("value")===a(i).attr("value"))return s=!0,!1}),s?a(i).removeAttr("disabled").show():a(i).attr("disabled","disabled").hide()})):d.each(function(t,n){var d,s,p=a(n),m=p.closest("li"),_=m.find(".tm-epo-variation-element"),f=a.extend(!0,{},r);c=p.attr("data-tm-for-variation"),l=p.val(),p.is(":checked")&&(o[i]=!1),f["attribute_"+c]=l,s=(d=a.fn.tm_find_matching_variations(e,f).shift())&&"is_in_stock"in d&&d.is_in_stock,d&&s?(p.removeAttr("disabled").removeClass("tm-disabled"),m.removeClass("tm-attribute-disabled").fadeTo("fast",1,function(){a(this).css("opacity","")}),_.removeAttr("disabled"),_.removeAttr("data-tm-disabled")):(p.attr("disabled","disabled").addClass("tm-disabled"),_.attr("disabled","disabled"),_.attr("data-tm-disabled","disabled"),m.addClass("tm-attribute-disabled").fadeTo("fast",.5),s||m.find("label").off())})}),o&&(o.shift(),a.each(o,function(t,e){if(!1===e)return n=!1,!1}),n&&t.find(".cpf-type-variations").first().each(function(t,e){var i,o,r;(i=a(e).find(".tm-epo-variation-element")).is("select")||i.each(function(t,e){e=a(e),o=e.closest("li"),r=o.find(".tm-epo-variation-element"),e.removeAttr("disabled").removeClass("tm-disabled"),o.removeClass("tm-attribute-disabled").stop().css("opacity",""),r.removeAttr("disabled"),r.removeAttr("data-tm-disabled")})}))}function j(e,i){var o,r=e.data("product_variations"),n=parseInt(e.data("product_id"),10),c=e.data("globalVariationObject")||!1;n||(n=e.data("tc_product_id")),!n&&e.is($t.compositeSelector)&&(n=(o=e.find(".component_options").data("options_data"))[0].option_id,r||(r=e.find(".details.component_data").data("product_variations"))),i.is_associated||(!r&&t.product_variations&&t.product_variations.product_id&&(r=t.product_variations.product_id),!r&&t.product_variations&&(r=t.product_variations),!r&&t["product_variations_"+n]&&(r=t["product_variations_"+n])),r?E(e,r,i):c?E(e,c.variations,i):(o={action:"woocommerce_tm_get_variations_array",post_id:n},a.post(Xt.ajax_url,o,function(t){c=t,e.data("globalVariationObject",t),E(e,c.variations,i)},"json"))}function O(t,e){var i,o;return void 0!==e&&(t=a(t),i=t.find(".tm-epo-variation-element").first(),o=i.closest(".tm-epo-variation-section"),i.length?(o.find(".tm-stock").remove(),o.append('<div class="tm-stock">'+e+"</div>"),!0):(t.find(".tm-stock").remove(),t.find(".variations").after('<div class="tm-stock">'+e+"</div>"),!0))}function T(t,e){var a;"no"!==Xt.tm_epo_global_move_out_of_stock&&((a=t.find(".woocommerce-variation-availability").last()).length||(a=t.find(".stock").last()),a.length?(e.find(".tm-stock").remove(),O(e,a.prop("outerHTML"))&&a.remove()):e.find(".tm-stock").remove())}function z(t,e,a){var i,o="";return a&&(o=o+"[value='"+a+"']"),e||(e=t),0===(i=e.find($t.addToCartSelector+o)).length&&(i=e.find($t.tcAddToCartSelector+o)),i.last()}function D(t,e,a,i){return a||(a="form"),z(t,e,i).closest(a)}function N(t,e,a,i){return D(t,e,a,i)}function B(t){var e=a.epoAPI.applyFilter("tcGetNativePricesBlockSelector",".single_variation .price",t);return a(t).find(e).not(".tc-price")}function H(){ne.on("click.cpfurl change.cpfurl tmredirect",".use_url_container .tmcp-radio, .use_url_container .tmcp-radio+label",function(e){var i=a(this).attr("data-url");i&&t.location!==i&&(e.preventDefault(),t.location=i)}),ne.on("change.cpfurl tmredirect",".use_url_container .tmcp-select",function(e){var i=a(this).children("option:selected").attr("data-url");i&&t.location!==i&&(e.preventDefault(),t.location=i)})}function L(t,e,i){a.tcFloatingTotalsBox(t,e,i)}function M(t,e,a){var i,o,r;"object"==typeof e?(o=e.has_epo,r=e.this_epo_container,o=o&&(r.find(".tmcp-fee-field").length||r.find(".tmcp-field").not(".cpf-type-variations .tmcp-field").length)):o=e,o&&"yes"===Xt.tm_epo_hide_add_cart_button&&(i=t.find($t.addToCartButtonSelector).first(),a?i.removeClass("tc-hide-add-to-cart-button"):i.addClass("tc-hide-add-to-cart-button"))}function U(e,i){var o,r,n,c,l=a.tcepo.errorObject[i]||e;l&&("yes"!==Xt.tm_epo_disable_error_scroll&&(r=(o=l.closest(".cpf-section")).find(".tm-section-link"),n=l.closest(".cpf_hide_element"),o.find(".tm-toggle").length&&o.find(".tm-toggle").trigger("openwrap.tmtoggle"),t.tc_validation_offset||(t.tc_validation_offset=-100),o.is(".section_popup")?(ce.tcScrollTo(r,300,t.tc_validation_offset),r.trigger("click.tmsectionpoplink")):o.is(".tm-owl-slider-section")?(c=l.closest(".owl-item").index(),o.find(".tcowl-carousel").trigger("to.owl.carousel",[c,100]),setTimeout(function(){o.find(".tcowl-carousel").trigger("refresh.owl.carousel"),n.length>0&&ce.tcScrollTo(n,300,t.tc_validation_offset)},200)):n.length>0&&ce.tcScrollTo(n,300,t.tc_validation_offset)),e||(a.tcepo.errorObject[i]=!1))}function J(t,e){var i,o,r,n=parseInt(t.attr("data-limit"),10),c=!1;return!(n>0&&(c=0,t.closest(".tm-extra-product-options-checkbox").find("input.tm-epo-field[type='checkbox']:checked").each(function(){o=a(this),(r=o.closest("li.tmcp-field-wrap").find("input.tm-qty")).length>0?((i=parseInt(r.val(),10))<=0&&(i=1),c=parseInt(c,10)+i):c=parseInt(c,10)+1}),c>n))||(e&&t.prop("checked","").trigger("change"),!1)}function R(t,e){var i,o,r,n=parseInt(t.attr("data-exactlimit"),10),c=!1;return!(n>0&&(c=0,t.closest(".tm-extra-product-options-checkbox").find("input.tm-epo-field[type='checkbox']:checked").each(function(){o=a(this),(r=o.closest("li.tmcp-field-wrap").find("input.tm-qty")).length>0?((i=parseInt(r.val(),10))<=0&&(i=1),c=parseInt(c,10)+i):c=parseInt(c,10)+1}),c>n))||(e&&t.prop("checked","").trigger("change"),!1)}function Q(t,e,i){var o,r,n,c,l,d,s,p,m,_,f=!0,u=!1;return t.each(function(){_=a(this),(o=_.find("[type='checkbox'][data-limit]")).length&&g(o)&&(r=parseInt(o.attr("data-limit"),10),n=0,_.find("input.tm-epo-field[type='checkbox']:checked").each(function(){c=a(this),(d=c.closest("li.tmcp-field-wrap").find("input.tm-qty")).length>0?((l=parseInt(d.val(),10))<=0&&(l=1),n=parseInt(n,10)+l):n=parseInt(n,10)+1}),s=_.closest(".cpf_hide_element"),p=s.find("div.tm-error-min"),r<n?(f=!1,u=_,m=1===r?Xt.tm_epo_global_validator_messages.epolimitsingle.replace("{0}",r):Xt.tm_epo_global_validator_messages.epolimit.replace("{0}",r),p.length&&p.remove(),"before"===Xt.tm_epo_global_error_label_placement?_.before('<div class="tm-error-min tm-error">'+m+"</div>"):_.after('<div class="tm-error-min tm-error">'+m+"</div>"),e.find($t.addToCartButtonSelector).first().removeClass("disabled loading fpd-disabled").removeAttr("disabled")):p.remove())}),u&&(a.tcepo.errorObject[i]=u),f}function Z(t,e,i){a.tcepo.formSubmitEvents[i][a.tcepo.formSubmitEvents[i].length]={trigger:function(){return Q(t,e,i)},on_true:function(){return!0},on_false:function(){return U(a(t).find(".tm-epo-field").first(),i),!0}}}function W(t,e,i){var o,r,n,c,l,d,s,p,m,_,f=!0,u=!1;return t.each(function(){_=a(this),(o=_.find("[type='checkbox'][data-exactlimit]")).length&&g(o)&&(r=parseInt(o.attr("data-exactlimit"),10),n=0,_.find("input.tm-epo-field[type='checkbox']:checked").each(function(){c=a(this),(d=c.closest("li.tmcp-field-wrap").find("input.tm-qty")).length>0?((l=parseInt(d.val(),10))<=0&&(l=1),n=parseInt(n,10)+l):n=parseInt(n,10)+1}),s=_.closest(".cpf_hide_element"),p=s.find("div.tm-error-min"),r!==n?(f=!1,u=_,m=1===r?Xt.tm_epo_global_validator_messages.epoexactsingle.replace("{0}",r):Xt.tm_epo_global_validator_messages.epoexact.replace("{0}",r),p.length&&p.remove(),"before"===Xt.tm_epo_global_error_label_placement?_.before('<div class="tm-error-min tm-error">'+m+"</div>"):_.after('<div class="tm-error-min tm-error">'+m+"</div>"),e.find($t.addToCartButtonSelector).first().removeClass("disabled loading fpd-disabled").removeAttr("disabled")):p.remove())}),u&&(a.tcepo.errorObject[i]=u),f}function $(t,e,i){a.tcepo.formSubmitEvents[i][a.tcepo.formSubmitEvents[i].length]={trigger:function(){return W(t,e,i)},on_true:function(){return!0},on_false:function(){return U(a(t).find(".tm-epo-field").first(),i),!0}}}function X(t,e){var i,o,r,n,c,l,d,s,p,m=!0,_=!1;return t.each(function(){var t;(t=(p=a(this)).find("[type='checkbox'][data-minimumlimit]")).length&&g(t)&&(i=parseInt(t.attr("data-minimumlimit"),10),o=0,p.find("input.tm-epo-field[type='checkbox']:checked").each(function(){r=a(this),(c=r.closest("li.tmcp-field-wrap").find("input.tm-qty")).length>0?((n=parseInt(c.val(),10))<=0&&(n=1),o=parseInt(o,10)+n):o=parseInt(o,10)+1}),l=p.closest(".cpf_hide_element"),d=l.find("div.tm-error-min"),i>o?(m=!1,_=p,s=1===i?Xt.tm_epo_global_validator_messages.epominsingle.replace("{0}",i):Xt.tm_epo_global_validator_messages.epomin.replace("{0}",i),d.length&&d.remove(),"before"===Xt.tm_epo_global_error_label_placement?p.before('<div class="tm-error-min tm-error">'+s+"</div>"):p.after('<div class="tm-error-min tm-error">'+s+"</div>")):d.remove())}),_&&(a.tcepo.errorObject[e]=_),m}function G(t,e){a.tcepo.formSubmitEvents[e][a.tcepo.formSubmitEvents[e].length]={trigger:function(){return X(t,e)},on_true:function(){return!0},on_false:function(){return U(!1,e),!0}}}function V(t){return null===t?0:("object"==typeof t&&(t=t[0]),Number.isFinite(parseFloat(t))||(t=0),t)}function Y(t,e,i,o){return t=V(t),i&&(t=a.epoAPI.applyFilter("tc_apply_dpd",t,e,i,o)),t}function K(t,e){var i=0;return t.length>0&&(i=t.data("regular-price")),i=a.epoAPI.applyFilter("tc_calculate_product_regular_price",i,t),(!e||!1!==i)&&(i=parseFloat(i),Number.isFinite(i)||(i=0),i)}function tt(t,e){var i=0;return t.length>0&&(i=t.data("price")),i=a.epoAPI.applyFilter("tc_calculate_product_price",i,t),(!e||!1!==i)&&(i=parseFloat(i),Number.isFinite(i)||(i=0),i)}function et(t,e,i,o){var r,n,c,l,d,s,p,m,_,f=t.toString(),u=0,g=0,h=e.closest(".cpf_hide_element"),v=i.this_epo_totals_container.data("tc_totals_ob"),y=h.find(".tmcp-field, .tmcp-fee-field").filter(":checked").index(e),b=h.find(".tmcp-field, .tmcp-fee-field").index(e),w=i.is_associated?i.this_epo_container:i.this_epo_container.not($t.epoSelector+" "+$t.associatedEpoSelector);-1!==y||e.is(".tmcp-checkbox, .tmcp-radio")||(y=0),o||e.data("addedtcEpoBeforeOptionPriceCalculation")||(re.on("tcEpoBeforeOptionPriceCalculation.math",function(){it(i,e,void 0,void 0,void 0,!0)}),re.on("tcEpoAfterOptionPriceCalculation.math",function(){e.data("fetchOptionPrices",!1),e.data("fetchOptionPrices-forced",!1),e.data("fetchOptionPrices-fee",!1),e.data("fetchOptionPrices-fee-forced",!1)}),e.data("addedtcEpoBeforeOptionPriceCalculation",1)),e.is(".tmcp-field")?e.data("fetchOptionPrices")?(m=e.data("fetchOptionPrices"),_=e.data("fetchOptionPrices-forced")):(m=Dt(i,h,".tmcp-field",0,0,[],!0),_=Dt(i,h,".tmcp-field",0,0,[],!0,!0),e.data("fetchOptionPrices",m),e.data("fetchOptionPrices-forced",_)):e.is(".tmcp-fee-field")&&(e.data("fetchOptionPrices-fee")?(m=e.data("fetchOptionPrices-fee"),_=e.data("fetchOptionPrices-fee-forced")):(m=Dt(i,h,".tmcp-fee-field",0,0,[],!0),_=Dt(i,h,".tmcp-fee-field",0,0,[],!0,!0),e.data("fetchOptionPrices-fee",m),e.data("fetchOptionPrices-fee-forced",_))),void 0!==v?(f=f.replace(/{quantity}/g,a.epoAPI.math.unformat(v.qty,$t.localInputDecimalSeparator)),f=f.replace(/{product_price}/g,a.epoAPI.math.unformat(v.product_price,$t.localInputDecimalSeparator))):(f=f.replace(/{quantity}/g,0),f=f.replace(/{product_price}/g,0)),f=void 0!==_.floatingBoxData&&void 0!==_.floatingBoxData[b]?f.replace(/{this.value}/g,a.epoAPI.math.unformat(_.floatingBoxData[b].valueText,$t.localInputDecimalSeparator)).replace(/{this.value.length}/g,_.floatingBoxData[b].valueText.length):f.replace(/{this.value}/g,"").replace(/{this.value.length}/g,0),(f=f.replace(/{this.count}/g,m.floatingBoxData.length).replace(/{this.count.quantity}/g,m.floatingBoxData.map(function(t){return t.quantity}).reduce(function(t,e){return a.epoAPI.math.toFloat(t)+a.epoAPI.math.toFloat(e)},0)).replace(/{this.quantity}/g,e.data("tm-quantity"))).match(/\{(\s)*?field\.([^}]*)}/)&&f.match(/\{(\s)*?field\.([^}]*)}/g).forEach(function(t){if(void 0!==(r=t.match(/\{(\s)*?field\.([^}]*)}/))[2]&&"string"==typeof r[2]&&-1!==(d=r[2].lastIndexOf("."))&&(p=r[2].substr(0,d),s=r[2].substr(d+1),-1!==a.inArray(s,["price","value","quantity","count"]))){if((n=w.find("[data-uniqid='"+a.epoAPI.util.escapeSelector(p)+"']")).length){if(c=n.find(".tmcp-field, .tmcp-fee-field"),o||e.data("addedfieldtcEpoBeforeOptionPriceCalculation")||(re.on("tcEpoBeforeOptionPriceCalculation.math",function(){it(i,e,void 0,void 0,void 0,!0),e.trigger("tm-math-select-change-html-all")}),e.data("addedfieldtcEpoBeforeOptionPriceCalculation",1)),c=c.first(),u=0,n.is(".tc-container-enabled")){switch(c.is(".tmcp-field")?u=Dt(i,n,".tmcp-field",0,0,[],!0):c.is(".tmcp-fee-field")&&(u=Dt(i,n,".tmcp-fee-field",0,0,[],!0)),s){case"price":u=u.total;break;case"value":u.floatingBoxData&&(u=u.floatingBoxData.map(function(t){return a.epoAPI.math.unformat(t.valueText,$t.localInputDecimalSeparator)}).reduce(function(t,e){return a.epoAPI.math.toFloat(t)+a.epoAPI.math.toFloat(e)},0));break;case"quantity":u.floatingBoxData&&(u=u.floatingBoxData.map(function(t){return t.quantity}).reduce(function(t,e){return a.epoAPI.math.toFloat(t)+a.epoAPI.math.toFloat(e)},0));break;case"count":u.floatingBoxData&&(u=u.floatingBoxData.length)}u=a.epoAPI.math.toFloat(u),Number.isFinite(u)||(u=0)}}else u=0;l=new RegExp(r[0]),f=Number.isFinite(u)?f.replace(l,u):f.replace(l,"'"+u+"'")}});try{g=le.eval(f)}catch(t){g=0}return g}function at(t,e){var i,o,r,n,c,l,d,s,p=a(e),m=p;return i=t.main_cart,d="input[name^='variation_id']",i.find("input.variation_id").length>0&&(d="input.variation_id"),(o=i.find(d).val())||(o=0),p.is("select")&&(m=p.find("option:selected")),r=a.epoAPI.util.parseJSON(m.attr("data-rules")),n=a.epoAPI.util.parseJSON(m.attr("data-rulestype")),l="","object"==typeof r?"object"==typeof n?l=o in n?n[o]:"object"==typeof(c=a.epoAPI.util.parseJSON(p.closest(".tmcp-ul-wrap").attr("data-rulestype")))&&o in c?c[o]:n[0]:"object"==typeof(n=a.epoAPI.util.parseJSON(p.closest(".tmcp-ul-wrap").attr("data-ulestype")))&&(l=o in n?n[o]:n[0]):(s=p.closest(".tmcp-ul-wrap"),"object"==typeof(r=a.epoAPI.util.parseJSON(s.attr("data-rules")))&&("object"==typeof n?l=o in n?n[o]:"object"==typeof(c=a.epoAPI.util.parseJSON(s.attr("data-rulestype")))&&o in c?c[o]:n[0]:"object"==typeof(n=a.epoAPI.util.parseJSON(s.attr("data-rulestype")))&&(l=o in n?n[o]:n[0]))),"object"==typeof l&&(l=l[0]),p.is(".tmcp-fee-field")&&-1!==a.inArray(l,["fee","stepfee","currentstepfee"])&&(l=""),l}function it(t,e,i,o,n,c){var d,s,p,m,_,f,u,g,h,v,y,b,w,x,k,F,C,I,A,P,q,E,j,O,T=a(e),z=T,D=T.is(".tmcp-range"),N=t.main_product,B=t.epoEventId,H=t.this_epo_totals_container,L=!0;if(!T.data("associated_price_set")&&(i?(d=i.cart,s=i.current_variation,p=i.bundleid,m=i.epoTotalsContainer,f=i.product_price,u=i.product_original_price,_=i.apply_dpd,L=i.per_product_pricing):(void 0!==(d=t.main_cart).data("per_product_pricing")&&(L=d.data("per_product_pricing")),E="input[name^='variation_id']",d.find("input.variation_id").length>0&&(E="input.variation_id"),s=d.find(E).val(),p=a.epoAPI.applyFilter("tc_get_bundleid",d.attr("data-product_id"),d),s||(s=0),f=tt(m=a.epoAPI.applyFilter("tc_get_totals_container",H,T,N,p)),u=K(m),_=m.data("fields-price-rules")),f=a.epoAPI.applyFilter("tc_alter_product_price",f,T,d,m,p),u=a.epoAPI.applyFilter("tc_alter_product_original_price",u,T,d,m),!1!==f&&L)){switch(T.is("select")&&(z=T.find("option:selected")),o&&(z=o),g=a.epoAPI.util.parseJSON(z.attr("data-rules")),h=a.epoAPI.util.parseJSON(z.attr("data-rulestype")),void 0===(v=a.epoAPI.util.parseJSON(z.attr("data-original-rules")))&&(v=g),x="","object"==typeof g?(s in g?(k=g[s],F=v[s]):(y=a.epoAPI.util.parseJSON(T.closest(".tmcp-ul-wrap").attr("data-rules")),w=T.closest(".tmcp-ul-wrap").data("original-rules"),k="object"==typeof y&&s in y?y[s]:g[0],F="object"==typeof w&&s in w?w[s]:v[0]),"object"==typeof h?x=s in h?h[s]:"object"==typeof(b=a.epoAPI.util.parseJSON(T.closest(".tmcp-ul-wrap").attr("data-rulestype")))&&s in b?b[s]:h[0]:"object"==typeof(h=a.epoAPI.util.parseJSON(T.closest(".tmcp-ul-wrap").attr("data-ulestype")))&&(x=s in h?h[s]:h[0])):(j=T.closest(".tmcp-ul-wrap"),g=a.epoAPI.util.parseJSON(j.attr("data-rules")),v=a.epoAPI.util.parseJSON(j.attr("data-original-rules")),"object"==typeof g&&(k=s in g?g[s]:g[0],F="object"==typeof v?s in v?v[s]:v[0]:k,"object"==typeof h?x=s in h?h[s]:"object"==typeof(b=a.epoAPI.util.parseJSON(j.attr("data-rulestype")))&&s in b?b[s]:h[0]:"object"==typeof(h=a.epoAPI.util.parseJSON(j.attr("data-rulestype")))&&(x=s in h?h[s]:h[0]))),"object"==typeof x&&(x=x[0]),T.is(".tmcp-fee-field")&&(-1!==a.inArray(x,["fee","stepfee","currentstepfee"])&&(x=""),_=0),void 0===n&&(T.is("select")?T.find("option").removeClass("tm-epo-late-field").removeData("tm-price-for-late islate"):z.removeClass("tm-epo-late-field").removeData("tm-price-for-late islate")),"math"!==x&&(k=V(k),F=V(F)),x){case"":k=Y(k,m,_),F=Y(F,m,_);break;case"math":k=Y(k=et(k,T,t,c),m,_),F=Y(F=et(F,T,t,!0),m,_);break;case"percent_cart_total":O=parseFloat(Xt.cart_total),Number.isFinite(O)||(O=0),k=Y(k,m,_)/100*O,F=Y(F,m,_)/100*O;break;case"percent":k=Y(k,m,_)/100*f,F=Y(F,m,_)/100*u;break;case"percentcurrenttotal":a.tcepo.lateFieldsPrices[B].push({setter:z,price:k,original_price:F,bundleid:p,pricetype:x}),z.data("tm-price-for-late",k).data("tm-original-price-for-late",F).data("islate",1).addClass("tm-epo-late-field"),k=0,F=0;break;case"fixedcurrenttotal":k=Y(k,m,_),a.tcepo.lateFieldsPrices[B].push({setter:z,price:k,original_price:F,bundleid:p,pricetype:x}),z.data("tm-price-for-late",k).data("tm-original-price-for-late",F).data("islate",1).addClass("tm-epo-late-field"),k=0,F=0;break;case"word":k=Y(k,m,_)*(z.val().split(/\w+/).length-1),F=Y(F,m,_)*(z.val().split(/\w+/).length-1);break;case"wordpercent":k=Y(k,m,_)/100*f*(z.val().split(/\w+/).length-1),F=Y(F,m,_)/100*u*(z.val().split(/\w+/).length-1);break;case"wordnon":P=parseInt(z.attr("data-freechars"),10),Number.isFinite(P)||(P=0),(A=z.val().split(/\w+/).length-1-P)<0&&(A=0),k=Y(k,m,_)*A,F=Y(F,m,_)*A;break;case"wordpercentnon":P=parseInt(z.attr("data-freechars"),10),Number.isFinite(P)||(P=0),(A=z.val().split(/\w+/).length-1-P)<0&&(A=0),k=Y(k,m,_)/100*f*A,F=Y(F,m,_)/100*u*A;break;case"char":k=Y(k,m,_)*z.val().length,F=Y(F,m,_)*z.val().length;break;case"charpercent":k=Y(k,m,_)/100*f*z.val().length,F=Y(F,m,_)/100*u*z.val().length;break;case"charnospaces":k=Y(k,m,_)*z.val().replace(/\s/g,"").length,F=Y(F,m,_)*z.val().replace(/\s/g,"").length;break;case"charnofirst":(A=z.val().length-1)<0&&(A=0),k=Y(k,m,_)*A,F=Y(F,m,_)*A;break;case"charnon":P=parseInt(z.attr("data-freechars"),10),Number.isFinite(P)||(P=0),(A=z.val().length-P)<0&&(A=0),k=Y(k,m,_)*A,F=Y(F,m,_)*A;break;case"charpercentnon":P=parseInt(z.attr("data-freechars"),10),Number.isFinite(P)||(P=0),(A=z.val().length-P)<0&&(A=0),k=Y(k,m,_)/100*f*A,F=Y(F,m,_)/100*u*A;break;case"charnonnospaces":P=parseInt(z.attr("data-freechars"),10),Number.isFinite(P)||(P=0),(A=z.val().replace(/\s/g,"").length-P)<0&&(A=0),k=Y(k,m,_)*A,F=Y(F,m,_)*A;break;case"charpercentnonnospaces":P=parseInt(z.attr("data-freechars"),10),Number.isFinite(P)||(P=0),(A=z.val().replace(/\s/g,"").length-P)<0&&(A=0),k=Y(k,m,_)/100*f*A,F=Y(F,m,_)/100*u*A;break;case"charpercentnofirst":(A=z.val().length-1)<0&&(A=0),k=Y(k,m,_)/100*f*A,F=Y(F,m,_)/100*u*A;break;case"step":D?(k=Y(k,m,_)*z.val(),F=Y(F,m,_)*a.epoAPI.math.toFloat(z.val())):(k=Y(k,m,_)*a.epoAPI.math.toFloat(z.val()),F=Y(F,m,_)*a.epoAPI.math.toFloat(z.val()));break;case"currentstep":D?(k=Y(z.val(),m,_),F=Y(z.val(),m,_)):(k=Y(a.epoAPI.math.toFloat(z.val()),m,_),F=Y(a.epoAPI.math.toFloat(z.val()),m,_));break;case"intervalstep":D&&(q=parseFloat(a('.tm-range-picker[data-field-id="'+z.attr("id")+'"]').attr("data-min")),k=Y(k,m,_)*(z.val()-q),F=Y(F,m,_)*(z.val()-q));break;case"row":k=Y(k,m,_)*((z.val().match(/(\r\n|\n|\r)/gm)||[]).length+1),F=Y(F,m,_)*((z.val().match(/(\r\n|\n|\r)/gm)||[]).length+1)}T.data("tm-quantity")&&(k*=parseFloat(T.data("tm-quantity")),F*=parseFloat(T.data("tm-quantity"))),C=l(k,m,!1,!1,z),I=l(F,m,!1,!1,z),T.data("price_set",1),z.data("price_set",1),z.data("raw_price",k),z.data("raw_original_price",F),z.data("price",r(k,m,z)),z.data("original_price",r(F,m,z)),o||(S(z.closest(".tmcp-field-wrap").find(".tc-price"),k,C,F,I),T.data("price-changed",1))}}function ot(t,e){var i,o,n,c,d,s,p,m,_,f,u,h,v,y,b,w,x,k,F=!0,C=t.main_product,I=t.epoEventId,A=t.this_epo_container,P=t.this_epo_totals_container;(i=e||C.find(".cart")).length<=0||(a.tcepo.lateFieldsPrices[I]=[],i.toArray().forEach(function(e){if(e=a(e),o="input[name^='variation_id']",e.find("input.variation_id").length>0&&(o="input.variation_id"),void 0!==e.data("per_product_pricing")&&(F=e.data("per_product_pricing")),n=e.find(o).val(),c=a.epoAPI.applyFilter("tc_get_bundleid",e.attr("data-product_id"),e),n||(n=0),d=a.epoAPI.applyFilter("tc_get_epo_container",A,e,C,c),s=a.epoAPI.applyFilter("tc_get_totals_container",P,e,C,c),p=s.data("fields-price-rules"),d.data("tm_rules_init_done")||(s.data("force-quantity")&&e.find($t.qtySelector).val(s.data("force-quantity")),d.toArray().forEach(function(t){a(t).closest(".tmcp-field-wrap").find(".tm-epo-field").data("tm-quantity",a(t).val())}),d.find(".tmcp-attributes, .tmcp-elements").toArray().forEach(function(t){t=a(t),m=a.epoAPI.util.parseJSON(t.attr("data-rules")),_=a.epoAPI.util.parseJSON(t.attr("data-original-rules")),"object"!=typeof m&&(m={0:"0"}),"object"!=typeof _&&(_={0:"0"}),"object"==typeof m&&(f=Y(m[a.epoAPI.math.toFloat(n)],s,p),u=l(f,s),h=Y(_[a.epoAPI.math.toFloat(n)],s,p),v=l(h,s),t.find(".tmcp-field, .tmcp-fee-field ").toArray().forEach(function(t){t=a(t),F?("1"===t.attr("data-no-price")&&(f=0,h=0),t.data("raw_price",f),t.data("raw_original_price",h),t.data("price",r(f,s,t)),t.data("original_price",r(h,s,t)),S(t.closest(".tmcp-field-wrap").find(".tc-price"),f,u,h,v)):(t.data("price",0),t.data("original_price",0),t.closest(".tmcp-field-wrap").find(".amount").empty())}))}),d.data("tm_rules_init_done",1)),!F)return!0;y=tt(s),b=K(s),k={cart:e,current_variation:n,bundleid:c,epoTotalsContainer:s,product_price:y,product_original_price:b,apply_dpd:p,per_product_pricing:F},w=d.find(".tmcp-field,.tmcp-sub-fee-field,.tmcp-fee-field"),t.is_associated||(w=w.not($t.associatedEpoSelector+" .tmcp-field,"+$t.associatedEpoSelector+" .tmcp-sub-fee-field,"+$t.associatedEpoSelector+" .tmcp-fee-field")),x=w.filter(".tcenabled"),(!a.tcepo.initialActivation[I]||0===x.length&&w.length>0)&&(w.each(function(){g(a(this))}),a.tcepo.initialActivation[I]=!0),w.filter(".tcenabled").each(function(e,a){it(t,a,k)}),w.each(function(e,i){a(i).on("tc_element_epo_rules",function(){it(t,i,k)})})}))}function rt(t,e,i,o,n,c,d){var s,p,m,_,f,u,h,v,y,b,w,x,k,F,C,A,P,q=0,E=0,j=t.epoEventId;return P=void 0!==d?d:t.this_epo_totals_container.data("fields-price-rules"),A=e,a.tcepo.lateFieldsPrices[j].forEach(function(d){s=d.price,p=d.original_price,m=d.pricetype,_=d.setter,h=d.bundleid,v=_,C="percentcurrenttotal"===m?"_hidden":"_hiddenfixed",_.is("option")&&(v=_.closest("select")),A=parseFloat(a.epoAPI.applyFilter("tc_alter_product_price",e,v,c,t.this_epo_totals_container,n)),f=a.epoAPI.dom.id(v.attr("name")),y=a(".tc-totals-form.tm-totals-form-"+c.attr("data-cart-id")).attr("data-product-id"),b=a(".tc-totals-form.tm-totals-form-"+c.attr("data-cart-id")).attr("data-epo-id"),u=a(".tc-extra-product-options.tm-product-id-"+y+"[data-epo-id='"+b+"']").find("#"+f+C),h===n?("percentcurrenttotal"===m?(s=parseFloat(Y(s,t.this_epo_totals_container,P))/100*parseFloat(A+i),p=parseFloat(Y(p,t.this_epo_totals_container,P))/100*parseFloat(A+o)):"fixedcurrenttotal"===m&&(s=parseFloat(Y(s,t.this_epo_totals_container,P))+parseFloat(i),p=parseFloat(Y(p,t.this_epo_totals_container,P))+parseFloat(o)),v.data("tm-quantity")&&(s*=parseFloat(v.data("tm-quantity")),p*=parseFloat(v.data("tm-quantity"))),1===_.data("isset")&&g(_)&&(q+=s,E+=p),k=r(s,c,_),F=r(p,c,_),w=l(s,c,!1,!1,_),x=l(p,c,!1,!1,_),_.data("price",k),_.data("pricew",k),_.data("original_price",F),_.data("original_pricew",F),S(_.closest(".tmcp-field-wrap").find(".tc-price"),k,w,F,x),0===u.length&&v.before('<input type="hidden" id="'+f+C+'" name="'+f+C+'" value="'+I(s,c)+'" />'),_.is(".tm-epo-field.tmcp-radio")?_.is(":checked")&&u.val(I(s,c)):u.val(I(s,c))):void 0!==_.data("pricew")&&(w=l(_.data("pricew"),c,!0,!1,_),x="",void 0!==_.data("original_pricew")&&(x=l(_.data("original_pricew"),c,!0,!1,_)),S(_.closest(".tmcp-field-wrap").find(".tc-price"),_.data("pricew"),w,_.data("original_pricew"),x))}),[q,E]}function nt(t){var e,i,o,r,n=[".tm-variation-ul-color",".tm-variation-ul-image",".tm-variation-ul-radiostart",".tm-variation-ul-radioend","ul.use_images_container","ul.use_colors_container"],c=t.main_product;a(".tc-extra-product-options").addClass("tc-show-hidden"),n.forEach(function(t){c.find(t).toArray().forEach(function(t){a(t).toArray().forEach(function(t){t=a(t),(e=t.find(".tmhexcolorimage-li-nowh")).length&&(i=t.closest(".cpf-section"),o=e.first(),r=100,i.length&&i.find(".tm-collapse-wrap.closed").length?(i.find(".tm-collapse-wrap").removeClass("closed").show(),r=e.is(".tc-mode-endcolor, .tc-mode-startcolor")?o.css("line-height"):o.width()-1+"px",i.find(".tm-collapse-wrap").addClass("closed").hide()):r=e.is(".tc-mode-endcolor, .tc-mode-startcolor")?o.css("line-height"):o.width()-1+"px",e.find(".tmhexcolorimage").css({"min-width":r,"min-height":r}))})})}),a(".tc-extra-product-options").removeClass("tc-show-hidden")}function ct(){var t;"yes"!==Xt.tm_epo_no_lazy_load&&((t=ae?a(ae).find("img.tmlazy"):a(".tc-extra-product-options img.tmlazy")).lazyLoadXT(),t.on("lazyshow",function(){re.trigger("lazyLoadXToncomplete")}))}function lt(t){var e,i;t&&t.find(".tm-owl-slider-section").each(function(){e=a(this),i=e.css("display"),e.find(".tm-slide").first().before('<div class="tm-owl-slider"></div>'),e.find(".tm-slide").appendTo(e.find(".tm-owl-slider")),e=e.find(".tm-owl-slider"),i=e.css("display"),e.show().addClass("tcowl-carousel").tmowlCarousel({rtl:"1"===Xt.isRTL,dots:!1,nav:!0,items:1,autoHeight:!0,mouseDrag:!1,touchDrag:!0,navText:[Xt.i18n_prev_text,Xt.i18n_next_text],navClass:["owl-prev button","owl-next button"],navElement:"a",loop:!1,navRewind:!1}),e.css("display",i)})}function dt(t){t&&a(t).length&&(a(t).spectrum({type:"color",theme:"epo",showButtons:!0,clickoutFiresChange:!1,chooseText:Xt.closeText,cancelText:Xt.i18n_cancel}),a(t).spectrum("enable"))}function st(t){t&&a(t).length&&ne.ready(function(){a(t).tclightbox()})}function pt(t){var e=t.closest(".tmcp-field-wrap").find("label img"),i=a(e).first().attr("data-original");return t.is("select.tm-product-image")&&(t=t.children("option:selected")),i||(i=a(e).first().attr("src")),i||(i=t.attr("data-image")),t.attr("data-imagep")&&(i=t.attr("data-imagep")),!!i}function mt(e){var i,o,r,n,c=e.is_associated?e.this_epo_container.find(".tm-epo-field.tmcp-upload"):e.this_epo_container.find(".tm-epo-field.tmcp-upload").not($t.epoSelector+" "+$t.associatedEpoSelector+" .tm-epo-field.tmcp-upload");try{c.not($t.epoSelector+" "+$t.associatedEpoSelector+" .tm-epo-field.tmcp-upload").not(".tm-multiple-file-upload").toArray().forEach(function(t){i=a(t),(Kt||te)&&((o=new Kt("").clipboardData||new te).items.add(new File([i.attr("data-file")],i.attr("data-filename"))),t.files=o.files),r=i.attr("name"),n=i.attr("data-file"),i.trigger("change.tcupload"),i.after('<input type="hidden" class="tmcp-upload-hidden" name="'+r+'" value="'+n+'" />'),i.removeAttr("data-file data-filename")})}catch(e){t.console.log(e),a(".tm-epo-field.tmcp-upload").not(".tm-multiple-file-upload").addClass("tc-nodt"),Qt=e}}function _t(t){var e=t.epoEventId,i=t.this_epo_container;"yes"===Xt.tm_epo_upload_popup&&(a.tcepo.formSubmitEvents[e][a.tcepo.formSubmitEvents[e].length]={trigger:function(){return!0},on_true:function(){var t,e,o=i.data("num_uploads");return o&&Object.keys(o).length&&(t=a.tcFloatBox({fps:1,ismodal:!0,refresh:"fixed",width:"50%",height:"300px",classname:"flasho tm_wrapper",data:a.epoAPI.template.html($t.templateEngine.tc_upload_messages,{files:o,title:Xt.i18n_uploading_files,message:Xt.i18n_uploading_message})}),e=function(){t.destroy(),ne.off("ajaxSuccess",e)},ne.on("ajaxSuccess",e)),!0},on_false:function(){return!0}})}function ft(t){var e=t.this_epo_container,i=t.main_product,o=t.epoEventId,r=e.find(".tm-limit"),n=e.find(".tm-exactlimit"),c=e.find(".tm-minimumlimit");e.on("change.cpflimit","input.tm-epo-field.tmcp-checkbox",function(){var t=a(this);J(t,!0),R(t,!0)}),r.length&&Z(r,i,o),n.length&&$(n,i,o),c.length&&G(c,o)}function ut(e){var i,o,r=e.this_epo_totals_container,n=e.this_epo_container,c=r.attr("data-theme-name");if(c){switch(c=c.toLowerCase(),i=n.find("select"),c){case"flatsome":case"flatsome-child":case"flatsome child":i.wrap('<div class="custom select-wrapper"/>');break;case"avada":case"avada-child":case"avada child":i.wrap('<div class="avada-select-parent tm-select-parent"></div>'),a('<div class="select-arrow">&#xe61f;</div>').appendTo(n.find(".tm-select-parent")),t.calc_select_arrow_dimensions?(t.calc_select_arrow_dimensions(),re.on("tmsectionpoplink cpflogicdone",function(){t.calc_select_arrow_dimensions()})):t.calcSelectArrowDimensions&&(t.calcSelectArrowDimensions(),re.on("tmsectionpoplink cpflogicdone",function(){t.calcSelectArrowDimensions()}));break;case"bazar":case"bazar-child":case"bazar child":i.wrap('<div class="tm-select-wrapper select-wrapper"/>');break;case"blaszok":case"blaszok-child":case"blaszok child":o=function(){setTimeout(function(){a(".tm-extra-product-options select").not(".hasCustomSelect").filter(":visible").each(function(){a(this).is(".mpcthSelect")||(a(this).width(a(this).outerWidth()),a(this).customSelect({customClass:"mpcthSelect"}))})},100)},re.on("cpflogicrun",function(){o()}),re.on("epo_options_visible",function(){o()});break;case"handmade":case"handmade child theme":a(".tm-owl-slider.tcowl-carousel").addClass("manual")}re.trigger("tm-theme-specific-actions",{epo:{theme_name:c,all_epo_selects:i}})}ne.off("click.cpf",".quantity:not(.buttons_added) .minus, .quantity:not(.buttons_added) .plus").on("click.cpf",".quantity:not(.buttons_added) .minus, .quantity:not(.buttons_added) .plus",function(){a(this).closest(".quantity").find($t.qtySelector).trigger("change.cpf")})}function gt(t,i,o,r,n){var c,l,d,s,p,m,_,f,u,g=t.epoEventId,h="input[name^='variation_id']",v=t.is_associated?"tc_variation_form.tmlogic":"wc_variation_form.tmlogic",y=t.is_associated?"tc_":"",b=t.variations_form,w=t.is_associated?b.find(".tc-epo-element-variations"):b.find(".variations"),x=t.is_associated?".tc-epo-element-variable-reset-variations":".reset_variations";if(b.attr("data-epo_id",t.epo_id),i.find("input.variation_id").length>0&&(h="input.variation_id"),n.find(".tm-epo-variation-element").length||n.data("tm-epo-variation-element")){if((c=n.find(".tm-epo-variation-section").first()).find(".cpf-type-variations").attr("data-epo_id",t.epo_id).attr("data-product_id",b.attr("data-product_id")),n.data("tm-epo-variation-element",c.find(".tm-epo-variation-element")),o&&"main"!==o&&!t.is_associated){if(b=t.form,w=b.find('.composite_component[data-item_id="'+o+'"]').find(".variations"),b.attr("data-epo_id",t.epo_id),0===w.length)return;l=c.closest("li.tm-extra-product-options-field"),c.is(".tm-hidden")||w.hide(),w.after(c.addClass("tm-extra-product-options nopadding")),l.is(":empty")&&l.hide(),c.is(".section_popup")?c.wrap("<div class='tc-styled-variations tc-row'></div>"):(c.removeClass("tc-cell"),c.wrap("<div class='tc-styled-variations'></div>")),d=!1,i.off(v).on(v,function(){for(d=!0,b.on("click.tmlogic",".reset_variations",function(){c.find("select.tm-epo-variation-element").val("").children("option").removeAttr("disabled").show(),c.find(".tm-epo-variation-element").removeAttr("disabled").removeClass("tm-disabled").removeAttr("checked").prop("checked",!1).closest("li").show(),re.trigger("tmlazy"),c.find(".tm-epo-variation-element").trigger("tm_trigger_product_image"),c.find("li").removeClass("tc-active tm-attribute-disabled").css("opacity","")}),i.off("woocommerce_update_variation_values_tmlogic").on("woocommerce_update_variation_values_tmlogic",function(){j(i,t)}),u=0;u<ee.length;u+=1)s=ee[u],"object"===(p=typeof s)&&(m="string"==typeof s.name||!1,_="string"==typeof s.selector||!1,f="function"==typeof s.func||!1,m&&f&&("input[name='variation_id']"===_&&(_=h),s.selector?i.data("tm-styled-variations",1).off(y+s.name,s.selector).on(y+s.name,s.selector,s.func):i.data("tm-styled-variations",1).off(y+s.name).on(y+s.name,s.func)));ee=[],c.find(".tm-epo-variation-element").last().trigger("tm_epo_variation_element_change")}),ne.ready(function(){!1===d&&i.trigger(v)})}else{for(c.length&&(c.is(".tm-hidden")||w.hide(),l=c.closest("li.tm-extra-product-options-field"),w.after(c.addClass("tm-extra-product-options nopadding")),l.is(":empty")&&l.hide(),c.is(".section_popup")?c.wrap("<div class='tc-styled-variations tc-row'></div>"):(c.removeClass("tc-cell"),c.wrap("<div class='tc-styled-variations'></div>")),b.off("click.tmlogic",x).on("click.tmlogic",x,function(){c.find("select.tm-epo-variation-element").val("").children("option").removeAttr("disabled").show(),c.find(".tm-epo-variation-element").removeAttr("disabled").removeClass("tm-disabled").removeAttr("checked").prop("checked",!1).closest("li").show(),re.trigger("tmlazy"),c.find(".tm-epo-variation-element").trigger("tm_trigger_product_image"),c.find("li").removeClass("tc-active tm-attribute-disabled").css("opacity","")})),b.off("woocommerce_update_variation_values_tmlogic").on("woocommerce_update_variation_values_tmlogic",function(){j(b,t)}),u=0;u<ee.length;u+=1)s=ee[u],"object"===(p=typeof s)&&(m="string"==typeof s.name||!1,_="string"==typeof s.selector||!1,f="function"==typeof s.func||!1,m&&f&&("input[name='variation_id']"===_&&(_=h),s.selector?b.data("tm-styled-variations",1).off(y+s.name,s.selector).on(y+s.name,s.selector,s.func):b.data("tm-styled-variations",1).off(y+s.name).on(y+s.name,s.func)));ee=[],c.find(".tm-epo-variation-element").last().trigger("tm_epo_variation_element_change")}a.tcepo.formSubmitEvents[g][a.tcepo.formSubmitEvents[g].length]={trigger:function(){return!0},on_true:function(){return c.find(".tm-epo-variation-element").attr("disabled","disabled"),!0},on_false:function(){c.find(".tm-epo-variation-element").removeAttr("disabled")}},a(e.body).on("added_to_cart",function(){c.find(".tm-epo-variation-element").removeAttr("disabled")})}}function ht(t,e){var i=e.find(".flex-control-nav li:eq(0) img"),o=e.find(".woocommerce-product-gallery__wrapper ").find(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),r=t,n=t.closest("a");r.attr("data-o_src",a.tc_product_image_store[0].src),r.attr("data-o_srcset",a.tc_product_image_store[0].srcset),r.attr("data-o_sizes",a.tc_product_image_store[0].sizes),r.attr("data-o_title",a.tc_product_image_store[0].title),r.attr("data-o_alt",a.tc_product_image_store[0].alt),r.attr("data-o_data-src",a.tc_product_image_store[0]["data-src"]),r.attr("data-o_data-large_image",a.tc_product_image_store[0]["data-large_image"]),r.attr("data-o_data-large_image_width",a.tc_product_image_store[0]["data-large_image_width"]),r.attr("data-o_data-large_image_height",a.tc_product_image_store[0]["data-large_image_height"]),o.attr("data-o_data-thumb",a.tc_product_image_store[1]["data-thumb"]),a.tc_product_image_store[2]&&i.attr("data-o_src",a.tc_product_image_store[2].src),n.attr("data-o_href",a.tc_product_image_store[3].href),n.attr("data-o_title",a.tc_product_image_store[3].title)}function vt(t,e){var i=e.find(".flex-control-nav li:eq(0) img"),o=e.find(".woocommerce-product-gallery__wrapper ").find(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),r=t,n=t.closest("a");a.isEmptyObject(a.tc_product_image)?a.tc_product_image_store=a.tc_populate_store(t,e):(a.tc_product_image_store=a.tc_pre_populate_store(),a.tc_product_image_store=a.tc_maybe_copy_object_values(a.tc_product_image_store,a.tc_product_image)),r.tc_update_attr("src",0),r.tc_update_attr("srcset",0),r.tc_update_attr("sizes",0),r.tc_update_attr("title",0),r.tc_update_attr("alt",0),r.tc_update_attr("data-src",0),r.tc_update_attr("data-large_image",0),r.tc_update_attr("data-large_image_width",0),r.tc_update_attr("data-large_image_height",0),o.tc_update_attr("data-thumb",1),i.tc_update_attr("src",2),n.tc_update_attr("href",3),n.tc_update_attr("title",3)}function yt(t,e,a){var i=a.find(".flex-control-nav li:eq(0) img"),o=a.find(".woocommerce-product-gallery__wrapper ").find(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),r=e,n=e.closest("a");t&&t.image_link&&t.image_link&&t.image_link.length>1?(null!==t.full_src&&""!==t.full_src||(t.full_src=t.image_link),null!==t.full_src_w&&""!==t.full_src_w||(t.full_src_w=r.attr("data-large_image_width")),null!==t.full_src_h&&""!==t.full_src_h||(t.full_src_h=r.attr("data-large_image_height")),r.length&&(t.image_srcset||(t.image_sizes=!1),t.image_sizes||(t.image_srcset=!1),r.tc_set_attr("src",t.image_link,0),r.tc_set_attr("srcset",t.image_srcset,0),r.tc_set_attr("sizes",t.image_sizes,0),r.tc_set_attr("title",t.image_title,0),r.tc_set_attr("alt",t.image_alt,0),r.tc_set_attr("data-src",t.full_src,0),r.tc_set_attr("data-large_image",t.full_src,0),r.tc_set_attr("data-large_image_width",t.full_src_w,0),r.tc_set_attr("data-large_image_height",t.full_src_h,0),o.tc_set_attr("data-thumb",t.image_link,1)),i.length&&i.tc_set_attr("src",t.image_link,2),n.length&&(n.tc_set_attr("href",t.full_src,3),n.tc_set_attr("title",t.image_caption,3))):(r.length&&(r.tc_reset_attr("src",0),r.tc_reset_attr("srcset",0),r.tc_reset_attr("sizes",0),r.tc_reset_attr("title",0),r.tc_reset_attr("alt",0),r.tc_reset_attr("data-src",0),r.tc_reset_attr("data-large_image",0),r.tc_reset_attr("data-large_image_width",0),r.tc_reset_attr("data-large_image_height",0),o.tc_reset_attr("data-thumb",1)),i.length&&i.tc_reset_attr("src",2),n.length&&(n.tc_reset_attr("href",3),n.tc_reset_attr("title",3)))}function bt(t,e){var i;return t.is_associated?i=e.find(".tc-product-image .wp-post-image").first():""!==Xt.tm_epo_global_product_image_selector?i=a(Xt.tm_epo_global_product_image_selector):(0===(i=e.find(".woocommerce-product-gallery__image:not(.clone), .woocommerce-product-gallery__image--placeholder:not(.clone)").eq(0).find(".wp-post-image").first()).length&&(i=e.find("a.woocommerce-main-image img, img.woocommerce-main-image,a img").not(".thumbnails img,.product_list_widget img").first()),0===i.length&&(i=e.find(".elementor-widget-ae-post-image .wp-post-image").first())),a(i).length>1&&(i=a(i).first()),i}function wt(t){var e,a,i;return t.is_associated?t.main_product.closest(".tc-epo-element-product-container"):(e=t.main_product,a=t.product_id,(i=e.closest("#product-"+a)).length<=0&&(i=e.closest(".post-"+a)),i)}function xt(e,i,o,r,n,c,l){var d,s,p,m,_,f;for(d in e)if(Object.prototype.hasOwnProperty.call(e,d)&&(d=e[d]).enabled)switch(d.type){case"yith":i?(i.attr("srcset",o).attr("src-orig",o),d.element.data("yith_magnifier")&&d.element.yith_magnifier("destroy"),s={elements:{zoom:a(".yith_magnifier_zoom"),zoomImage:i,gallery:a(".yith_magnifier_gallery li a")}},d.element.yith_magnifier(a.extend(!0,{},t.yith_magnifier_options,s))):(r?d.yith_wcmg_zoom.attr("href",d.yith_wcmg_default_zoom):d.yith_wcmg_zoom.attr("href",d._yith_wcmg_default_zoom),d.element.data("yith_magnifier")&&d.element.yith_magnifier("destroy"),d.element.yith_magnifier(t.yith_magnifier_options));break;case"iosslider":setTimeout(function(t){t.element.iosSlider("update")}.bind(null,d),150);break;case"flexslider":re.trigger("resize");break;case"elevatezoom":d.element.each(function(t,e){var a=e(this).data("elevateZoom");void 0!==a&&a.swaptheimage(t,t)}.bind(null,o,a));break;case"easyzoom":d.element.swap(null,o);break;case"easyzoom-flatsome":d.element.swap(o,o);break;case"woocommerce":d.element.flexslider(0),p=d.element,t.setTimeout(function(t,e){t.trigger("woocommerce_gallery_init_zoom"),e.trigger("resize")}.bind(null,p,re),10);break;case"zoom":l&&(m=l.find(".woocommerce-product-gallery--with-images").width(),_=!1,d.element.find("img.wp-post-image").attr("data-large_image_width")>m&&(_=!0),_?(f={touch:!1},"ontouchstart"in t&&(f.on="click"),d.element.trigger("zoom.destroy"),d.element.zoom(f)):d.element.trigger("zoom.destroy"))}re.trigger("tm_gallery_compatibility_actions",{event_data:n,product_element:l,form:c})}function kt(e,i,o){var r,n,c,l,d,s,p,m,_,f,u,g,h,v,y,b,w,x,k,F,C,I,A;return e.is_associated?{}:(r=!1,n=a(".images"),c=a(".yith_magnifier_zoom"),l=n.find(".yith_magnifier_zoom").first().attr("href"),d=l,s=n.find(".yith_magnifier_zoom img").first().attr("src"),p=!1,m=a(".iosSlider.product-gallery-slider,.iosSlider.product-slider"),_=!1,f=o.find(".images .fusion-flexslider"),u=i.data("elevateZoom")||!1,g=o.find("div.product-images .woocommerce-main-image"),h=!1,v=o.find(".images .easyzoom"),y=!1,b=o.find(".images .easyzoom"),w=!1,x=o.find(".woocommerce-product-gallery"),k=!1,F=t.wc_single_product_params,I="function"==typeof a.fn.zoom&&F&&F.zoom_enabled,A=!1,t.yith_magnifier_options&&n.data("yith_magnifier")&&(r=!0),m.length&&m.iosSlider&&(p=!0),f.length&&f.flexslider&&(_=!0),v.length&&v.filter(".images .easyzoom.first").data("easyZoom")&&(v=v.filter(".images .easyzoom.first").data("easyZoom"),h=!0),h||(b=o.find(".images .has-image-zoom .slide")).length&&b.filter(".images .has-image-zoom .slide.first").data("easyZoom")&&(b=b.filter(".images .has-image-zoom .slide.first").data("easyZoom"),y=!0),re.on("load",function(){setTimeout(function(){v.length&&v.data("easyZoom")&&(v=v.data("easyZoom"),h=!0),b.length&&b.data("easyZoom")&&(b=b.data("easyZoom"),y=!0)},150)}),x.length&&x.data("flexslider")&&(w=!0,"function"==typeof a.fn.zoom&&F&&F.zoom_enabled&&(C=i.closest(".woocommerce-product-gallery__image")).length>0&&i.width()>a(".woocommerce-product-gallery").width()&&(k=C,i.data.wc27_zoom_target=k)),!w&&I&&(A=o.find(".woocommerce-product-gallery__image")),{is_yith_wcmg:{type:"yith",enabled:r,element:n,yith_wcmg_zoom:c,_yith_wcmg_default_zoom:d,yith_wcmg_default_image:s},is_iosSlider:{type:"iosslider",enabled:p,element:m},is_flexslider:{type:"flexslider",enabled:_,element:f},is_elevateZoom:{type:"elevatezoom",enabled:u,element:g},is_easyzoom:{type:"easyzoom",enabled:h,element:v},is_easyzoom_flatsome:{type:"easyzoom-flatsome",enabled:y,element:b},is_wc27_gallery:{type:"woocommerce",enabled:w,element:x},is_zoom_enabled:{type:"zoom",enabled:!w&&I,element:A}})}function Ft(t){var e,i,o,r,n,c,l,d,s=t.is_associated?t.this_epo_container:t.this_epo_container.not($t.epoSelector+" "+$t.associatedEpoSelector),p=t.variations_form,m=t.main_product,_=t.form,f=wt(t),u=[],h=t.is_associated?"tc_":"";e=bt(t,f),i=kt(t,e,f),a(e).length>0&&(_.on(h+"reset_image.tcpi",function(){a.tc_product_image=a.tc_replace_object_values(a.tc_product_image,a.tc_product_image_store),u=[],a(s.find(".tm-product-image:checked,select.tm-product-image")).add(p.find(".tm-epo-variation-section").first().find(".tm-product-image:checked,select.tm-product-image")).each(function(){g(o=a(this))&&""!==o.val()&&u.push(o)}),u.length?u[u.length-1].trigger("tm_trigger_product_image"):a.tc_product_image_store=a.tc_populate_store(e,f)}),_.on(h+"found_variation.tcpi",function(){vt(e,f),u=[],a(s.find(".tm-product-image:checked,select.tm-product-image")).add(p.find(".tm-epo-variation-section").first().find(".tm-product-image:checked,select.tm-product-image")).each(function(){g(o=a(this))&&""!==o.val()&&u.push(o)}),u.length&&(ht(e,f),u[u.length-1].trigger("tm_trigger_product_image"))}),a.tc_product_image_store=a.tc_maybe_copy_object_values_from_img(a.tc_product_image_store,e,f),m.off("tm_change_product_image").on("tm_change_product_image",function(t,m){if(t.stopImmediatePropagation(),r=m.element,n=m.element_current,r&&n){if(c=r.data("imagep"),l=""!==c?"imagep":"image",(d=m.element_current.data("image-variations"))&&(d=d[l]),void 0===d)return;if(u=[],a(s.find(".tm-product-image:checked,select.tm-product-image")).add(p.find(".tm-epo-variation-section").first().find(".tm-product-image:checked,select.tm-product-image")).each(function(){(o=a(this)).is("option")&&(o=o.closest("select")),g(o)&&""!==o.val()&&u.push(o)}),u.length&&!u[u.length-1].is(r))return;yt(d,e,f),xt(i,e,d.image_link,!1,m,_,f)}}),m.off("tm_restore_product_image").on("tm_restore_product_image",function(t,n){t.stopImmediatePropagation(),r=n.element,u=[],r&&(a(s.find(".tm-product-image:checked,select.tm-product-image")).add(p.find(".tm-epo-variation-section").first().find(".tm-product-image:checked,select.tm-product-image")).each(function(){g(o=a(this))&&""!==o.val()&&u.push(o)}),u.length&&!u[u.length-1].is(r))?u[u.length-1].trigger("tm_trigger_product_image"):(yt(!1,e,f),xt(i,!1,e.attr("src"),!1,n,_,f))}),u=[],a(s.find(".tm-product-image:checked,select.tm-product-image")).add(p.find(".tm-epo-variation-section").first().find(".tm-product-image:checked,select.tm-product-image")).each(function(){g(o=a(this))&&""!==o.val()&&u.push(o)}),u.length&&u[u.length-1].trigger("tm_trigger_product_image")),re.trigger("tm_product_image_loaded")}function Ct(e){var i,o,r,n,c,l,d,s=e.is_associated?e.this_epo_container:e.this_epo_container.not($t.epoSelector+" "+$t.associatedEpoSelector),p=e.main_product,m=e.product_id,_=e.form,f=wt(e),u=[];i=bt(e,f),o=kt(e,i,f),a(i).length>0&&(i.data("tm-current-image",!1),r=i.closest("a"),n=i.attr("src"),c=i.width(),l=i.height(),p.off("tm_change_product_image").on("tm_change_product_image",function(e,r){var n,s,p,f,u,h,v,y,w,x,k,F,C,I,A,P=[];s=(n=r.element.closest(".cpf-section")).is(".tm-epo-variation-section"),p=r.epo_holder,s&&(p=n),f=p.find(".tm-product-image:checked,select.tm-product-image"),P=[],u=r.element.attr("id"),h=!0,v=r.main_product,y=v.closest("#product-"+m),w=c,x=l,F=a("<div class='blockUI blockOverlay tm-preloader-img'></div>"),y.length<=0&&(y=v.closest(".post-"+m)),0===(k=y.find("#"+u+"_tmimage")).length&&(k=i),A=function(){F.remove(),_.tc_image_update(!1),i.data("tm-current-image",!1),y.find(".tm-clone-product-image").hide(),i.show()},r.src===k.attr("src")&&k.is(":visible")||(!1!==r.src?(F.css({width:w,height:x}),f.each(function(){g(d=a(this))&&pt(d)&&b({element:d.closest(".cpf_hide_element"),operator:"isnotempty",value:""})&&P.push(d)}),P.length&&(f=P[P.length-1]),f.attr("id")!==r.element.attr("id")&&(h=!1),C=i.tcClone(),I=new Image,C.removeAttr("data-o_src").removeAttr("data-o_title").removeAttr("data-o_alt").removeAttr("data-o_srcset").removeAttr("data-o_sizes").removeAttr("srcset").removeAttr("sizes"),h&&i.before(F),o.is_yith_wcmg.yith_wcmg_default_zoom=o.is_yith_wcmg.element.find(".yith_magnifier_zoom").first().attr("href"),o.is_yith_wcmg.yith_wcmg_default_image=o.is_yith_wcmg.element.find(".yith_magnifier_zoom img").first().attr("src"),I.onerror=function(){A()},I.onload=function(){if("naturalHeight"in this){if(this.naturalHeight+this.naturalWidth===0)return void this.onerror()}else if(this.width+this.height===0)return void this.onerror();y.find("#"+u+"_tmimage").remove(),y.find(".tm-clone-product-image").hide(),C.prop("src",I.src).hide(),i.hide().after(C),C.css("opacity",0).show(),xt(o,C,I.src),F.animate({opacity:0},750,"easeOutExpo",function(){F.remove()}),C.animate({opacity:1},t.tc_epo_image_animation_delay||1500,"easeOutExpo",function(){}),re.trigger("tm_change_product_image_loaded",{src:r.src,element:r.element,main_product:r.main_product,epo_holder:r.epo_holder})},C.attr("id",u+"_tmimage").addClass("tm-clone-product-image").hide(),C.attr("src-orig")&&C.attr("src-orig",r.src),h?(I.src=r.src,_.tc_image_update(r.element,C),i.data("tm-current-image",u),re.trigger("tm_change_product_image_show",{src:r.src,element:r.element,main_product:r.main_product,epo_holder:r.epo_holder})):(C.prop("src",r.src).hide(),i.after(C)),re.trigger("tm_change_product_image_end",{src:r.src,element:r.element,main_product:r.main_product,epo_holder:r.epo_holder})):A())}),p.off("tm_restore_product_image").on("tm_restore_product_image",function(t,e){var a,c,l,d,s,p,f,u,g,h,v,y,b,w;if(re.trigger("tm_restore_product_image_pre",{element:e.element,main_product:e.main_product,epo_holder:e.epo_holder}),a=e.element.attr("id"),c=e.main_product,l=c.closest("#product-"+m),d=e.element.closest(".cpf-section"),s=d.is(".tm-epo-variation-section"),u=!1,y=n,b=e.epo_holder,s&&(b=d),l.length<=0&&(l=c.closest(".post-"+m)),g=l.find("#"+a+"_tmimage").is(":visible"),l.find("#"+a+"_tmimage").remove(),0===l.find(".tm-clone-product-image").length)i.show(),i.data("tm-current-image",!1),_.tc_image_update(!1);else{if(!g)return void re.trigger("tm_restore_product_image_loaded_exit",{element:e.element,main_product:e.main_product,epo_holder:e.epo_holder});for(h=l.find(".tm-clone-product-image").length,a=i.data("tm-current-image"),w=h-1;w>=0;w-=1){if(f=l.find(".tm-clone-product-image").eq(w),p=f.attr("id").replace("_tmimage",""),(v=b.find("[id='"+p+"']")).is(":checked")&&v.closest(".cpf_hide_element").is(":visible")){l.find(".tm-clone-product-image").eq(w).show(),r.attr("href",l.find(".tm-clone-product-image").eq(w).prop("src")),i.data("tm-current-image",p),u=!0;break}l.find(".tm-clone-product-image").eq(w).hide()}u?l.find("#"+a+"_tmimage").remove():(i.show(),i.data("tm-current-image",!1),_.tc_image_update(!1))}u&&(y=f.attr("src")),xt(o,!1,y,l.find(".tm-clone-product-image").filter(":visible").length),re.trigger("tm_restore_product_image_loaded",{element:e.element,main_product:e.main_product,epo_holder:e.epo_holder})}),p.off("tm_attempt_product_image").on("tm_attempt_product_image",function(t,e){var c,l,s,p,f,u,h,v,y,w,x,k,F,C,I,A,P;if(c=e.main_product,l=c.closest("#product-"+m),s=e.element?e.element.closest(".cpf-section"):a(c.find(".tm-epo-variation-section").first(),e.epo_holder),p=s.is(".tm-epo-variation-section"),f=e.epo_holder,p&&(f=s),u=f.find(".tm-product-image:checked,select.tm-product-image"),h=[],v="",x=!1,k=i.data("tm-current-image"),C=n,l.length<=0&&(l=c.closest(".post-"+m)),f=c.find(".tm-epo-variation-section").first().add(e.epo_holder),(u=f.find(".tm-product-image:checked,select.tm-product-image")).each(function(){g(d=a(this))&&pt(d)&&b({element:d.closest(".cpf_hide_element"),operator:"isnotempty",value:""})&&h.push(d)}),h.length&&(v=(u=h[h.length-1]).attr("id")),!h.length||!u.length||k&&v===k){if(A=f.find("[id='"+k+"']").closest(".cpf_hide_element"),k&&(!1===A.data("isactive")||!1===A.closest(".cpf-section").data("isactive"))){if(l.find("#"+k+"_tmimage").remove(),0===(F=l.find(".tm-clone-product-image").length))i.show(),i.data("tm-current-image",!1),_.tc_image_update(!1);else{for(P=F-1;P>=0;P-=1){if(y=l.find(".tm-clone-product-image").eq(P),w=y.attr("id").replace("_tmimage",""),(I=f.find("[id='"+w+"']")).is(":checked")&&I.closest(".cpf_hide_element").is(":visible")){l.find(".tm-clone-product-image").eq(P).show(),r.attr("href",l.find(".tm-clone-product-image").eq(P).prop("src")),i.data("tm-current-image",w),x=!0;break}l.find(".tm-clone-product-image").eq(P).hide()}x||(i.show(),i.data("tm-current-image",!1),_.tc_image_update(!1))}x&&(C=y.attr("src")),xt(o,!1,C,l.find(".tm-clone-product-image").filter(":visible").length)}}else u.last().trigger("tm_trigger_product_image")}),a(s.find(".tm-product-image:checked,select.tm-product-image")).add(p.find(".tm-epo-variation-section").first().find(".tm-product-image:checked,select.tm-product-image")).each(function(){g(d=a(this))&&""!==d.val()&&u.push(d)}),u.length&&u[u.length-1].trigger("tm_trigger_product_image")),re.trigger("tm_product_image_loaded")}function It(e){setTimeout(function(){"inline"===Xt.tm_epo_global_product_image_mode?Ct(e):Ft(e)},t.tc_epo_product_image_setup_delay||0)}function At(t){re.trigger("tm-epo-compatibility",{epo:t})}function Pt(t){Yt&&t.find(".tm-range-picker").toArray().forEach(function(e){var i,o=a(e),r=o.attr("data-step").split("."),c=t.find("#"+a.epoAPI.dom.id(o.attr("data-field-id"))),l=parseFloat(o.attr("data-min")),d=parseFloat(o.attr("data-max")),s=parseFloat(o.attr("data-start")),p=parseFloat(o.attr("data-step")),m=o.attr("data-show-picker-value"),_=o.closest("li").find(".tm-show-picker-value"),f=parseFloat(o.attr("data-noofpips")),u=null;o.data("tc-picker-init")||(o.data("tc-picker-init",1),r=1===r.length?0:r[1].length,Number.isFinite(l)||(l=0),Number.isFinite(d)||(d=0),d<=l&&(d=parseFloat(d)+1),s=a.epoAPI.math.unformat(s,$t.localDecimalSeparator),Number.isFinite(s)||(s=0),s=n(s,{precision:r}),Number.isFinite(p)||(p=0),Number.isFinite(f)||(f=10),f<2&&(f=2),"yes"===o.attr("data-pips")&&(u={mode:"count",values:f,filter:function(t,e){return t=parseFloat(a.epoAPI.math.toFixed(t,r)),p<=0?0:1!==e||Number.isInteger(t)?e:2},format:{from:function(t){return a.epoAPI.math.unformat(t,$t.localInputDecimalSeparator)},to:function(t){return n(t,{precision:r})}},density:2}),Yt.create(o.get(0),{direction:Xt.text_direction,start:s,step:p,connect:"lower",behaviour:"tap",format:{from:function(t){return a.epoAPI.math.unformat(t,$t.localInputDecimalSeparator)},to:function(t){return n(t,{precision:r})}},range:{min:[l],max:[d]},pips:u,tooltips:{from:function(t){return a.epoAPI.math.unformat(t,$t.localInputDecimalSeparator)},to:function(t){return n(t,{precision:r})}}}),i=o.find(".noUi-handle-lower"),o.get(0).noUiSlider.on("slide",function(){i.trigger("tmmovetooltip"),c.trigger("change.cpf")}),o.get(0).noUiSlider.on("update",function(t,e){t[e]=a.epoAPI.math.unformat(t[e],$t.localDecimalSeparator),e=0,"left"!==m&&"right"!==m&&i.attr("title",n(t[e],{precision:r})),c.val(t[e]).trigger("change"),""!==m&&_.html(n(t[e],{precision:r}))}),""!==m&&_.html(s),"left"!==m&&"right"!==m&&(i.attr("title",s),o.addClass("noUi-show-tooltip")))})}function St(t,e){var i,o=a(e),r=a.tm_datepicker._getInst(o[0]),n=o.data("tc-enabled_only_dates"),c=o.data("tc-disabled_weekdays"),l=o.data("tc-disabled_months"),d=o.data("tc-disabled_dates"),s=o.data("tc-format"),p=t.getDay(),m=t.getDay()+1;return!!a.tm_datepicker._isInRange(r,t)&&(""!==n?(i=a.tm_datepicker.formatDate(s,t),-1!==n.indexOf(i)):-1===c.indexOf(p.toString())&&(-1===l.indexOf(m.toString())&&(""===d||(i=a.tm_datepicker.formatDate(s,t),-1===d.indexOf(i)))))}function qt(t){var e,a,i,o,r;if(t.toString().isNumeric()&&0!==(e=0===t?t:t>0?1:-1)){for(a=new Date,i=1,o=!1,r=Math.abs(t);i<=r;)!1===o&&(o=0),a.setDate(a.getDate()+1*e),o++,0!==a.getDay()&&6!==a.getDay()&&i++;!1!==o&&(t=o*e)}return t}function Et(i){var o,r,n=".tm-epo-timepicker";a.tm_datepicker&&(o=a("input").map(function(){return this.id}).get().join(" "),(r=e.createElement("input")).setAttribute("type","date"),"text"===r.type&&(n=".tm-epo-system-timepicker"),i.find(n).toArray().forEach(function(t){var e=a(t),i=null,r=null,n=e.attr("data-time-format").trim(),c=e.attr("data-time-theme").trim(),l=e.attr("data-time-theme-size").trim(),d=e.attr("data-time-theme-position").trim(),s=e.attr("data-tranlation-hour").trim(),p=e.attr("data-tranlation-minute").trim(),m=e.attr("data-tranlation-second").trim();e.attr("type","text"),""!==e.attr("data-min-time").trim()&&(i=e.attr("data-min-time").trim()),""!==e.attr("data-max-time").trim()&&(r=e.attr("data-max-time").trim()),""!==e.attr("data-custom-time-format").trim()&&(n=e.attr("data-custom-time-format").trim()),s||(s=Xt.hourText),p||(p=Xt.minuteText),m||(m=Xt.secondText),e.tm_timepicker({isRTL:Xt.isRTL,hourText:s,minuteText:p,secondText:m,timeFormat:n,minTime:i,maxTime:r,closeText:Xt.closeText,showOn:"both",buttonText:"",beforeShow:function(t,i){a(i.dpDiv).removeClass(o).removeClass("tm-ui-skin-epo tm-ui-skin-epo-black tm-datepicker-medium tm-datepicker-small tm-datepicker-large tm-datepicker-normal tm-datepicker-top tm-datepicker-bottom").addClass(this.id+" tm-bsbb-all tm-ui-skin-"+c+" tm-timepicker tm-datepicker tm-datepicker-"+d+" tm-datepicker-"+l).appendTo("body"),ne.off("click",".tm-ui-dp-overlay").on("click",".tm-ui-dp-overlay",function(){e.tm_timepicker("hide")}),oe.addClass("tm-static"),e.prop("readonly",!0),re.trigger({type:"tm-timepicker-beforeShow",input:t,inst:i})},onClose:function(){oe.removeClass("tm-static"),e.prop("readonly",!1),e.trigger("change")}}),a("#ui-tm-datepicker-div").hide()}),i.find(".tm-epo-datepicker").toArray().forEach(function(t){var e,r,n=a(t),c=parseInt(n.attr("data-start-year").trim(),10),l=parseInt(n.attr("data-end-year").trim(),10),d=n.attr("data-min-date").trim(),s=n.attr("data-max-date").trim(),p=n.attr("data-disabled-dates").trim(),m=n.attr("data-enabled-only-dates").trim(),_=n.attr("data-exlude-disabled").trim(),f=n.attr("data-disabled-weekdays").trim().split(","),u=n.attr("data-disabled-months").trim().split(","),g=n.attr("data-date-format").trim(),h=n.attr("data-date-showon").trim(),v=n.attr("data-date-defaultdate").trim(),y=n.attr("data-date-theme").trim(),b=n.attr("data-date-theme-size").trim(),w=n.attr("data-date-theme-position").trim();""!==p&&(e=p.split(","),-1!==p.indexOf(",")&&e.length>0&&(p=e)),""!==m&&(r=m.split(","),-1!==m.indexOf(",")&&r.length>0&&(m=r)),""===d?d=""===c?null:new Date(c,0,1):_&&(d=qt(d)),""===s?s=""===l?null:new Date(l,11,31):_&&(s=qt(s)),n.data("tc-enabled_only_dates",m),n.data("tc-disabled_weekdays",f),n.data("tc-disabled_months",u),n.data("tc-disabled_dates",p),n.data("tc-format",g),n.tm_datepicker({monthNames:Xt.monthNames,monthNamesShort:Xt.monthNamesShort,dayNames:Xt.dayNames,dayNamesShort:Xt.dayNamesShort,dayNamesMin:Xt.dayNamesMin,isRTL:Xt.isRTL,showOtherMonths:!0,selectOtherMonths:!0,showOn:h,defaultDate:v,buttonText:"",showButtonPanel:!0,firstDay:Xt.first_day,closeText:Xt.closeText,currentText:Xt.currentText,dateFormat:g,minDate:d,maxDate:s,onSelect:function(){var t,e,o=a(this),r="#"+a.epoAPI.dom.id(o.attr("id")),n=o.tm_datepicker("getDate"),c="",l="",d="",s=i.find(r+"_day"),_=i.find(r+"_month"),h=i.find(r+"_year");n&&(c=n.getDate(),l=n.getMonth()+1,d=n.getFullYear(),t=a.tm_datepicker.formatDate(g,n),(-1!==u.indexOf(l.toString())||-1!==f.indexOf(n.getDay().toString())||-1!==p.indexOf(t)||""!==m&&-1===m.indexOf(t))&&(e=o.data("tm-last-date"),e=o.data("tm-last-date")?o.data("tm-last-date"):"",o.val(e),o.tm_datepicker("setDate",e),e?(c=(n=o.tm_datepicker("getDate")).getDate(),l=n.getMonth()+1,d=n.getFullYear()):(c="",l="",d=""))),s.val(c),_.val(l),h.val(d),o.data("tm-last-date",o.val())},beforeShow:function(t,e){a(e.dpDiv).removeClass(o).removeClass("tm-datepicker-normal tm-datepicker-top tm-datepicker-bottom").addClass(this.id+" tm-bsbb-all tm-ui-skin-"+y+" tm-datepicker tm-datepicker-"+w+" tm-datepicker-"+b).appendTo("body"),ne.off("click",".tm-ui-dp-overlay").on("click",".tm-ui-dp-overlay",function(){n.tm_datepicker("hide")}),ne.off("click",".ui-tm-datepicker-current").on("click",".ui-tm-datepicker-current",function(){var t,i=new Date,o=a.tm_datepicker._daylightSavingAdjust(new Date(i.getFullYear(),i.getMonth(),i.getDate())),r=o.getDay(),c=o.getMonth()+1,l="#"+e.id.replace(/\\\\/g,"\\"),d=!1,s=n.tm_datepicker("getDate");if(""!==m)t=a.tm_datepicker.formatDate(g,s),d=-1!==m.indexOf(t);else if(-1!==u.indexOf(c.toString())||-1!==f.indexOf(r.toString()))d=!1;else{if(""!==p)return t=a.tm_datepicker.formatDate(g,s),[-1===p.indexOf(t),""];d=!0}d&&(a.tm_datepicker._setDate(e,o),a.tm_datepicker._gotoToday(l))}),oe.addClass("tm-static"),n.prop("readonly",!0),re.trigger({type:"tm-datepicker-beforeShow",input:t,inst:e})},onClose:function(){oe.removeClass("tm-static"),n.prop("readonly",!1),n.removeAttr("readonly"),n.trigger("change")},beforeShowDay:function(t){var e,i=t.getDay(),o=t.getMonth()+1;return""!==m?(e=a.tm_datepicker.formatDate(g,t),[-1!==m.indexOf(e),""]):-1!==u.indexOf(o.toString())||-1!==f.indexOf(i.toString())?[!1,""]:""!==p?(e=a.tm_datepicker.formatDate(g,t),[-1===p.indexOf(e),""]):[!0,""]}}),a("#ui-tm-datepicker-div").hide()}),i.find(".tmcp-date-select").on("change.cpf",function(){var t="#"+a.epoAPI.dom.id(a(this).attr("data-tm-date")),e=i.find(t),o=e.attr("data-date-format"),r=i.find(t+"_day").val(),n=i.find(t+"_month").val(),c=i.find(t+"_year").val(),l=a.tm_datepicker.formatDate(o,new Date(c,parseInt(n,10)-1,r));r>0&&n>0&&c>0?(e.tm_datepicker("setDate",l),e.trigger("change")):(e.val(""),e.trigger("change.cpf"))}).on("focus.cpf",function(){var e="#"+a.epoAPI.dom.id(a(this).attr("data-tm-date")),o=i.find(e),r=i.find(e+"_day"),n=i.find(e+"_month"),c=i.find(e+"_year"),l=r.val(),d=n.val(),s=c.val(),p=a(this);""!==s&&""!==d&&""!==l||""!==s&&""!==d&&""===l||""!==l&&""!==s&&""===d||""!==l&&""!==d&&""===s?p.find("option").toArray().forEach(function(e){var i,r=a(e),n=r.val(),c=s+"-"+d+"-"+l;if(p.is(".tmcp-date-day")){if(""===s||""===d)return;c=s+"-"+d+"-"+n}else if(p.is(".tmcp-date-month")){if(""===s||""===l)return;c=s+"-"+n+"-"+l}else if(p.is(".tmcp-date-year")){if(""===l||""===d)return;c=n+"-"+d+"-"+l}if(""!==n)try{(i=a.tm_datepicker.parseDate("yy-mm-dd",c))&&(St(i,o)?r.prop("disabled",!1):r.prop("disabled",!0))}catch(e){t.console.log(e),r.prop("disabled",!0),Qt=e}}):(r.find("option").prop("disabled",!1),n.find("option").prop("disabled",!1),c.find("option").prop("disabled",!1))}),re.on("resizestart",function(){var i=a(e.activeElement);if(i.is(".hasDatepicker")){if(i.data("resizestarted",!0),a(t).width()<768)return void i.data("resizewidth",!0);i.tm_datepicker("hide")}}),re.on("resizestop",function(){var t=a(e.activeElement);t.is(".hasDatepicker")&&t.data("resizestarted")&&(t.data("resizewidth")&&t.tm_datepicker("hide"),t.tm_datepicker("show")),t.data("resizestarted",!1),t.data("resizewidth",!1)}))}function jt(t){var e,i=t.epoEventId,o=t.main_product,r=!a.tcepo.formSubmitEvents[i].some(function(t){return typeof t&&("function"==typeof t.trigger||!1)&&!t.trigger()});return a.tcepo.formSubmitEvents[i].forEach(function(t){"object"===(e=typeof t)&&(r?t.on_true():t.on_false())}),r||setTimeout(function(){o.find($t.addToCartButtonSelector).first().removeClass("disabled").removeClass("loading").removeAttr("disabled").removeClass("fpd-disabled")},100),re.trigger("tm-apply-submit-events",{epo:{form_is_submit:r}}),r}function Ot(t){var e,i,o=t.form,r=t.this_epo_container,n=t.main_product,c=t.epoEventId;return"yes"===Xt.tm_epo_global_enable_validation&&(e={},r.find(".tmcp-ul-wrap").toArray().forEach(function(t){var o,r,n,c,l;t=a(t),(i=t.data("tm-validation"))&&"object"===a.tmType(i)&&(r=(o=t.find(".tm-epo-field")).first().attr("name"),t.is(".tm-extra-product-options-radio.tm-element-ul-radio")?(r=o.last().attr("name"),e[r]=i):t.is(".tm-extra-product-options-checkbox.tm-element-ul-checkbox")?o.each(function(r,n){"required"in i&&(i.required=function(e){var i=t.find("input.tm-epo-field.tmcp-checkbox:checked").length;return 0===i?o.last().attr("name")===a(e).attr("name"):i<=0}),e[a(n).attr("name")]=i}):t.is(".tm-extra-product-options-product.tm-element-ul-product")?("required"in i&&(n=t.find(".product-variation-id").first().attr("name"),l=t.find(".tc-epo-field-product").first(),c={required:function(){return!(!l.is("select")||!g(l,!0)||"variable"!==l.children(":selected").attr("data-type"))}},e[n]=c),e[r]=i):e[r]=i)}),o.removeData("tc_validator"),o.tc_validate({focusInvalid:!1,ignore:$t.qtySelector+",.tcdisabled,.tmcp-upload-hidden,#wc_bookings_field_duration,input.tm-qty:hidden[type='number'],input.input-text.qty,.ignore,.variations select,.tc-epo-variable-product-selector,.tm-extra-product-options-variations input,.tm-extra-product-options-variations select,input:not(.tc-extra-product-options input),select:not(.tc-extra-product-options select)",rules:e,errorClass:"tm-error",validClass:"tm-valid",errorElement:"label",errorPlacement:function(t,e){return e.is(".tm-epo-field.tmcp-radio")||e.is(".tm-epo-field.tmcp-checkbox")||e.is(".tm-epo-field.tmcp-radio")?"before"===Xt.tm_epo_global_error_label_placement?t.prependTo(e.closest(".tmcp-ul-wrap").parent()):t.appendTo(e.closest(".tmcp-ul-wrap").parent()):"before"===Xt.tm_epo_global_error_label_placement?t.prependTo(e.closest(".tmcp-field-wrap")):t.appendTo(e.closest(".tmcp-field-wrap")),!1},invalidHandler:function(t,e){re.trigger("tm-invalidHandler",{epo:{validator:e}}),setTimeout(function(){n.find($t.addToCartButtonSelector).first().removeClass("disabled").removeClass("loading").removeAttr("disabled").removeClass("fpd-disabled")},100),e.errorList&&e.errorList[0]&&e.errorList[0].element&&U(a(e.errorList[0].element),c)},submitHandler:function(){var e;return t.is_quickview||(n.find($t.addToCartButtonSelector).first().addClass("disabled"),e=function(){n.find($t.addToCartButtonSelector).first().removeClass("disabled"),ne.off("ajaxSuccess",e)},ne.on("ajaxSuccess",e)),jt(t)}}),o.find(".single_add_to_cart_button").on("click",function(t){o.tc_validate().form()||(t.preventDefault(),t.stopImmediatePropagation())}),!0)}function Tt(t){var e=t.form,i=t.epoEventId;re.trigger("tm-from-submit",{epo:t,functions:{tm_apply_validation:Ot,apply_submit_events:jt}}),!Ot(t)&&a.tcepo.formSubmitEvents[i].length&&e.on("submit",function(){jt(t)})}function zt(t){var e,i=t.totalsHolder,o=t.totalsHolderContainer,r=t.currentCart,n=t.variationForm,c=t.variation,l=i.data("variations");i.data("current_variation",c),l&&c&&c.variation_id&&void 0!==l[c.variation_id]?(e=l[c.variation_id],i.data("price",e),i.removeData("tcprice")):c&&"display_price"in c?(e=c.display_price,i.data("price",e),i.data("priceIsWithDiscount","1"),i.removeData("tcprice")):c&&a(c.price_html).find(".amount:last").length&&(e=(e=(e=(e=a(c.price_html).find(".amount:last").text()).replace(Xt.currency_format_thousand_sep,"")).replace(Xt.currency_format_decimal_sep,".")).replace(/[^0-9.]/g,""),e=parseFloat(e),i.data("price",e),i.removeData("tcprice")),o.find(".cpf-product-price").val(e),n.data("tm-styled-variations")||r.trigger({type:"tm-epo-update"})}function Dt(t,e,i,o,r,c,l,d){var s=e.find(i);return!1===t.is_associated&&(s=s.not($t.associatedEpoSelector+" "+i)),o||(o=0),r||(r=0),c||(c=[]),d||(s=s.filter(".tcenabled")),s.toArray().forEach(function(t){var e,i,s,p,m,_,f,u,g,h,v,y,b=a(t),w="",x=b.closest(".cpf_hide_element"),k=b.closest(".tmcp-field-wrap"),F=x.attr("data-fblabelshow"),C=x.attr("data-fbvalueshow"),I="",A=k.find(".tm-qty").val();""===F&&(I=x.find(".tm-epo-element-label").html()),void 0===A&&(A=""),b.is(":checkbox, :radio, :input")&&(i=0,s=0,p=0,m=0,b.is(".tmcp-checkbox, .tmcp-radio")?d||b.is(":checked")?(i=b.data("raw_price"),s=b.data("price"),p=b.data("raw_original_price"),m=b.data("original_price"),l=!0,b.data("isset",1),f=(_=b.closest("li.tmcp-field-wrap")).find(".checkbox_image,.radio_image"),w="",v="",(u=b.closest("li.tmcp-field-wrap").find(".tm-label")).length&&(v=w=u.html()),f.length&&(w+=f.clone().addClass("tc-img-floating")[0].outerHTML),b.is(".use_images")&&(v=w=_.find(".tc-label").first().html(),f.length&&(w=w+'<img class="tc-img-floating" src="'+b.attr("data-image")+'"')),c.push({title:I,value:w,valueText:v,price:s,original_price:m,quantity:A,label_show:F,value_show:C})):b.data("isset",0):b.is(".tmcp-select")?(i=(y=b.find("option:selected")).data("raw_price"),s=y.data("price"),p=y.data("raw_original_price"),m=y.data("original_price"),""===(g=b.children("option:selected")).val()&&""===g.attr("data-rulestype")||(l=!0),b.find("option").data("isset",0),y.data("isset",1),""===y.val()&&""===y.attr("data-rulestype")||(w=y.attr("data-text"),c.push({title:I,value:w,valueText:w,price:s,original_price:m,quantity:A,label_show:F,value_show:C}))):(e=b.val(),b.is("[type='file']")&&(e=e.replace("C:\\fakepath\\","")),e?b.is(".tmcp-range")&&"0"===e?b.data("isset",0):(i=b.data("raw_price"),s=b.data("price"),p=b.data("raw_original_price"),m=b.data("original_price"),l=!0,b.data("isset",1),w=e,b.is(".tmcp-range")&&(w=n(w,{precision:h=1===(h=a(".tm-range-picker[data-field-id='"+b.attr("id")+"']").attr("data-step").split(".")).length?0:h[1].length})),c.push({title:I,value:w,valueText:w,price:s,original_price:m,quantity:A,label_show:F,value_show:C})):b.data("isset",0)),i||(i=0),s||(s=0),p||(p=0),m||(m=0),o=parseFloat(o)+parseFloat(i),r=parseFloat(r)+parseFloat(p))}),{total:o,original_total:r,floatingBoxData:c,showTotal:l,elementsLength:s.length}}function Nt(t,e,i,o,r,n,c,l){var d,s=a.extend(!0,{},t),p=i.find($t.associatedEpoSelector),m=i,_=!0;c.addClass("tm-hidden"),"variable"===o?i.is(".tc-init-variations")?i.trigger("refresh.tc-variation-form"):(i.addClass("variations_form"),setTimeout(function(){d=Ut(m,!1,p.attr("data-product-id"),p.attr("data-epo-id"),r,s),i.addClass("tc-init-variations"),i.tc_product_variation_form(r,n,c,d)},40),_=!1):i.is(".tc-init-product")||(i.addClass("tc-init-product"),c.find(".tc-epo-element-variable-product").removeClass("variations_form"),c.find(".tc-epo-element-variations").removeClass("variations"),setTimeout(function(){Ut(m,!1,p.attr("data-product-id"),p.attr("data-epo-id"),r,s)},20),_=!1),i.removeClass("tm-hidden"),_&&re.trigger("cpflogicdone"),void 0===l&&"yes"===Xt.tm_epo_global_product_element_scroll&&re.tcScrollTo(i,200,a.epoAPI.math.toFloat(Xt.tm_epo_global_product_element_scroll_offset))}function Bt(c,d,u){var g,h,v,y,b,w,x,k,F,C,I=c.product_id,q=c.main_product,E=c.main_cart,j=c.this_epo_container,O=c.this_totals_container,z=c.this_epo_totals_container,D=c.epoEventId,H=c.main_epo_inside_form,L=c.epo_id_selector,U=c.epo_id,Q=c.product_id_selector,Z="main",W=c.is_associated?"tc-variation-form":"wc-variation-form",$=c.is_associated?"tc_":"";u&&d?(Z=a.epoAPI.applyFilter("tc_get_item_id",d.attr("data-item_id"),d),g=q.find(".tm-extra-product-options.tm-cart-"+Z),h=q.find(".tm-totals-form-"+Z),v=q.find(".tm-epo-totals.tm-cart-"+Z),x=d.find(".variations_form").first()):(E&&0!==E.length||(E=j.is(".tc-shortcode")?q:N(q,q,"form",I)),d=E.parent(),g=j,h=O,v=z,x=c.variations_form),c.is_associated&&(Z=g.attr("data-cart-id")),y=u||E,v.data("tm_for_cart",y),b=s(y),k=_(y),v.data("variationIdElement",p(y,".wceb_picker_wrap "+b)),v.data("qty_element",k),w=v.data("type"),x.data("tc_product_id",I),F=v.attr("data-tm-epo-final-total-box"),re.on("epoCalculateRules",function(t,e){t&&e&&e.currentCart&&ot(c,e.currentCart)}),ot(c,y),g.find("select.tm-epo-field").off("tm-select-change-html").on("tm-select-change-html",function(){var t,e,i,o,r,n;u&&E&&void 0!==E.data("per_product_pricing")&&!E.data("per_product_pricing")||(e=l((t=a(this)).find("option:selected").data("price"),v,!0,!1,t),i=l(t.find("option:selected").data("original_price"),v,!1,!1,t),o=t.closest(".tmcp-field-wrap").find(".tc-tooltip"),r=t.closest(".tmcp-field-wrap").find(".tc-inline-description"),S(t.closest(".tmcp-field-wrap").find(".tc-price"),t.find("option:selected").data("price"),e,t.find("option:selected").data("original_price"),i),o.length>0&&o.attr("data-tm-tooltip-html",t.find("option:selected").attr("data-tm-tooltip-html")).trigger("tc-tooltip-html-changed"),r.length>0&&(t.find("option:selected").attr("data-tm-tooltip-html")?r.html(t.find("option:selected").attr("data-tm-tooltip-html")):r.html("")),"0"!==t.find("option:selected").attr("data-hide-amount")&&"yes"!==Xt.tm_epo_show_price_inside_option_hidden_even||"yes"!==Xt.tm_epo_show_price_inside_option||!t.find("option:selected").attr("data-text")||("yes"===Xt.tm_epo_auto_hide_price_if_zero&&!1===a.tmempty(t.find("option:selected").data("price"))||"yes"!==Xt.tm_epo_auto_hide_price_if_zero&&""!==t.find("option:selected").attr("data-price"))&&(n="",t.find("option:selected").html(t.find("option:selected").attr("data-text")+" ("+n+e+")")),""===t.val()?o.addClass("tm-hidden"):t.find("option:selected").attr("data-tm-tooltip-html")?o.removeClass("tm-hidden"):o.addClass("tm-hidden"))}).off("tm-math-select-change-html-all tm-select-change-html-all").on("tm-math-select-change-html-all tm-select-change-html-all",function(t){var e,i,o,r,n,d;u&&E&&void 0!==E.data("per_product_pricing")&&!E.data("per_product_pricing")||(i=(e=a(this)).closest(".tmcp-field-wrap").find(".tc-tooltip"),o=e.closest(".tmcp-field-wrap").find(".tc-inline-description"),i.length>0&&i.attr("data-tm-tooltip-html",e.find("option:selected").attr("data-tm-tooltip-html")).trigger("tc-tooltip-html-changed"),o.length>0&&(e.find("option:selected").attr("data-tm-tooltip-html")?o.html(e.find("option:selected").attr("data-tm-tooltip-html")):o.html("")),"yes"===Xt.tm_epo_show_price_inside_option&&e.find("option").each(function(){if(!(r=a(this)).val())return!0;"tm-select-change-html-all"===t.type?(r.removeClass("tm-epo-late-field").removeData("tm-price-for-late islate"),it(c,e,void 0,r,1)):"tm-math-select-change-html-all"===t.type&&it(c,e,void 0,r,1,!0),n=1,"yes"!==Xt.tm_epo_multiply_price_inside_option&&(n=e.data("tm-quantity")),n||(n=1),d=l(r.data("price")/n,v,!0,!1,e),"0"!==r.attr("data-hide-amount")&&"yes"!==Xt.tm_epo_show_price_inside_option_hidden_even||!r.attr("data-text")||("yes"===Xt.tm_epo_auto_hide_price_if_zero&&!1===a.tmempty(r.data("price"))||"yes"!==Xt.tm_epo_auto_hide_price_if_zero&&""!==r.attr("data-price"))&&r.html(r.attr("data-text")+" ("+d+")")}),""===e.val()?i.addClass("tm-hidden"):e.find("option:selected").attr("data-tm-tooltip-html")?i.removeClass("tm-hidden"):i.addClass("tm-hidden"))}).off("tm-select-change").on("tm-select-change",function(){var t;u&&E&&void 0!==E.data("per_product_pricing")&&!E.data("per_product_pricing")||((t=a(this)).trigger("tm-select-change-html"),t.trigger("tm-select-change-html-all"),y.trigger({type:"tm-epo-update",norules:1,element:t}))}),g.off("focus.cpf",".tm-quantity .tm-qty").on("focus.cpf",".tm-quantity .tm-qty",function(){var t=a(this),e=t.closest(".tmcp-field-wrap").find(".tm-epo-field"),i=parseFloat(t.val()),o=parseFloat(t.attr("max")),r=parseFloat(t.attr("min")),n=t.attr("step"),c=J(e,!1),l=R(e,!1),d=!0;i&&""!==i&&"NaN"!==i||(i=0),""!==o&&"NaN"!==o||(o=""),""!==r&&"NaN"!==r||(r=0),"any"!==n&&""!==n&&void 0!==n&&"NaN"!==parseFloat(n)||(n=1),(i<r||i>o)&&(d=!1),c&&l&&d?t.data("tm-prev-value",i):t.data("tm-prev-value",r)}).off("change.cpf",".tm-quantity .tm-qty").on("change.cpf",".tm-quantity .tm-qty",function(t,e){var i=a(this),o=i.closest(".tmcp-field-wrap").find(".tm-epo-field"),r=parseFloat(i.val()),n=parseFloat(i.attr("max")),l=parseFloat(i.attr("min")),d=i.attr("step"),s=J(o,!1),p=R(o,!1),m=!0;r&&""!==r&&"NaN"!==r||(r=0),""!==n&&"NaN"!==n||(n=""),""!==l&&"NaN"!==l||(l=0),"any"!==d&&""!==d&&void 0!==d&&"NaN"!==parseFloat(d)||(d=1),(r<l||r>n)&&(m=!1),s&&p&&m?(c.noEpoUpdate?o.data("tm-quantity",i.val()).trigger("change.cpf",e).trigger("change.cpfproduct",e):o.data("tm-quantity",i.val()).trigger("change",e),o.trigger("tm-select-change-html-all")):i.data("tm-prev-value")?i.val(i.data("tm-prev-value")):i.val(l),i.trigger("cpf-changed")}).off("tmaddquantity",".tm-quantity .tm-qty").on("tmaddquantity",".tm-quantity .tm-qty",function(){var t=a(this);t.closest(".tmcp-field-wrap").find(".tm-epo-field").data("tm-quantity",t.val())}),g.find(".tmcp-textfield.tm-epo-field[maxlength],textarea.tm-epo-field[maxlength]").each(function(){var t=a(this),e=a.epoAPI.template.html($t.templateEngine.tc_chars_remanining,{maxlength:t.attr("maxlength"),characters_remaining:Xt.i18n_characters_remaining});t.after(a(e))}),g.find("input.tm-epo-field[maxlength],textarea.tm-epo-field[maxlength]").off("change.tc_maxlen input.tc_maxlen").on("change.tc_maxlen input.tc_maxlen",function(){var t=a(this);t.closest(".tmcp-field-wrap").find(".tc-chars-remanining").html(parseInt(t.attr("maxlength"),10)-parseInt(t.val().length,10))}),g.find(".tm-epo-field").off("tm_trigger_product_image").on("tm_trigger_product_image",function(){var t,e,i,o,r=a(this);r.is(".tm-product-image:checkbox, .tm-product-image:radio, select.tm-product-image")?(e=r.closest(".tmcp-field-wrap").find("label img"),i=r.closest(".cpf-section").is(".tm-epo-variation-section"),t=r,r.is("select.tm-product-image")&&(t=r.children("option:selected")),(a(e).length>0||i&&void 0!==t.attr("data-image")||void 0!==t.attr("data-image")&&""!==t.attr("data-image")||void 0!==t.attr("data-imagep")&&""!==t.attr("data-imagep"))&&(r.is(":checked")||r.is("select.tm-product-image")&&""!==r.val()&&(""!==r.find("option:selected").attr("data-rules")||r.is(".tm-epo-variation-element")))?((o=a(e).first().attr("data-original"))||i||(o=a(e).first().attr("src")),o||(o=t.attr("data-image")),t.attr("data-imagep")&&(o=t.attr("data-imagep")),o?q.trigger("tm_change_product_image",{src:o,element:r,element_current:t,main_product:q,epo_holder:g}):q.trigger("tm_change_product_image",{src:!1,element:r,element_current:t,main_product:q,epo_holder:g})):q.trigger("tm_restore_product_image",{element:r,element_current:t,main_product:q,epo_holder:g})):q.trigger("tm_attempt_product_image",{element:r,element_current:t,main_product:q,epo_holder:g})}),g.find(".tm-quantity").off("showhide.cpfcustom").on("showhide.cpfcustom",function(){var t,e,i,o=a(this),r=o.closest(".tmcp-field-wrap").find(".tm-epo-field"),n=!1;r.is(".tm-epo-variation-element")||(r.is("select")?""!==r.val()&&(n=!0):r.is(":checkbox")?r.is(":checked")&&(n=!0):r.is(":radio")?r.is(":checked")&&(n=!0,"yes"===Xt.tm_epo_show_only_active_quantities&&r.closest(".cpf_hide_element").find(".tm-epo-field.tmcp-radio").each(function(){a(this).closest(".tmcp-field-wrap").find(".tm-quantity").hide()})):r.val()&&(n=!0),e=(t=o.find(".tm-qty")).val(),i=t.attr("min")||"",n?("yes"===Xt.tm_epo_show_only_active_quantities&&o.show(),t.removeClass("ignore").prop("disabled",!1)):("yes"===Xt.tm_epo_show_only_active_quantities&&(o.hide(),e||t.val(i)),t.addClass("ignore").prop("disabled",!0)),setTimeout(function(){o.closest(".tcowl-carousel").trigger("refresh.owl.carousel")},200))}),g.find(".tm-epo-field").off("change.cpfcustom").on("change.cpfcustom",function(){a(this).closest(".tmcp-field-wrap").find(".tm-quantity").trigger("showhide.cpfcustom")}),g.find(".tm-epo-field").filter(":checkbox:checked, :radio:checked").each(function(){a(this).closest(".tmcp-field-wrap").addClass("tc-active")}),g.find(".tm-epo-field").off("change.cpf").on("change.cpf",function(t,e){var i,o=a(this),r=o.closest(".tmcp-field-wrap"),n=o.closest(".tmcp-ul-wrap");o.is(":checkbox, :radio")&&(o.is(":radio")&&(e||n.find(".tmcp-field-wrap").removeClass("tc-active")),o.is(":checked")?r.addClass("tc-active"):r.removeClass("tc-active")),o.is(".tm-epo-variation-element")||(o.is(".use_images:checkbox, .use_images:radio")&&o.attr("data-imagec")&&(i=r.find(".radio_image,.checkbox_image").first()).length>0&&(o.is(":checked")?i.prop("src",o.attr("data-imagec")):i.prop("src",o.attr("data-image"))),o.is(".use_images:radio")&&o.closest(".cpf-type-radio").find(".use_images:radio").not(o).each(function(){var t=a(this);t.closest(".tmcp-field-wrap").find(".radio_image").first().prop("src",t.attr("data-image"))}),o.is(".tmcp-range")&&o.trigger("change.cpflogic"),o.is("select")?o.trigger("tm-select-change"):(o.is(".tmcp-radio")&&o.closest(".cpf_hide_element").find(".tm-quantity .tm-qty").each(function(){a(this).closest("li.tmcp-field-wrap").find(".tmcp-radio").is(":checked")?a(this).removeAttr("disabled"):a(this).attr("disabled","disabled")}),y.trigger({type:"tm-epo-update",norules:1,element:o}))),o.trigger("tm_trigger_product_image"),setTimeout(function(){a(".tm-owl-slider").each(function(){a(this).trigger("refresh.owl.carousel")})},200),q.trigger("tm_attempt_product_image",{element:o,main_product:q,epo_holder:g})}),g.find(".tm-has-clearbutton .tm-epo-field").off("change.cpfclearbutton").on("change.cpfclearbutton cpfclearbutton",function(){var t,e=a(this),i=e.closest(".tmcp-field-wrap");e.is(":checked")&&(t=e.closest(".cpf_hide_element").find(".tm-epo-reset-radio").removeClass("tm-hidden"),i.append(t))}),g.find(".tm-epo-reset-radio").off("click.cpf").on("click.cpf",function(){var t=a(this),e=t.closest(".cpf_hide_element").find(".tm-epo-field.tmcp-radio:checked");e.length&&(e.removeAttr("checked").prop("checked",!1),e.trigger("change",{forced:1}),e.is(".tc-epo-field-product")),t.addClass("tm-hidden")}),de&&de.debounce&&g.find(".tm-epo-field.tmcp-textarea,.tm-epo-field.tmcp-textfield").keyup(de.debounce(function(){a(this).trigger("change.cpf")},10)),g.find(".tm-epo-field.tmcp-upload").off("change.cpfv change.tcupload").on("change.cpfv change.tcupload",function(){var e,i,o=a(this),r=o.closest("label"),n=o.closest(".tmcp-field-wrap"),c=n.find(".cpf-upload-container"),l=n.find(".tm-filename"),d=o.val().replace("C:\\fakepath\\",""),s=o.attr("data-file"),p=t.URL||t.webkitURL,m=this.files[0],_=n.find(".tc-upload-preview");c.length&&l.length<=0&&(l=a('<span class="tm-filename"></span>'),r.after(l)),l.html(d),(e=g.data("num_uploads"))||(e=[]),""!==d&&(e[o.closest(".cpf_hide_element").attr("data-uniqid")]=d),g.data("num_uploads",e),o.next(".tmcp-upload-hidden").remove(),(d||s)&&"yes"===Xt.tm_epo_upload_inline_image_preview&&p&&p.createObjectURL&&m&&(_.length||(_=a('<div class="tc-upload-preview"></div>'),n.find("label.tm-epo-field-label").after(_)),_.empty(),(i=new Image).onload=function(){var t=this.src;_.html('<img src="'+t+'"></div>')},i.src=s||p.createObjectURL(m))}),k.off("change.cpf").on("change.cpf",function(){var t=a(this);y.trigger("tm-epo-check-dpd"),t.data("tm-prev-value",t.val()),y.trigger({type:"tm-epo-update",norules:2})}).data("tm-prev-value",k.val()),g.find(".cpf-type-product .tc-epo-field-product").off("change.cpfproduct").on("change.cpfproduct",function(t,e){var i,o,r,n,l,d,s,p,m,_=a(this),f=_.closest(".cpf_hide_element").find(".tc-epo-element-product-container-wrap"),u=_.closest(".tmcp-field-wrap").find(".tc-epo-element-product-container-wrap"),g=u.length>0,h=!1,v=1e3,b=_,w=_.closest(".cpf_hide_element");if((!e||2!==e.forced)&&(void 0===t.isTrigger||!_.data("triggeredonce")||e&&e.forced)){if(_.data("triggeredonce",1),_.is(":checkbox")||(v=t.isTrigger),_.is(":checkbox"))s=f.find($t.associateQtySelector),_.is(":checked")?(f.addClass("tc-active-product"),"0"===s.val()&&("0"===s.attr("min")?s.val(1).trigger("change"):s.val(s.attr("min")).trigger("change"))):(f.removeClass("tc-active-product"),s.val(0),s.closest(".tm-quantity-alt").removeClass("tm-hidden"),s.closest(".tm-quantity-alt").find(".single_add_to_cart_product").trigger("cpfqtybutton"),f.find($t.associatedEpoCart).trigger("tm-epo-update")),i=_.val(),o=_.attr("data-type"),w.find(".tc-epo-element-product-li-container").removeClass("tm-hidden");else if(_.is(":radio")){if(_.is(":checked"))g&&(f.addClass("tm-hidden"),u.removeClass("tm-hidden"));else{if(g&&u.addClass("tm-hidden"),!e||!e.forced)return;h=!0}h||(i=_.val(),o=_.attr("data-type"),w.find(".tc-epo-element-product-li-container").removeClass("tm-hidden"))}else{if(!_.is("select"))return;b=r=_.children(":selected"),i=_.val(),o=r.attr("data-type"),w.find(".tc-epo-element-product-li-container").removeClass("tm-hidden")}if(n=w.find(".tc-epo-element-product-container"),l=n.filter('[data-product_id="'+i+'"]'),!i)return n.addClass("tm-hidden"),p=a.epoAPI.util.parseJSON(_.attr("data-rules")),m=a.epoAPI.util.parseJSON(_.attr("data-original-rules")),b.data("associated_price_set",1),b.data("price_set",1),b.data("raw_price",p[0]),b.data("raw_original_price",m[0]),b.data("price",p[0]),b.data("original_price",m[0]),void P(b.closest(".tmcp-field-wrap").find(".tc-price").not($t.associatedEpoSelector+" .tc-price"),p[0],A(p[0]),m[0],A(m[0]));0===l.length?(d={action:"wc_epo_get_associated_product_html",product_id:i,mode:w.attr("data-mode"),layout_mode:w.attr("data-product-layout-mode"),uniqid:w.attr("data-uniqid"),name:_.attr("name"),quantity_min:w.attr("data-quantity-min"),quantity_max:w.attr("data-quantity-max"),priced_individually:w.attr("data-priced-individually"),discount:w.attr("data-discount"),discount_type:w.attr("data-discount-type"),show_image:w.attr("data-show-image"),show_title:w.attr("data-show-title"),show_price:w.attr("data-show-price"),show_description:w.attr("data-show-description"),show_meta:w.attr("data-show-meta")},w.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.ajax({url:Xt.ajax_url,type:"POST",data:d,dataType:"json",success:function(t){200===t.result&&(l=a(t.html),g?_.closest(".tmcp-field-wrap").find(".tc-epo-element-product-container-wrap").empty().append(l):w.find(".tc-epo-element-product-container-wrap").append(l),Nt(c,q,l,o,_,y,n,v))},complete:function(){w.unblock()}})):(Nt(c,q,l,o,_,y,n,v),l.find($t.associateQtySelector).trigger("change"))}}),a(e).off("click.cpfqtybutton cpfqtybutton",".cpf-type-product .single_add_to_cart_product").on("click.cpfqtybutton cpfqtybutton",".cpf-type-product .single_add_to_cart_product",function(){var t=a(this),e=t.closest(".tm-quantity-alt").find($t.associateQtySelector),i=t.is(".alt"),o=t.closest(".cpf_hide_element").find(".tc-epo-element-product-container-wrap");t.data("inittriggeredonce")&&(i?(o.addClass("tc-active-product"),"0"===e.val()&&("0"===e.attr("min")?e.val(1).trigger("change"):e.val(e.attr("min")).trigger("change")),t.removeClass("alt").text(t.attr("data-remove"))):(o.removeClass("tc-active-product"),e.val(0).trigger("change"),e.closest(".tm-quantity-alt").removeClass("tm-hidden"),t.addClass("alt").text(t.attr("data-add")))),t.data("inittriggeredonce",1),o.find($t.associatedEpoCart).trigger("tm-epo-update")}),a(e).off("change.cpfqtyalt",".cpf-type-product "+$t.associateQtySelector).on("change.cpfqtyalt",".cpf-type-product "+$t.associateQtySelector,function(){var t,e,i,o=a(this),r=o.closest(".cpf_hide_element").find(".tm-epo-field").not(".tc-epo-element-product-li-container .tm-epo-field"),n=o.closest(".tm-quantity-alt").find(".single_add_to_cart_product"),c=r.filter(":checked");if(e=a.epoAPI.math.toInt(o.attr("min")),i=a.epoAPI.math.toInt(o.attr("max")),r.is(":checkbox")&&(0===c.length&&"0"!==o.val()?(r.prop("checked",!0).trigger("change"),c=r.filter(":checked")):"0"===o.val()&&c.length&&r.prop("checked",!1).trigger("change")),r.is(":radio")||r.is(":checkbox")){if(0===c.length)return;t=c.closest(".tmcp-field-wrap").find("input.tm-qty")}else t=r.closest(".tmcp-field-wrap").find("input.tm-qty");0!==t.length&&(e&&t.attr("min",e),i&&t.attr("max",i),o.closest(".tc-epo-element-product-container").find($t.associatedEpoCart).trigger("tm-epo-update"),t.val(o.val()),r.trigger("change.cpfproduct",{forced:2}),n.data("inittriggeredonce")&&("0"===o.val()?n.removeClass("alt"):n.addClass("alt")),n.trigger("cpfqtybutton"))}),y.off("tm-epo-update").on("tm-epo-update",function(t){var e,i,o,s,p,h,b,x,k,C,I,S,j,O,T,N,L,U,J,R,Q,Z,W,$,X,G,V,Y,K,et,nt,ct,lt,dt,st,pt,mt,_t,ft,ut,gt,ht,vt,yt,bt,wt,xt,kt,Ft,Ct=a(this),It=!1,At=0,Pt=0,St=0,qt=!1,Et=1,jt=!0,Ot=[],Tt=0,zt=0,Nt={},Bt=0,Ht=!1,Lt=!1,Mt="",Ut=!1,Jt=!1,Rt="",Qt="";if((Y=t.epoObject?a.extend(!0,{},t.epoObject):a.extend(!0,{},c))&&!Y.noEpoUpdate){if(e=a.epoAPI.applyFilter("tc_get_bundleid",Ct.attr("data-product_id"),Ct),o=v.attr("data-price-override"),i=f(Ct),s=m(Ct),Y.associated_connect&&1===Y.associated_connect.length&&(i=parseFloat(Y.main_product.find($t.associateQtySelector).not($t.associatedEpoSelector+" "+$t.qtySelector).last().val())),t.stopImmediatePropagation(),It=a.epoAPI.applyFilter("tcGetCurrentProductPrice",tt(v,!0),y,v),At=It,It=a.epoAPI.applyFilter("tcCalculateCurrentProductPrice",It,{epo:Y,alternativeCart:u,cart:Ct,main_product:q}),Number.isFinite(i)||(v.attr("data-is-sold-individually")||0===_(Ct).length)&&(i=1),Nt={qty:i,product_price:It},v.data("tc_totals_ob",Nt),t.norules?t.norules&&(1===t.norules&&it(Y,t.element),a.tcepo.lateFieldsPrices[D]=[],g.find(".tm-epo-late-field").toArray().forEach(function(t){(t=a(t)).data("price",0),a.tcepo.lateFieldsPrices[D].push({setter:t,price:t.data("tm-price-for-late"),original_price:t.data("tm-original-price-for-late"),bundleid:e,pricetype:at(Y,t)})})):ot(Y,Ct),Y.associated_connect&&1===Y.associated_connect.length&&(gt=Y.associated_connect,Y.associated_connect.is("select")&&(gt=Y.associated_connect.find("option:selected"))),!1===It)return v.empty(),void(Y.associated_connect&&1===Y.associated_connect.length&&P(gt.closest(".tmcp-field-wrap").find(".tc-price").not($t.associatedEpoSelector+" .tc-price"),0,"",0,""));Et=a.epoAPI.applyFilter("tcAlterElementQty",Et,{epo:Y,alternativeCart:u,currentCart:y,main_product:q}),void 0!==y.data("per_product_pricing")&&(jt=y.data("per_product_pricing")),jt=a.epoAPI.applyFilter("tcCalculatePerProductPricing",jt,{epo:Y,alternativeCart:u,cart:Ct,main_product:q}),H&&"woocommerce_before_add_to_cart_button"===Xt.tm_epo_totals_box_placement&&("variable"!==w&&"variable-subscription"!==w||v.data("moved_inside")||v.data("moved_inside",1)),re.trigger("tcEpoBeforeOptionPriceCalculation",{epo:Y,alternativeCart:Y,this_product_type:w,cart:Ct,totalsHolder:v}),Pt=(ut=Dt(Y,g,".tmcp-field",Pt,St,Ot,qt)).total,St=ut.original_total,Ot=ut.floatingBoxData,qt=ut.showTotal,Ft=ut.elementsLength,v.data("tm-floating-box-data",Ot),Tt=(ut=Dt(Y,g,".tmcp-fee-field",Tt,zt,Ot,qt)).total,zt=ut.original_total,Ot=ut.floatingBoxData,qt=ut.showTotal,Ft+=ut.elementsLength,re.trigger("tcEpoAfterOptionPriceCalculation",{epo:Y,alternativeCart:Y,this_product_type:w,cart:Ct,totalsHolder:v}),a.tcepo.oneOptionIsSelected[D]=qt,M(q,Ft,a.tcepo.oneOptionIsSelected[D]),qt=a.epoAPI.applyFilter("tcFinalTotalsBoxVisibility",qt,{epo:Y,alternativeCart:u,cart:Ct,main_product:q,totalsHolder:v,this_epo_totals_container:z}),Tt>0&&(qt=!0),u&&!jt&&(qt=!1),"pxq"!==F&&"hide"!==F&&"normal"!==F&&"options"!==F&&"final"!==F&&"hideoptionsifzero"!==F&&"optionsiftotalnotzero"!==F||(qt=!0),i>1&&(qt=!0),"variable"!==w&&"variable-subscription"!==w||a.epoAPI.math.toFloat(s)||(qt=!1),p=Pt,h=St,b=rt(Y,parseFloat(It),parseFloat(p),parseFloat(h),e,v),"disable"===F&&(qt=!1),"disable_change"!==F&&"yes"!==Xt.tm_epo_change_variation_price&&"yes"!==Xt.tm_epo_change_original_price||(qt=!0),Y.is_associated&&!jt&&(qt=!1),"yes"===Xt.tm_epo_total_price_as_unit_price&&(i=1),O=parseFloat(It*i),Xt.extraFee&&(Bt=parseFloat(Xt.extraFee),Number.isFinite(Bt)||(Bt=0)),!1!==(N=a.epoAPI.applyFilter("tcCalculateFinalProductPrice",!1,{alternativeCart:u,product_price:It,product_total_price:O,v_product_price:At,tm_set_tax_price:r,main_product:q,totalsHolder:v,cartQty:i}))&&"object"==typeof N&&Object.prototype.hasOwnProperty.call(N,"productPrice")&&Object.prototype.hasOwnProperty.call(N,"productTotalPrice")&&(It=N.productPrice,O=N.productTotalPrice),p+=b[0],p=a.epoAPI.applyFilter("tc_adjust_options_price_per_unit",p,O),Pt=parseFloat(p*i*Et),Pt=a.epoAPI.applyFilter("tc_adjust_options_total_price",Pt,i,Et,p),h+=b[1],h=a.epoAPI.applyFilter("tc_adjust_options_price_per_unit",h,O),St=parseFloat(h*i*Et),St=a.epoAPI.applyFilter("tc_adjust_options_total_price",St,i,Et,h),"1"===o&&parseFloat(Pt)>0&&(It=0,At=0,O=parseFloat(It*i)),O=a.epoAPI.applyFilter("tc_adjust_product_total_price_without_options",O),Pt=a.epoAPI.applyFilter("tcAdjustTotal",Pt,{epo:Y,totalsHolder:v,cart:Ct,main_product:q}),St=a.epoAPI.applyFilter("tcAdjustTotal",St,{epo:Y,totalsHolder:v,cart:Ct,main_product:q}),K=Pt=parseFloat(a.epoAPI.applyFilter("tc_adjust_total",Pt,v)),et=p,lt=Tt=parseFloat(a.epoAPI.applyFilter("tc_adjust_totals_fee",Tt,v)),st=L=Pt+Tt,nt=St=parseFloat(a.epoAPI.applyFilter("tc_adjust_total",St,v)),ct=h,dt=zt=parseFloat(a.epoAPI.applyFilter("tc_adjust_totals_fee",zt,v)),pt=U=St+zt,mt=O,_t=parseFloat(O+L+Bt),ft=parseFloat(O+U+Bt),It=r(It,v),O=r(O,v),Pt=r(Pt,v),p=r(p,v),Tt=r(Tt,v),L=r(L,v),St=r(St,v),h=r(h,v),zt=r(zt,v),U=r(U,v),Bt=r(Bt,v),x=A(Pt,v,!0,!0),C=A(Tt,v,!0,!0),k=A(St,v,!0,!0),I=A(zt,v,!0,!0),J=O,O=parseFloat(O+L+Bt),O=a.epoAPI.applyFilter("tc_adjust_product_total_price",O,L,Bt,Pt,Tt,v),T=parseFloat(O+U+Bt),T=a.epoAPI.applyFilter("tc_adjust_product_total_price",O,U,Bt,St,zt,v),S=A(O,v,!0,!0),j=A(T,v,!0,!0),R=A(parseFloat(It+parseFloat(p)),v,!0,!0),Q=A(parseFloat(It+parseFloat(h)),v,!0,!0),"yes"===Xt.tm_epo_fees_on_unit_price&&(R=A(parseFloat(It+parseFloat(p)+parseFloat(parseFloat(Tt)/i)),v,!0,!0),Q=A(parseFloat(It+parseFloat(h)+parseFloat(parseFloat(zt)/i)),v,!0,!0)),"pxq"===F||"final"===F||"hide"===F||0===L&&"hideoptionsifzero"===F||(0===Pt&&"hideoptionsifzero"===F&&"options"!==F||(Ht=!0),0!==Tt&&(Lt=!0)),Bt&&(Ut=!0,Mt=A(Bt,v,!0,!0)),S&&"options"!==F&&"optionsiftotalnotzero"!==F&&(Jt=!0),R=a.epoAPI.applyFilter("tc_adjust_formatted_unit_price",R,It,p,Tt,i),x=a.epoAPI.applyFilter("tc_adjust_formatted_options_total",x,Pt,p,i),C=a.epoAPI.applyFilter("tc_adjust_formatted_fees_total",C,Tt),S=a.epoAPI.applyFilter("tc_adjust_formatted_final_total",S,O,J,L,Bt,i),R=a.epoAPI.applyFilter("tcAdjustFormattedUnitPrice",R,{epo:Y,totalsHolder:v,event:t,productPrice:It,_total:p,total_plcart_fee_options_totals_fee:Tt,cartQty:i}),Q=a.epoAPI.applyFilter("tcAdjustFormattedUnitOriginalPrice",Q,{epo:Y,totalsHolder:v,event:t,productPrice:It,_original_total:h,total_plcart_fee_options_totals_fee:Tt,cartQty:i}),x=a.epoAPI.applyFilter("tcAdjustFormattedOptionsTotal",x,{epo:Y,totalsHolder:v,event:t,total:Pt,_total:p,total_plus_fee:L,extraFee:Bt,cartQty:i}),k=a.epoAPI.applyFilter("tcAdjustFormattedOptionsOriginalTotal",k,{epo:Y,totalsHolder:v,event:t,original_total:St,_original_total:h,original_total_plus_fee:U,extraFee:Bt,cartQty:i}),C=a.epoAPI.applyFilter("tcAdjustFormattedFeesTotal",C,{epo:Y,totalsHolder:v,event:t,cart_fee_options_total:Tt,extraFee:Bt,cartQty:i}),I=a.epoAPI.applyFilter("tcAdjustFormattedFeesOriginalTotal",I,{epo:Y,totalsHolder:v,event:t,cart_fee_options_original_total:zt,extraFee:Bt,cartQty:i}),S=a.epoAPI.applyFilter("tcAdjustFormattedFinalTotal",S,{epo:Y,totalsHolder:v,event:t,product_total_price:O,product_total_price_without_options:J,total_plus_fee:L,extraFee:Bt,cartQty:i}),j=a.epoAPI.applyFilter("tcAdjustFormattedFinalOriginalTotal",j,{epo:Y,totalsHolder:v,event:t,product_total_original_price:T,product_total_price_without_options:J,original_total_plus_fee:U,extraFee:Bt,cartQty:i}),Nt={qty:i,product_price:It,raw_product_price:At,late_total_prices:b,late_total_price:r(b[0],v),late_total_original_price:r(b[1],v),raw_options_price_per_unit:et,raw_options_total_price:K,raw_cart_fee_options_total_price:lt,raw_total_plus_fee:st,raw_options_original_price_per_unit:ct,raw_options_original_total_price:nt,raw_cart_fee_options_original_total_price:dt,raw_original_total_plus_fee:pt,raw_product_total_price:_t,raw_product_total_original_price:ft,raw_product_total_price_without_options:mt,options_price_per_unit:p,options_total_price:Pt,cart_fee_options_total_price:Tt,total_plus_fee:L,options_original_price_per_unit:h,options_original_total_price:St,cart_fee_options_total_original_price:zt,original_total_plus_fee:U,product_total_price:O,product_total_original_price:T,product_total_price_without_options:J,formatted_unit_price:R,formatted_options_total:x,formatted_fees_total:C,formatted_final_total:S,formatted_unit_original_price:Q,formatted_options_original_total:k,formatted_fees_original_total:I,formatted_final_original_total:j,formatted_extra_fee:Mt,show_options_total:Ht,show_fees_total:Lt,show_extra_fee:Ut,show_final_total:Jt,unit_price:Xt.i18n_unit_price,show_unit_price:"yes"===Xt.tm_epo_show_unit_price,options_total:Xt.i18n_options_total,fees_total:Xt.i18n_fees_total,extra_fee:Xt.i18n_extra_fee,final_total:Xt.i18n_final_total},Nt=a.epoAPI.applyFilter("tc_adjust_tc_totals_ob",Nt,{epo_object:Y,showTotal:qt,epoHolder:g,totalsHolder:v,tm_set_price:l,tm_set_price_totals:A,product_total_price:O,product_price:It,qty:i}),Y.tc_totals_ob=Nt,void 0!==Nt.showTotal&&(qt=Nt.showTotal),Z=a.epoAPI.template.html($t.templateEngine.tc_final_totals,Nt),v.data("tm-html",Z),v.data("tc_totals_ob",Nt),Y.associated_connect&&1===Y.associated_connect.length&&("1"===Y.associated_connect.attr("data-no-price")?(ht=0,vt=0,yt=0,bt=0,wt="",xt="",P(gt.closest(".tmcp-field-wrap").find(".tc-price").not($t.associatedEpoSelector+" .tc-price"),ht,wt,yt,xt)):(ht=Nt.product_price+Nt.options_price_per_unit+Nt.cart_fee_options_total_price/Nt.qty,vt=Nt.raw_product_price+Nt.raw_options_price_per_unit+Nt.raw_cart_fee_options_total_price/Nt.qty,yt=Nt.product_price+Nt.options_original_price_per_unit+Nt.cart_fee_options_total_original_price/Nt.qty,bt=Nt.raw_product_price+Nt.raw_options_original_price_per_unit+Nt.raw_cart_fee_options_original_total_price/Nt.qty,wt=l(ht,Y.this_epo_totals_containe,!1,!1,gt),xt=l(yt,Y.this_epo_totals_containe,!1,!1,gt),P(gt.closest(".tmcp-field-wrap").find(".tc-price").not($t.associatedEpoSelector+" .tc-price"),ht,wt,yt,xt),Y.associated_connect.data("tm-quantity",Nt.qty),Y.associated_connect.data("tm-quantity")&&(ht*=parseFloat(Y.associated_connect.data("tm-quantity")),vt*=parseFloat(Y.associated_connect.data("tm-quantity")),yt*=parseFloat(Y.associated_connect.data("tm-quantity")),bt*=parseFloat(Y.associated_connect.data("tm-quantity"))),wt=l(ht,Y.this_epo_totals_containe,!1,!1,gt),xt=l(yt,Y.this_epo_totals_containe,!1,!1,gt)),Y.associated_connect.data("price_set",1),gt.data("associated_price_set",1),gt.data("price_set",1),gt.data("raw_price",vt),gt.data("raw_original_price",bt),gt.data("price",r(ht,Y.this_epo_totals_containe,gt)),gt.data("original_price",r(yt,Y.this_epo_totals_containe,gt)),Y.associated_connect.data("price-changed",1),setTimeout(function(){Y.mainEpoObject.main_cart.trigger({type:"tm-epo-update",norules:2})},20)),re.trigger("tcEpoAfterCalculateTotals",{epo:Y,alternativeCart:u,this_product_type:w,cart:Ct,bundleid:e,totalsObject:Nt,main_product:q,per_product_pricing:jt}),W=a.epoAPI.applyFilter("hide_native_price",!0),qt&&i>0?("disable_change"!==F&&"yes"!==Xt.tm_epo_change_variation_price||(!0===W&&"disable"!==F&&"disable_change"!==F?B(Ct).hide():B(Ct).show()),"disable"===F||"disable_change"===F||("hideifoptionsiszero"===F||"optionsiftotalnotzero"===F)&&0===L||"hide"===F?(Z="",v.html(Z)):(v.html(Z),re.trigger("tc-totals-container",{epo:Nt,totals_holder:v,data:{epo_object:Y,tm_set_price:l,tm_set_price_totals:A,product_total_price:O,product_price:It,qty:i},tm_epo_js:Xt})),S&&O>=0&&($=B(Ct),X=n(O),G="1"===o&&parseFloat(U+Bt)>0?parseFloat(U+Bt):parseFloat(parseFloat(v.data("regular-price")*i)+U+Bt),Xt.customer_price_format&&(Rt=Xt.customer_price_format_wrap_start,Qt=Xt.customer_price_format_wrap_end,X=(V=Xt.customer_price_format).replace("__PRICE__",X).replace("__CODE__",Xt.current_currency),v.data("is-on-sale")||(G=V.replace("__PRICE__",G).replace("__CODE__",Xt.current_currency))),X=a.epoAPI.applyFilter("tc_adjust_native_price",X,O),G=n(G=r(G=a.epoAPI.applyFilter("tc_adjust_native_regular_price",G,O),v)),"disable_change"!==F&&"yes"!==Xt.tm_epo_change_variation_price||(v.data("is-on-sale")?$.html(a.epoAPI.util.decodeHTML(a.epoAPI.template.html($t.templateEngine.tc_formatted_sale_price,{price:G,sale_price:X,customer_price_format_wrap_start:Rt,customer_price_format_wrap_end:Qt}))).show():$.html(a.epoAPI.util.decodeHTML(a.epoAPI.template.html($t.templateEngine.tc_formatted_price,{price:X,customer_price_format_wrap_start:Rt,customer_price_format_wrap_end:Qt}))).show()),"disable_change"!==F&&"yes"!==Xt.tm_epo_change_original_price||(kt=Y.associated_connect?Y.main_product.find($t.associatedNativeProductPriceSelector):a($t.nativeProductPriceSelector),u&&0!==q.find(".cpf-bto-price").length||(void 0===kt.data("tc-original-html")&&kt.data("tc-original-html",kt.html()),O>0?!v.data("is-on-sale")||"1"===o&&parseFloat(U+Bt)>0?kt.html(a.epoAPI.util.decodeHTML(a.epoAPI.template.html($t.templateEngine.tc_formatted_price,{price:X,customer_price_format_wrap_start:Rt,customer_price_format_wrap_end:Qt}))).show():kt.html(a.epoAPI.util.decodeHTML(a.epoAPI.template.html($t.templateEngine.tc_formatted_sale_price,{price:G,sale_price:X,customer_price_format_wrap_start:Rt,customer_price_format_wrap_end:Qt}))).show():w&&"composite"!==w&&(Y.associated_connect?kt.html(a.epoAPI.util.decodeHTML(Xt.assoc_current_free_text)):kt.html(a.epoAPI.util.decodeHTML(Xt.current_free_text)))),re.trigger("tcEpoMaybeChangePriceHtml",{epo:Y,alternativeCart:u,this_product_type:w,cart:Ct,bundleid:e,totalsObject:Nt,main_product:q,nativePrice:X}))),u?E.trigger({type:"tm-epo-update",norules:1}):z.data("is_active",!0)):(Y.associated_connect&&(kt=Y.main_product.find($t.associatedNativeProductPriceSelector)).html(kt.data("tc-original-html")),B(Ct).each(function(){var t=a(this);t.data("tm-original-html")?t.html(t.data("tm-original-html")):t.data("tm-original-html",t.html())}),0===At&&"yes"===Xt.tm_epo_remove_free_price_label?B(Ct).hide():"disable_change"!==F&&"yes"!==Xt.tm_epo_change_variation_price||!0===W&&"disable"!==F&&"disable_change"!==F||B(Ct).show(),v.empty(),u&&E.trigger({type:"tm-epo-update",norules:1})),E.trigger("tm-epo-after-update",{container:d}),re.trigger("tc-epo-after-update",{epo:Nt,totals_holder:v,data:{epo_object:Y,add_late_fields_prices:rt,tm_set_price:l,tm_set_price_totals:A,product_total_price:O,product_price:It,qty:i,bundleid:e,currentCart:y},tm_epo_js:Xt})}}),"variable"!==w&&"variable-subscription"!==w||((C=g.find(".tm-epo-variation-section").first()).find(".tm-epo-reset-variation").off("click.cpfv").on("click.cpfv",function(){var t=a(this),e=a.epoAPI.dom.id(t.attr("data-tm-for-variation")),i=t.closest(".cpf-type-variations"),o=t.closest(".cpf_hide_element").find(".tm-epo-variation-element"),r=t.closest(".cpf_hide_element").find(".tmcp-field-wrap");o.removeAttr("checked").prop("checked",!1),r.removeClass("tc-active"),x.find("[data-attribute_name='attribute_"+e+"']").val("").trigger("change"),x.find("[data-attribute_name='attribute_"+e+"']").trigger("focusin"),q.find(".cpf-type-variations").not(i).each(function(t,e){x.find("[data-attribute_name='attribute_"+a.epoAPI.dom.id(a(e).find(".tm-epo-variation-element").first().attr("data-tm-for-variation"))+"']").trigger("focusin")}),t.blur(),x.trigger("woocommerce_update_variation_values_tmlogic")}),C.find("input.tm-epo-variation-element,input.tm-epo-variation-element + span").off("mouseup.cpfv").on("mouseup.cpfv",function(){var t,e=a(this);e.is("span")&&(e=e.prev("input")),e.attr("disabled")&&x.find(".reset_variations").trigger("click"),t=a.epoAPI.dom.id(e.attr("data-tm-for-variation")),x.find("[data-attribute_name='attribute_"+t+"']").trigger("focusin")}),C.off("click."+W+".tmepo",".reset_variations, .tc-epo-element-variable-reset-variations").on("click."+W+".tmepo",".reset_variations, .tc-epo-element-variable-reset-variations",{_epoObject:c},function(t){var e;"disable_change"!==F&&"yes"!==Xt.tm_epo_change_original_price||u&&0!==q.find(".cpf-bto-price").length||(e=t.data._epoObject.associated_connect?t.data._epoObject.main_product.find($t.associatedNativeProductPriceSelector):a($t.nativeProductPriceSelector)).data("tc-original-html")&&e.html(e.data("tc-original-html")),x.find(".variations .reset_variations, .tc-epo-element-variable-reset-variations").first().trigger("click")}),C.find(".tm-epo-variation-element").off("change.cpfv tm_epo_variation_element_change").on("change.cpfv tm_epo_variation_element_change",function(t){var e,i=a(this),o=a.epoAPI.dom.id(i.attr("data-tm-for-variation")),r=i.val(),n=i.closest(".cpf-type-variations"),c=x.find("[data-attribute_name='attribute_"+o+"']");t&&t.type&&"tm_epo_variation_element_change"===t.type||(e=!1,c.each(function(){if(this.value===r)return e=!0,!1}),e||c.trigger("focusin"),c.val(r).trigger("change")),r||c.trigger("focusin"),q.find(".cpf-type-variations").not(n).each(function(){x.find("#"+a.epoAPI.dom.id(a(this).find(".tm-epo-variation-element").first().attr("data-tm-for-variation"))).trigger("focusin")}),i.blur(),x.trigger("woocommerce_update_variation_values_tmlogic")}).off("focusin.cpfv").on("focusin.cpfv",function(){var t,e=a(this);e.is("select")&&(t=a.epoAPI.dom.id(e.attr("data-tm-for-variation")),x.find("[data-attribute_name='attribute_"+t+"']").trigger("focusin"),x.trigger("woocommerce_update_variation_values_tmlogic"))}),x.off($+"found_variation.tmepo tm_fix_stock",".single_variation_wrap").on($+"found_variation.tmepo tm_fix_stock",".single_variation_wrap",function(){T(a(this),d)}),x.off($+"found_variation.tmepo").on($+"found_variation.tmepo",function(t,e){var i=a(this);v.data("is-on-sale",e.tc_is_on_sale),v.data("regular-price",e.display_regular_price),re.trigger("tm-epo-found-variation",{epo:c,totalsHolder:v,totalsHolderContainer:h,currentCart:y,variationForm:i,variation:e}),zt({totalsHolder:v,totalsHolderContainer:h,currentCart:y,variationForm:i,variation:e}),T(i,d)}).off($+"hide_variation.tmepo").on($+"hide_variation.tmepo",{_epoObject:c},function(t){var e;"disable_change"!==F&&"yes"!==Xt.tm_epo_change_original_price||u&&0!==q.find(".cpf-bto-price").length||(e=t.data._epoObject.associated_connect?t.data._epoObject.main_product.find($t.associatedNativeProductPriceSelector):a($t.nativeProductPriceSelector)).data("tc-original-html")&&e.html(e.data("tc-original-html")),v.data("price",!1),v.removeData("tcprice"),y.trigger({type:"tm-epo-update",norules:2})}).off($+"check_variations.tmepo").on($+"check_variations.tmepo",function(){var t={},e=0,i=C.find(".reset_variations");x.find(".variations select, .tc-epo-variable-product-selector").each(function(){var i=a(this).data("attribute_name")||a(this).attr("name"),o=a(this).val()||"";o.length>0&&e++,t[i]=o}),e>0?"hidden"===i.css("visibility")&&i.css("visibility","visible").hide().fadeIn():i.css("visibility","hidden")}).trigger($+"check_variations"),gt(c,d,Z,q,g)),g.find("select.tm-epo-field").trigger("tm-select-change-html"),g.find(".tm-quantity .tm-qty").trigger("change.cpf",{init:1}),g.find(".tm-quantity").trigger("showhide.cpfcustom"),g.find(".tm-has-clearbutton .tm-epo-field:checked").trigger("cpfclearbutton"),nt(c),re.on("tm-do-epo-update",function(){y.trigger({type:"tm-epo-update"})}),re.trigger("tm-epo-init-events",{epo:{epo_id:U,form:c.form,currentCart:y,cart_container:d,epo_holder:g,totals_holder_container:h,totals_holder:v,main_cart:E,main_epo_inside_form:H,product_id_selector:Q,epo_id_selector:L,product_id:I,this_epo_container:j,this_totals_container:O,this_epo_totals_container:z}}),re.trigger("epoEventHandlers",{epo:c,currentCart:y,cartContainer:d,qtyElement:k,epoHolder:g,totalsHolderContainer:h,totalsHolder:v,variationForm:x,variation_id_selector:b,main_epo_inside_form:H,this_product_type:w,get_price_excluding_tax:o,get_price_including_tax:i}),"disable"!==F&&"disable_change"!==F&&"hide"!==F&&h.addClass("tc-show"),re.trigger("epo_options_before_visible"),"yes"===Xt.tm_epo_progressive_display?setTimeout(function(){g.css("opacity",0).addClass("tc-show").animate({opacity:1},$t.epoAnimationDelay,"easeOutExpo",function(){re.trigger("epo_options_visible"),re.trigger("tmlazy")})},$t.epoDelay):(g.addClass("tc-show"),re.trigger("epo_options_visible"),re.trigger("tmlazy")),q.addClass("tc-init")}function Ht(t){var e=t.variations_form,i=t.main_cart,o=t.this_epo_container,r=t.is_associated?"tc_variation_form.cpf":"wc_variation_form.cpf";e.off(r).on(r,function(){e.data("epo_loaded")||(F(o),C(o),a.tcepo.lateFieldsPrices[t.epoEventId]=[],Bt(t),mt(t),It(t),t.noEpoUpdate=!1,setTimeout(function(){x(o),i.trigger({type:"tm-epo-update",rules:"init"})},10),e.data("epo_loaded",!0))}),ie&&e.trigger(r),re.trigger("epo-after-init",{epo:t})}function Lt(t){var e=requestAnimationFrame(function(){Lt(t)}),a=t.variations_form,i=a.data("bound"),o=t.is_associated?"tc_variation_form.cpf":"wc_variation_form.cpf";i&&(cancelAnimationFrame(e),Ht(t),a.trigger(o))}function Mt(t,e,i,o,r){var n=a.extend(!0,{},t),c=o.attr("data-product-id"),l=o.attr("data-epo-id"),d=".tm-product-id-"+c,s="[data-epo-id='"+l+"']",p="p"+c+"e"+l;t.isManual=!0,a.tcepo.formSubmitEvents[p]=[],a.tcepo.errorObject[p]=!1,a.tcepo.initialActivation[p]=!1,t.product_id=c,t.product_id_selector=d,t.epo_id=l,t.epo_id_selector=s,t.epoEventId=p,t.noEpoUpdate=!0,t.thisForm=e,ct(),r.find(".tm-collapse").tmtoggle(),r.find(".tm-section-link").tmsectionpoplink(),Et(e),Pt(e),lt(e),dt(o.find(".tm-color-picker")),st(o.find(".tc-lightbox-image").not(".tm-extra-product-options-variations .radio_image")),F(o),C(o),x(o),a.tcToolTip(e.find(".tm-tooltip")),Bt(t,e,i),t.noEpoUpdate=!1,i.trigger({type:"tm-epo-update",norules:2}),setTimeout(function(){t.main_cart.trigger({type:"tm-epo-update",epoObject:n,norules:1})},200),T(i,e)}function Ut(e,i,o,r,n,c,l){var d,s,p,m,_,f,u,g,h,v=!1,y=!1,b=!1,w=void 0!==o,k=!1,I=a(".variation_form_section .variations-table").length>0,A=!1;return!(!(e=a(e)).is(".tc-init")||l)||(ce=i?e:a(t),re.trigger("tm-epo-init-start"),w||e.is(".product")&&(k=!0,w=oe.find($t.epoSelector).length),w||"no"!==Xt.tm_epo_enable_final_total_box_all||e.is(".tm-no-options-composite")?(k&&(re.trigger("tm-epo-init-no-options"),!e.is(".product")||e.is(".tm-no-options-pxq")||e.is(".tm-no-options-composite")||(e=oe)),o||((s=e.find($t.addToCartSelector).last()).length>0?o=s.val():(s=a(".tc-totals-form.tm-totals-form-main"),o=s.attr("data-product-id")),o||(o="")),r||(r=parseInt(e.find("input.tm-epo-counter").last().val(),10),Number.isFinite(r)||(r="")),p=".tm-product-id-"+o,m="[data-epo-id='"+r+"']",_=a(".tc-extra-product-options"+p+m),f=a(".tc-totals-form"+p+m),u=a(".tc-epo-totals"+p+m),h=e.find(".variations_form").not(".composite_component .variations_form").first(),d="p"+o+"e"+r,h&&h.attr("data-product_id")&&h.attr("data-product_id")!==o&&(h=e.find(".variations_form[data-product_id='"+o+"']")),0===(v=N(e,e,"form",o)).length&&(e.is(".tc-shortcode-wrap")?v=N(f,f,".tc-totals-form",o):e.is(".tc-epo-element-product-container")&&(0===(v=e.find($t.associatedEpoCart)).length&&0===(v=_.parent($t.associatedEpoSelector)).length&&(v=e.find(".tc-epo-element-product-container-right")),A=!0)),A&&0===h.length&&e.is(".variations_form")&&(h=e),a.tcepo.formSubmitEvents[d]=[],a.tcepo.errorObject[d]=!1,a.tcepo.initialActivation[d]=!1,v.find($t.epoSelector).length>0&&(y=!0),v.find(".tc-totals-form").length>0&&(b=!0),b||(a.tcepo.formSubmitEvents[d][a.tcepo.formSubmitEvents[d].length]={trigger:function(){return!0},on_true:function(){var t=a(".tc-totals-form.tm-product-id-"+o+"[data-epo-id='"+r+"']").tcClone(),e=a('<div class="tm-hidden tm-formepo-normal"></div>');return v.find(".tm-formepo-normal").remove(),e.append(t),v.append(e),!0},on_false:function(){setTimeout(function(){a(".tm-formepo-normal").remove()},100)}}),y||(a.tcepo.formSubmitEvents[d][a.tcepo.formSubmitEvents[d].length]={trigger:function(){return!0},on_true:function(){var t=a($t.epoSelector+".tm-product-id-"+o+"[data-epo-id='"+r+"']").tcClone().addClass("formepo"),e=a('<div class="tm-hidden tm-formepo"></div>');return v.find(".tm-formepo").remove(),e.append(t),v.append(e),!0},on_false:function(){setTimeout(function(){a(".tm-formepo").remove()},100)}}),g={main_product:e,main_cart:v,epo_id:r,form:D(e),main_epo_inside_form:y,product_id_selector:p,epo_id_selector:m,product_id:o,this_epo_container:_,this_totals_container:f,this_epo_totals_container:u,qtySelector:$t.qtySelector,manualInitEPO:Mt,epoEventId:d,variations_form:h,has_epo:w,is_quickview:i,is_associated:A,is_epo_shortcode:_.is(".tc-shortcode"),mainEpoObject:c,associated_connect:n,noEpoUpdate:!0},a(g.form).data("epo_object",g),v.data("product_id",o).data("epo_id",r).data("product_id_selector",p).data("epo_id_selector",m),ft(g),_t(g),Et(_),Pt(_),H(),a.tcToolTip(_.find(".tm-tooltip")),_.find(".tm-collapse").tmtoggle(),_.find(".tm-section-link").tmsectionpoplink(),l&&_.addClass("reactivate"),h.length>0?(l&&h.data("epo_loaded",!1),u.data("price",!1),I?Lt(g):Ht(g)):(setTimeout(function(){F(_),C(_),x(_),a.tcepo.lateFieldsPrices[d]=[],Bt(g),mt(g),It(g),re.trigger("epo-after-init-in-timeout",{epo:g}),v.trigger("tm-epo-check-dpd"),g.noEpoUpdate=!1,v.trigger({type:"tm-epo-update",rules:"init"})},20),re.trigger("epo-after-init",{epo:g})),ct(),lt(_),dt(_.find(".tm-color-picker")),st(_.find(".tc-lightbox-image").not(".tm-extra-product-options-variations .radio_image")),ut(g),At(g),A||(L(u,i,v),Tt(g),M(e,g,a.tcepo.oneOptionIsSelected[d])),re.on("cpflogicdone",function(){nt(g)}),re.trigger("tm-epo-init-end",{epo:g}),g):void re.trigger("tm-epo-init-end-no-options"))}function Jt(t,e){var i=a(t),o=i.attr("data-product-id"),r=i.attr("data-epo-id"),n=i.parent();n.is("form")||(n=i.closest("form")).is("form")||(n=i.parent()),Ut(n=n.parent(),!1,o,r,void 0,void 0,e)}function Rt(){var e,i;"no"===Xt.tm_epo_no_lazy_load&&a.extend(a.lazyLoadXT,{autoInit:!1,selector:"img.tmlazy",srcAttr:"data-original",visibleOnly:!1,updateEvent:a.lazyLoadXT.updateEvent+" tmlazy"}),(e=a(".tm-no-options-pxq, .tm-no-options-composite")).length>0&&e.each(function(t,e){Ut(a(e),!1)}),setTimeout(function(){try{(i=a($t.epoSelector).not($t.associatedEpoSelector+" "+$t.epoSelector+", .tm-no-options-pxq, .tm-no-options-composite, .wc-product-table "+$t.epoSelector)).length>0&&i.each(function(){var t,e=a(this),i=e.attr("data-product-id"),o=e.attr("data-epo-id"),r=!1,n=!1;0===(t=e.closest(".tc-after-shop-loop.tm-has-options")).length?0===(t=a($t.addToCartSelector+"[value='"+i+"']").closest("form,.cart").first().parent()).length&&0===(t=a($t.tcAddToCartSelector+"[value='"+i+"']").closest("form,.cart").first().parent()).length&&0===(t=e.closest("form,.cart").first().parent(".tm-has-options")).length&&(e.is(".tc-shortcode")&&(t=e.wrap('<div class="tc-shortcode-wrap tc-wrap-'+o+'"></div>'),t=e.parent()),t.length>0&&(n=!0)):n=!0,t.length>0&&(n&&(r=!0,e.closest("form,.cart").first().append(a('<input name="add-to-cart" value="'+i+'" type="hidden" />')),e.closest("form,.cart").first().append(a('<input type="hidden" value="" class="variation_id" name="variation_id">'))),t.is("form")&&(t=t.parent()),Ut(t,r,i,o))})}catch(e){t.console.log(e),Qt=e}},1)}var Qt,Zt,Wt,$t={},Xt=t.TMEPOJS,Gt=t.wp,Vt=t.TMEPOQTRANSLATEXJS,Yt=t.noUiSlider,Kt=t.ClipboardEvent,te=t.DataTransfer,ee=[],ae=!1,ie=!1,oe=a("body"),re=a(t),ne=a(e),ce=a(t),le=t.tcmexp,de=t._;Xt&&Gt&&("no"===Xt.tm_epo_no_lazy_load&&a.lazyLoadXT&&a.extend(a.lazyLoadXT,{autoInit:!1,updateEvent:a.lazyLoadXT.updateEvent+" tmlazy"}),$t.localInputDecimalSeparator=""===Xt.tm_epo_global_input_decimal_separator?Xt.currency_format_decimal_sep:a.epoAPI.locale.getSystemDecimalSeparator(),$t.localDecimalSeparator=""===Xt.tm_epo_global_displayed_decimal_separator?Xt.currency_format_decimal_sep:a.epoAPI.locale.getSystemDecimalSeparator(),$t.localThousandSeparator=""===Xt.tm_epo_global_displayed_decimal_separator?Xt.currency_format_thousand_sep:a.epoAPI.locale.getSystemDecimalSeparator(),$t.epoDelay=Xt.tm_epo_start_animation_delay?Xt.tm_epo_start_animation_delay:t.tc_epo_delay?t.tc_epo_delay:500,$t.epoAnimationDelay=Xt.tm_epo_animation_delay?Xt.tm_epo_start_animation_delay:t.tc_epo_animation_delay?t.tc_epo_animation_delay:500,$t.getElementFromFieldCache=[],$t.epoSelector=".tc-extra-product-options",$t.associatedEpoSelector=".tc-extra-product-options-inline",$t.associatedEpoCart=".tc-epo-element-product-container-cart",$t.addToCartSelector="input[name='add-to-cart']",$t.tcAddToCartSelector="input.tc-add-to-cart",$t.qtySelector="input.qty,input[name='quantity'],select.qty,.drop-down-button #qty,.plus-minus-button #qty,.slider-input #amount",$t.associateQtySelector="input.tm-qty-alt",$t.addToCartButtonSelector=".add_to_cart_button, .single_add_to_cart_button",$t.compositeSelector=".bto_item,.component",$t.nativeProductPriceSelector=".woocommerce div.product p.price",$t.associatedNativeProductPriceSelector=".product-price span.price",$t.templateEngine=a.epoAPI.applyFilter("tc_adjust_templateEngine",{price:Gt.template("tc-price"),sale_price:Gt.template("tc-sale-price"),tc_chars_remanining:Gt.template("tc-chars-remanining"),tc_final_totals:Gt.template("tc-final-totals"),tc_floating_box:Gt.template("tc-floating-box"),tc_floating_box_nks:Gt.template("tc-floating-box-nks"),tc_formatted_price:Gt.template("tc-formatted-price"),tc_formatted_sale_price:Gt.template("tc-formatted-sale-price"),tc_lightbox:Gt.template("tc-lightbox"),tc_lightbox_zoom:Gt.template("tc-lightbox-zoom"),tc_section_pop_link:Gt.template("tc-section-pop-link"),tc_upload_messages:Gt.template("tc-upload-messages")}),a.tcAPI=function(){return $t},a.tcAPIGet=function(t){return $t[t]},a.tcAPISet=function(t,e){$t[t]=e},a.tc_validator&&a.extend(a.tc_validator.messages,{required:Xt.tm_epo_global_validator_messages.required,email:Xt.tm_epo_global_validator_messages.email,url:Xt.tm_epo_global_validator_messages.url,number:Xt.tm_epo_global_validator_messages.number,digits:Xt.tm_epo_global_validator_messages.digits,maxlengthsingle:a.tc_validator.format(Xt.tm_epo_global_validator_messages.maxlengthsingle),maxlength:a.tc_validator.format(Xt.tm_epo_global_validator_messages.maxlength),minlengthsingle:a.tc_validator.format(Xt.tm_epo_global_validator_messages.minlengthsingle),minlength:a.tc_validator.format(Xt.tm_epo_global_validator_messages.minlength),max:a.tc_validator.format(Xt.tm_epo_global_validator_messages.max),min:a.tc_validator.format(Xt.tm_epo_global_validator_messages.min),step:a.tc_validator.format(Xt.tm_epo_global_validator_messages.step),lettersonly:a.tc_validator.format(Xt.tm_epo_global_validator_messages.lettersonly),lettersspaceonly:a.tc_validator.format(Xt.tm_epo_global_validator_messages.lettersspaceonly),alphanumeric:a.tc_validator.format(Xt.tm_epo_global_validator_messages.alphanumeric),alphanumericunicode:a.tc_validator.format(Xt.tm_epo_global_validator_messages.alphanumericunicode),alphanumericunicodespace:a.tc_validator.format(Xt.tm_epo_global_validator_messages.alphanumericunicodespace)}),a.tc_validator&&(a.tc_validator.addMethod("alphanumeric",function(t,e){return this.optional(e)||/^[a-zA-Z0-9.-]+$/i.test(t)},a.tc_validator.messages.alphanumeric),a.tc_validator.addMethod("lettersonly",function(t,e){return this.optional(e)||/^[a-z]+$/i.test(t)},a.tc_validator.messages.lettersonly),a.tc_validator.addMethod("lettersspaceonly",function(t,e){return this.optional(e)||/^[a-z,\u0020]+$/i.test(t)},a.tc_validator.messages.lettersspaceonly),a.tc_validator.addMethod("alphanumericunicode",function(t,e){return this.optional(e)||/^[\u0030-\u0039\u0041-\u005A\u0061-\u007A\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF\u0100-\u0148\u014A-\u017F\u0180-\u01BF\u01C4-\u024F\u1E02-\u1EF3\u0370-\u03FF\u0400-\u04FF\u3040-\u309f\u30a0-\u30ff\u4e00-\u9faf\u3400-\u4dbf]+$/i.test(t)},a.tc_validator.messages.alphanumericunicode),a.tc_validator.addMethod("alphanumericunicodespace",function(t,e){return this.optional(e)||/^[\u0030-\u0039\u0041-\u005A\u0061-\u007A\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF\u0100-\u0148\u014A-\u017F\u0180-\u01BF\u01C4-\u024F\u1E02-\u1EF3\u0370-\u03FF\u0400-\u04FF\u3040-\u309f\u30a0-\u30ff\u4e00-\u9faf\u3400-\u4dbf,\u0020]+$/i.test(t)},a.tc_validator.messages.alphanumericunicodespace)),a.epoAPI.util.escapeSelector=function(){var t=/([!"$%&'()*+,/:;<=>?@[\]^`{|}~])/g;return function(e){return e.replace(t,"\\$1")}}(),a.epoAPI.util.unformat=function(t){var e=a.epoAPI.math.unformat(t,$t.localInputDecimalSeparator),i=parseFloat(e);return Number.isFinite(i)?i:e},a.epoAPI.util.parseParams=function(t,e){return"string"!=typeof t||void 0===t.split?[]:t.split("&").map(function(t){var a={};return!0===e&&(t=decodeURIComponent(t.replace(/\+/g,"%20"))),(t=t.split("=").map(function(t){var e=t.split("?");return e.length>1?e[1]:t})).length>1&&(a[t[0]]=t[1]),a}).filter(function(t){return null!==t}).reduce(function(t,e){return Object.assign({},t,e)},{})},a.tmempty||(a.tmempty=function(t){var e=1===[void 0,null,!1,0,"","0"].filter(function(e){return t===e}).length,a=!1;return"object"==typeof t?a=0===Object.keys(t).filter(function(e){return Object.prototype.hasOwnProperty.call(t,e)}).length:e||a}),a.tmType||(a.tmType=function(t){return Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}),a.is_on_screen||(a.fn.is_on_screen=function(){var e=a(t),i=a.epoAPI.dom.scroll(),o=this.offset(),r={top:i.top,left:i.left};return r.right=r.left+e.width(),r.bottom=r.top+e.height(),o.right=o.left+this.outerWidth(),o.bottom=o.top+this.outerHeight(),!(r.right<o.left||r.left>o.right||r.bottom<o.top||r.top>o.bottom)}),a().tmtoggle||(a.fn.tmtoggle=function(){var e=this,i=!1,o=0;if(0!==e.length)return e.each(function(){var t,e,r,n=a(this);if(!n.data("tm-toggle-init")){if(n.data("tm-toggle-init",1),t=n.find(".tm-toggle"),e=n.find(".tm-collapse-wrap"),r=a(".tm-collapse.tmaccordion").find(".tm-toggle"),0===t.length||0===e.length)return;e.is(".closed")?(a(e).removeClass("closed open").addClass("closed").hide(),a(t).find(".tm-arrow").removeClass("tcfa-angle-down tcfa-angle-up").addClass("tcfa-angle-down"),a(t).removeClass("toggle-header-open toggle-header-closed").addClass("toggle-header-closed")):(a(e).removeClass("closed open").addClass("open").show(),a(t).find(".tm-arrow").removeClass("tcfa-angle-down tcfa-angle-up").addClass("tcfa-angle-up"),a(t).removeClass("toggle-header-open toggle-header-closed").addClass("toggle-header-open"),i=!0),t.each(function(t,i){a(i).on("closewrap.tmtoggle",function(){n.is(".tmaccordion")&&a(e).is(".closed")||(a(e).removeClass("closed open").addClass("closed"),a(this).find(".tm-arrow").removeClass("tcfa-angle-down tcfa-angle-up").addClass("tcfa-angle-down"),a(this).removeClass("toggle-header-open toggle-header-closed").addClass("toggle-header-closed"),a(e).removeClass("tm-animated fadeIn"),n.is(".tmaccordion"),a(e).animate({height:"toggle"},100,function(){a(e).hide()}),re.trigger("tmlazy"))}),a(i).on("openwrap.tmtoggle",function(){n.is(".tmaccordion")&&a(r).not(a(this)).trigger("closewrap.tmtoggle"),a(e).removeClass("closed open").addClass("open"),a(this).find(".tm-arrow").removeClass("tcfa-angle-down tcfa-angle-up").addClass("tcfa-angle-up"),a(this).removeClass("toggle-header-open toggle-header-closed").addClass("toggle-header-open"),a(e).show().removeClass("tm-animated fadeIn").addClass("tm-animated fadeIn"),setTimeout(function(){re.trigger("tmlazy")},200),o&&n.is(".tmaccordion")&&!n.is_on_screen()&&re.tcScrollTo(a(i))}),a(i).on("click.tmtoggle",function(t){t.preventDefault(),a(e).is(".closed")?a(this).trigger("openwrap.tmtoggle"):a(this).trigger("closewrap.tmtoggle")}),a(i).find(".tm-qty").closest(".cpf_hide_element").find(".tm-epo-field").on("change.cpf",function(){a(i).trigger("openwrap.tmtoggle")})})}}),void 0===t.tc_accordion_closed_on_page_load&&!i&&e.filter(".tmaccordion").length>0&&e.filter(".tmaccordion").first().find(".tm-toggle").trigger("openwrap.tmtoggle"),o=1,e}),a().tmpoplink||(a.fn.tmpoplink=function(){var t,e=this;if(0!==e.length)return t=function(t){return a.epoAPI.template.html(Gt.template("tc-cart-options-popup"),{title:t.title,id:t.id,html:t.html,close:Xt.i18n_close})},e.each(function(){var e,i,o,r,n=a(this);n.is(".tc-poplink")||(n.addClass("tc-poplink"),e=a(this).attr("href"),i=a(this).attr("data-title"),o=a(e).html(),i||(i=Xt.i18n_addition_options),r=t({id:"temp_for_floatbox_insert",html:o,title:i}),n.on("click.tmpoplink",function(t){a.tcFloatBox({fps:1,ismodal:!1,refresh:100,width:"80%",height:"80%",classname:"flasho tm_wrapper",data:r}),t.preventDefault()}))})}),(Zt=function(t,e,a){return this.this_epo_totals_container=t,this.is_quickview=e,this.main_cart=a,!(e||!Xt.floating_totals_box||"disable"===Xt.floating_totals_box||!a||!t.length)&&(this.init(),this)}).prototype={constructor:Zt,onUpdate:function(){var t,e,i=this.this_epo_totals_container.data("tm-html"),o=this.this_epo_totals_container.data("tm-floating-box-data"),r=[];o&&o.length&&a.each(o,function(t,e){""===e.title&&(e.title="&nbsp;"),""===e.value&&(e.value="&nbsp;"),e.title?(e.title=a("<div>"+e.title+"</div>"),e.title.find("span").remove(),e.title=e.title.html()):e.title="&nbsp;",this.is_nks&&(""!==e.label_show&&(e.title=""),""!==e.value_show&&(e.value="")),r.push({label_show:e.label_show,value_show:e.value_show,title:e.title,value:e.value,quantity:e.quantity,price:l(e.price,this.this_epo_totals_container,!0,!1)})}),i&&""!==i||this.is_nks||(i="",this.floatingBox.hide()),r&&!r.length&&r.push({label_show:"hidden",value_show:"hidden",title:"",value:"",quantity:0,price:0}),t=a.epoAPI.template.html(this.engineTemplate,{html_before:Xt.floating_totals_box_html_before,html_after:Xt.floating_totals_box_html_after,option_label:Xt.i18n_option_label,option_value:Xt.i18n_option_value,option_qty:Xt.i18n_option_qty,option_price:Xt.i18n_option_price,values:r,totals:i}),this.floatingBox.html(t),this.onUpdateScroll(),"yes"===Xt.floating_totals_box_add_button&&(e=this.main_cart.find($t.addToCartButtonSelector).first()).tcClone().addClass("tc-add-to-cart-button").on("click",function(){e.trigger("click")}).appendTo(this.floatingBox)},onUpdateScroll:function(){"always"!==Xt.floating_totals_box_visibility?re.scrollTop()>a.epoAPI.math.toFloat(Xt.floating_totals_box_pixels)||this.is_nks_alt?this.floatingBox.is(":hidden")&&!this.floatingBox.is(":empty")||this.is_nks_alt?!1===this.is_nks?this.floatingBox.fadeIn():this.floatingBox.show():!this.floatingBox.is(":hidden")&&this.floatingBox.is(":empty")&&(!1===this.is_nks?this.floatingBox.fadeOut():this.floatingBox.hide()):this.floatingBox.is(":hidden")||(!1===this.is_nks?this.floatingBox.fadeOut():this.floatingBox.hide()):this.floatingBox.show()},addEvents:function(){this.onUpdate(),this.main_cart.on("tm-epo-after-update",this.onUpdate.bind(this)),!1===this.is_nks&&re.on("scroll",this.onUpdateScroll.bind(this))},init:function(){this.floatingBox=a('<div class="tm-floating-box '+Xt.floating_totals_box+'"></div>'),this.nks_selector=a(".tm-floating-box-nks").first(),this.alt_selector=a(".tm-floating-box-alt").first(),this.engineTemplate=$t.templateEngine.tc_floating_box,this.is_nks=!1,this.is_nks_alt=!1,this.nks_selector.length>0?(this.is_nks=!0,this.floatingBox.removeClass("top left right bottom").appendTo(this.nks_selector).show()):this.alt_selector.length>0?this.floatingBox.removeClass("top left right bottom").appendTo(this.alt_selector).hide():this.floatingBox.appendTo("body").hide(),(this.nks_selector.length>0||this.alt_selector.length>0)&&(this.is_nks_alt=!0,this.engineTemplate=$t.templateEngine.tc_floating_box_nks),this.addEvents()}},a.tcFloatingTotalsBox=function(t,e,a){var i=!1;return t&&t.length&&void 0===t.data("tcfloatingtotalsbox")&&(i=new Zt(t,e,a),t.data("tcfloatingtotalsbox",i)),i},a.tc_product_image={},a.tc_product_image_store={},a.tc_replace_object_values=function(t,e){return Object.keys(t).forEach(function(a){Object.keys(t[a]).forEach(function(i){void 0!==e[a]&&void 0!==e[a][i]&&Object.prototype.hasOwnProperty.call(e[a],i)&&(t[a][i]=e[a][i])})}),t},a.tc_maybe_copy_object_values=function(t,e){return Object.keys(e).forEach(function(a){Object.keys(e[a]).forEach(function(i){void 0===e[a]||!Object.prototype.hasOwnProperty.call(e[a],i)||void 0===e[a][i]||void 0!==t[a]&&void 0!==t[a][i]||(void 0===t[a]&&(t[a]={}),t[a][i]=e[a][i])})}),t},a.tc_pre_populate_store=function(){var t={};return t[0]={},t[1]={},t[2]={},t[3]={},t[0].src="",t[0].srcset="",t[0].sizes="",t[0].title="",t[0].alt="",t[0]["data-src"]="",t[0]["data-large_image"]="",t[0]["data-large_image_width"]="",t[0]["data-large_image_height"]="",t[1]["data-thumb"]="",t[2].src="",t[3].href="",t[3].title="",t},a.tc_populate_store=function(t,e){var a=e.find(".flex-control-nav li:eq(0) img"),i=e.find(".woocommerce-product-gallery__wrapper ").find(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),o=t,r=t.closest("a"),n={};return n[0]={},n[1]={},n[2]={},n[3]={},n[0].src=o.attr("src"),n[0].srcset=o.attr("srcset"),n[0].sizes=o.attr("sizes"),n[0].title=o.attr("title"),n[0].alt=o.attr("alt"),n[0]["data-src"]=o.attr("data-src"),n[0]["data-large_image"]=o.attr("data-large_image"),n[0]["data-large_image_width"]=o.attr("data-large_image_width"),n[0]["data-large_image_height"]=o.attr("data-large_image_height"),n[1]["data-thumb"]=i.attr("data-thumb"),n[2].src=a.attr("src"),n[3].href=r.attr("href"),n[3].title=r.attr("title"),n},a.tc_maybe_copy_object_values_from_img=function(t,e,i){var o,r,n=i.find(".flex-control-nav li:eq(0) img"),c=[["src","srcset","sizes","title","alt","data-src","data-large_image","data-large_image_width","data-large_image_height","large-image"],["data-thumb"],["src"],["href","title"]];return[e,i.find(".woocommerce-product-gallery__wrapper ").find(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),n,e.closest("a")].forEach(function(e,i){void 0!==e&&void 0!==e[0]&&(o=e[0].attributes,a.each(o,function(){this.specified&&(r=this.name,-1!==a.inArray(r,c[i])&&(void 0===t[i]||void 0!==t[i]&&void 0===t[i][r])&&(void 0===t[i]&&(t[i]={}),t[i][r]=this.value))}))}),t},a.fn.tc_set_attr=function(t,e,i){void 0===i&&(i=0),(void 0===a.tc_product_image[i]||void 0!==a.tc_product_image[i]&&void 0===a.tc_product_image[i][t])&&(void 0===a.tc_product_image[i]&&(a.tc_product_image[i]={}),a.tc_product_image[i][t]="",this.attr(t)&&(a.tc_product_image[i][t]=this.attr(t))),!1===e?this.removeAttr(t):this.attr(t,e)},a.fn.tc_reset_attr=function(t,e){void 0===e&&(e=0),void 0!==a.tc_product_image[e]&&(void 0!==a.tc_product_image[e][t]&&this.attr(t,a.tc_product_image[e][t]),delete a.tc_product_image[e][t])},a.fn.tc_update_attr=function(t,e){void 0===e&&(e=0),void 0!==a.tc_product_image[e]&&(a.tc_product_image[e][t]=this.attr(t))},a.fn.tc_image_update=function(t,e){var i,o,r,n,c=a(t),l=this,d=a(e),s=l.data("epo_object"),p=s.main_product.closest("#product-"+s.product_id),m=p;p.length<=0&&(m=s.main_product.closest(".post-"+s.product_id)),c.is("select")&&(c=c.children("option:selected")),i=c.data("image-variations"),r=(o=""!==Xt.tm_epo_global_product_image_selector?a(Xt.tm_epo_global_product_image_selector):m.find("a.woocommerce-main-image img, img.woocommerce-main-image,a img").not(".thumbnails img,.product_list_widget img,img.emoji,a.woocommerce-product-gallery__trigger img").first()).closest("a"),o.length>1&&(o=o.first()),c&&i&&d.length>0?(d.removeAttr("data-o_src").removeAttr("data-o_title").removeAttr("data-o_alt").removeAttr("data-o_srcset").removeAttr("data-o_sizes").removeAttr("srcset").removeAttr("sizes"),n=i.imagep,i.imagep.image_link||(n=i.image),d.attr("title",n.image_title),d.attr("alt",n.image_alt),n.image_srcset&&d.attr("srcset",n.image_srcset),n.image_sizes&&d.attr("sizes",n.image_sizes),o.tc_set_attr("title",n.image_title),o.tc_set_attr("alt",n.image_alt),o.tc_set_attr("data-large-image",n.image_link),o.data.wc27_zoom_target&&(o.data.wc27_zoom_target.tc_set_attr("data-thumb",n.image_link),m.find(".flex-control-nav li:eq(0) img").tc_set_attr("src",n.image_link)),r.tc_set_attr("href",n.image_link),r.tc_set_attr("title",n.image_caption)):(o.tc_reset_attr("title"),o.tc_reset_attr("alt"),o.tc_reset_attr("data-large-image"),o.data.wc27_zoom_target&&(o.data.wc27_zoom_target.tc_reset_attr("data-thumb"),m.find(".flex-control-nav li:eq(0) img").tc_reset_attr("src")),r.tc_reset_attr("href"),r.tc_reset_attr("title"))},a.fn.tm_find_matching_variations=function(t,e){var i,o,r=[];if(t)for(i=0;i<t.length;i+=1)o=t[i],a.fn.tm_variations_match(o.attributes,e)&&r.push(o);return r},a.fn.tm_variations_match=function(t,e){var a,i,o=!0;return Object.keys(t).forEach(function(r){Object.prototype.hasOwnProperty.call(t,r)&&(a=t[r],i=e[r],void 0!==a&&void 0!==i&&0!==a.length&&0!==i.length&&a!==i&&(o=!1))}),o},a().tclightbox||(a.fn.tclightbox=function(){var t=this;if(0!==t.length)return t.each(function(){var t,e,i,o,r,n,c=a(this);c.is(".tcinit")||(t=c.attr("src")||c.attr("data-original"),i=(e=c.closest("label")).closest(".tmcp-field-wrap").find(".tm-epo-field[id='"+e.attr("for")+"']"),(t=i.attr("data-imagel")||i.attr("data-imagep")||i.attr("data-image")||t)&&(c.addClass("tcinit").before(a.epoAPI.template.html($t.templateEngine.tc_lightbox,{})),o=c.prev(),c.wrap("<div class='tc-lightbox-image-wrap'/>"),c.after(o),r=o.find(".tc-lightbox-button"),(n=new Image).src=t,n.onload=function(){r.addClass("tcinit").on("click.tclightbox",function(e){var i,o;a(".tc-closing.tc-lightbox").length>0||(i=a.epoAPI.dom.size(),o=a("<img>").addClass("tc-lightbox-img").attr("src",t).css("maxHeight",i.visibleHeight+"px").css("maxWidth",i.visibleWidth+"px"),a.tcFloatBox({fps:1,ismodal:!1,refresh:"fixed",width:"auto",height:"auto",top:"0%",left:"0%",classname:"flasho tc-lightbox",animateIn:"tc-lightbox-zoomIn",animateOut:"tc-lightbox-zoomOut",data:a.epoAPI.template.html($t.templateEngine.tc_lightbox_zoom,{img:o[0].outerHTML}),zIndex:102001,cancelClass:".tc-lightbox-img, .tc-lightbox-button-close",unique:!0}),e.preventDefault())})}))})}),a().tmsectionpoplink||(a.fn.tmsectionpoplink=function(){var t=this;if(0!==t.length)return t.each(function(){var t,e,i,o,r,n,c=a(this);c.data("tmsectionpoplink")||(c.data("tmsectionpoplink",!0),t=c.attr("data-sectionid"),e=Xt.i18n_addition_options,i=c.closest(".cpf-section[data-uniqid='"+t+"']"),o=!1,r=a('<div class="fl-overlay"></div>').css({zIndex:parseInt(c.zIndex,10)-1,opacity:.8}),n=function(){var t=a("#tm-section-pop-up");t.parents().removeClass("noanimated"),r.unbind().remove(),t.after(i),t.remove(),i.find(".tm-section-link").show(),i.find(".tm-section-pop").hide()},c.attr("data-title")&&(e=c.attr("data-title")),c.on("click.tmsectionpoplink",function(t){var c;t.preventDefault(),o=!1,r.appendTo("body").on("click",n),i.before(a.epoAPI.template.html($t.templateEngine.tc_section_pop_link,{title:e,close:Xt.i18n_close})),(c=a("#tm-section-pop-up")).find(".float_editbox").prepend(i),i.find(".tm-section-link").hide(),i.find(".tm-section-pop").show(),c.parents().addClass("noanimated"),c.find(".floatbox-cancel").on("click",function(){o||(o=!0,n())}),re.trigger("tmlazy"),re.trigger("tmsectionpoplink")}))})}),a().cpfdependson||(a.fn.cpfdependson=function(t,e,i,o){var r=this,n=0;if(0!==r.length&&"object"==typeof t)return e||(e="show"),i||(i="all"),a.each(t,function(e,i){var r,c;if("object"!=typeof t)return!0;(r=d(i.element))&&r.length>0&&(r.each(function(t,e){var i,r,n=a(e),l="change.cpflogic";c||(i=".tm-product-id-"+n.closest(".tc-extra-product-options").attr("data-product-id"),r="[data-epo-id='"+n.closest(".tc-extra-product-options").attr("data-epo-id")+"']",c=a(".tc-extra-product-options"+i+r)),e&&n.length>0&&(!n.data("tmhaslogicevents")||o)&&(n.is(".tm-epo-variation-element")?(u("found_variation.tmlogic",!1,function(){x(c),re.trigger("tm-do-epo-update")}),u("hide_variation.tmlogic",!1,function(){x(c),re.trigger("tm-do-epo-update")})):((n.is(":text")||n.is("textarea"))&&(l="change.cpflogic input.cpflogic"),n.off(l).on(l,function(){x(c)})),n.data("tmhaslogicevents",1))}),n=parseInt(n,10)+1)}),r.each(function(){var o=a(this),r=!1;switch(o.data("matches",n).data("toggle",e).data("what",i).data("fields",t),e){case"show":r=!1;break;case"hide":r=!0}r?o.removeClass("tc-hidden"):o.addClass("tc-hidden"),o.data("isactive",r)}),r.addClass("iscpfdependson").data("iscpfdependson",1),r.each(function(){a(this).addClass("is-epo-depend")})},a.fn.run_cpfdependson=function(){x()}),a.tcepo={formSubmitEvents:{},oneOptionIsSelected:{},initialActivation:{},lateFieldsPrices:{},errorObject:{}},a.tcepo.tm_init_epo=function(t,e,a,i){Ut(t,e,a,i)},re.on("tc_manual_init",function(t,e){var a;"container"in e&&"reactivate"in e&&(a=e.reactivate,e=e.container),Jt(e,a)}),ne.ready(function(){$t=a.epoAPI.applyFilter("tc_api",$t),re.on("lazyLoadXToncomplete",function(){a(".tm-owl-slider").each(function(){a(this).trigger("refresh.owl.carousel")})}),re.on("tc_init_epo_plugin",function(t){Rt()}),re.on("tcShowLastError",function(){t.console.log(Qt)}),a(".ajax_add_to_cart").on("click.tcajax",function(){Wt=a(this)}),a.ajaxPrefilter(function(t,e){var i,o,r,n,c,l,d,s,p,m,_,f,u,g=!1;if("yes"===Xt.tm_epo_enable_in_shop&&(i=t.url.split("?"))&&i.length>=1&&(i=i[1])){for(o=i.split("&"),r=0;r<o.length;r+=1)(n=o[r].split("=")).length>=1&&n[0]&&n[1]&&"wc-ajax"===n[0]&&"add_to_cart"===n[1]&&(g=!0);g&&(t.originalsuccess=t.success,t.success=function(i){i&&i.error&&i.product_url?(Wt&&1===Wt.length&&(c=Wt),(c=a(".ajax_add_to_cart[data-product_id='"+e.data.product_id+"']")).removeClass("added"),c.removeClass("loading")):t.originalsuccess.call(null,i)})}FormData&&e.data&&(l=e.data,"string"==typeof e.data&&(l=a.epoAPI.util.parseParams(e.data)),d=[],e.url&&e.url.indexOf&&(d=a.epoAPI.util.parseParams(e.url.slice(e.url.indexOf("?")+1))),"quantity"in l&&(l.product_id||l["add-to-cart"]||d.product_id||d["add-to-cart"]||l.tcaddtocart)&&(s=l.product_id||l["add-to-cart"]||d.product_id||d["add-to-cart"]||l.tcaddtocart,(p=Wt&&1===Wt.length&&1===Wt.closest(".tm-has-options").length?Wt.closest(".tm-has-options").find(".tc-extra-product-options.tm-product-id-"+s):a(".tc-extra-product-options.tm-product-id-"+s)).length>1&&(p=p.filter(".formepo")?p.filter(".formepo"):p.first()),1===p.length&&(_={tcajax:1,tcaddtocart:s,cpf_product_price:a(".tc-totals-form.tm-product-id-"+s).find(".cpf-product-price").val()},(m=a(".tc-totals-form.tm-product-id-"+s).find(".tc_form_prefix").val())&&(_.tc_form_prefix=m),t.data=a.epoAPI.util.parseParams(t.data,!0),t.data=a.extend(t.data,p.tcSerializeObject(),_),f=t.data,u=new FormData,Object.keys(f).forEach(function(t){u.append(t,f[t])}),p.find(":file").toArray().forEach(function(t){for(r=0;r<a(t)[0].files.length;r++)u.append(a(t).attr("name"),a(t)[0].files[r])}),t.data=u,t.contentType=!1,t.cache=!1,t.processData=!1)))}),ne.ajaxSuccess(function(t,e,i){var o,r,n,c,l,d,s,p=Xt.quickview_array||"null",m=Xt.quickview_container||"null",_={},f=1;a(".tm-formepo-normal").remove(),a(".tm-formepo").remove(),a(".tm-cart-link").tmpoplink(),p=a.epoAPI.util.parseJSON(p),m=a.epoAPI.util.parseJSON(m);for(o in m)Object.prototype.hasOwnProperty.call(m,o)&&(_[m[o][0]]=a(m[o][1]));a.extend(p,_),Object.keys(p).forEach(function(t){l=!1,r=a(p[t]),"woodmart_quick_shop"===t&&"woodmart_quick_shop"===(s=a.epoAPI.util.parseParams(i.url)).action&&(d=a(a.epoAPI.util.escapeSelector(p[t]+".post-"+s.id))).length&&(r=d,l=!0),"woodmart_quick_view"===t&&"woodmart_quick_view"===(s=a.epoAPI.util.parseParams(i.url)).action&&(d=a(a.epoAPI.util.escapeSelector(p[t]+".post-"+s.id))).length&&(r=d,l=!0),"quickview_pro"===t&&(s=i.url.split("/")).length&&(d=a(a.epoAPI.util.escapeSelector(p[t]+" .post-"+s[s.length-1]))).length&&(r=d,l=!0),"wp_food"!==t&&"jet_popup_get_content"!==t||(l=!0),"woofood"===t&&i.data&&"woofood_quickview_ajax"===(s=a.epoAPI.util.parseParams(i.data)).action&&(d=d=r.find("form").parent()).length&&(r=d,l=!0),0===r.find(".product").length&&r.is(".product")&&(l=!0),"yith_quick_view_plugin"!==t&&r.length&&(r.find(".product").length>0||l)&&(r.removeClass("tc-init"),"fusion_quick_view_load"!==t&&"jet_popup_get_content"!==t&&"wp_food"!==t&&"woodmart_quick_shop"!==t&&"woodmart_quick_view"!==t&&"lightboxpro"!==t&&"jckqv_quick_view"!==t&&"yith_quick_view_plugin"!==t&&"theme_flatsome"!==t||(ie=!0),ae=r,"fusion_quick_view_load"===t&&(f=1400),setTimeout(function(){n=ae.find($t.epoSelector).attr("data-product-id"),c=ae.find($t.epoSelector).attr("data-epo-id"),"woodmart_quick_shop"===t&&r.addClass("has-options"),$t.getElementFromFieldCache=[],Ut(ae,!0,n,c),re.trigger("tmlazy"),re.trigger("tm_epo_loaded_quickview"),a.jMaskGlobals&&ae.find(a.jMaskGlobals.maskElements).each(function(){var t=a(this);t.attr("data-mask")&&t.mask(t.attr("data-mask"))})},f))})}),Rt(),a(".tm-cart-link").tmpoplink(),oe.on("updated_checkout",function(){a(".tm-cart-link").tmpoplink()}),re.trigger("tmlazy"),re.trigger("tm_epo_loaded")}),ne.ready(function(){ne.on("click",".quantity .jckqv-qty-spinner, .quantity .ui-spinner-button",function(){a(this).closest(".quantity").find("input.qty").trigger("change")}),oe.on("sober_quickview_opened",function(){var t,e;t=(ae=a("#quick-view-modal")).find($t.epoSelector).attr("data-product-id"),e=ae.find($t.epoSelector).attr("data-epo-id"),Ut(ae,!0,t,e),re.trigger("tmlazy"),re.trigger("tm_epo_loaded_quickview"),a.jMaskGlobals&&ae.find(a.jMaskGlobals.maskElements).each(function(){var t=a(this);t.attr("data-mask")&&t.mask(t.attr("data-mask"))})}),a("#wholesale_form").on("submit",function(){var t=a("form.cart").find($t.addToCartSelector).val(),e=a($t.epoSelector+".tm-cart-main[data-product-id='"+t+"']").tcClone(),i=a(".tm-totals-form-main[data-product-id='"+t+"']").tcClone(),o=a("<div class='tm-hidden tm-formepo'></div>");return o.append(e),o.append(i),a(this).append(o),!0}),ne.on("click","#add_to_quote",function(t){var e,i,o;Xt&&"yes"===Xt.tm_epo_global_enable_validation&&(i=(e=a(this).parents("form")).find(".tm-epo-counter").val(),o=a($t.epoSelector+"[data-epo-id='"+i+"']"),e.length>0&&o.length>0&&!e.tc_validate().form()&&t.stopImmediatePropagation())}),a(".single_add_to_cart_button.paypal_checkout_button").on("click",function(t){var e=a(".cart");e.data("tc_validator")&&e.data("tc_validator").errorList&&t.stopImmediatePropagation()}),a(".wc-product-table").on("init.wcpt",function(e,i){i.$table.find($t.epoSelector).addClass("hidden"),i.$table.find("thead tr").append("<th>&nbsp;</th>"),setTimeout(function(){i.$table.find(".cart:not(.cart_group)").each(function(){var e=a(this).find($t.epoSelector),i=e.closest("tr");a("<td class='wc-product-table-epo'></td>").appendTo(i).append(e),a(t).trigger("tc_manual_init",e),e.removeClass("hidden")})},500)})}))}(window,document,window.jQuery);